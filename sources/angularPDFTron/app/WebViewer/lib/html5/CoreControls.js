(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):
n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},
j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=function(n){return j.isFunction(n)?
n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),
j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==
t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,
t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=
c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+
r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&
n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");
return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,
u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=
n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=
j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t=
{},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==
t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==
t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||
j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==
typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=
function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?
r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,
r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+
"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;
return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&this.validate&&!this._performValidation(a,b))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&!b.silent&&this._changed&&this.change(b);this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&this.validate&&!this._performValidation(c,b))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&this.validate&&!this._performValidation(d,a))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||this.urlRoot||l();if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&!a._performValidation(c,b)&&(a=!1)}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&!b?
g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!b)this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&this._hasPushState&&b&&a.hash)this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.iframe.location.hash));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),!0})},
navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=function(a){this.cid=
f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);return a},delegateEvents:function(a){if(a||
(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&b&&(a=="create"||a=="update"))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||xhr.status>=200&&
xhr.status<300||xhr.status==304||xhr.status==1223||browser.safari&&xhr.status==undefined}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;
while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();
var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=ieWebViewLocal;exports.utils.isEdge=navigator.userAgent.match(/Edge/i)?
true:false;exports.busyLoop=function(step,finished,sync){var start=Date.now();function nextSlice(){while(step())if(Date.now()-start>100&&!sync){start=Date.now();setTimeout(nextSlice,0);return}finished()}nextSlice()};exports.utils.mouseUpEventBug=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false;exports.utils.isChrome=function(){var opera=window.navigator.userAgent.match(/OPR/);var maxthon=window.navigator.userAgent.match(/Maxthon/);var edge=window.navigator.userAgent.match(/Edge/);return window.navigator.userAgent.match(/Chrome\/(.*?) /)&&
!opera&&!maxthon&&!edge}();var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();exports.utils.disableFormCharacterProcessing=window.navigator.userAgent.indexOf("Android")>-1;var multiplierOverride;var getCanvasMultiplier=function(){var ua=exports.navigator.userAgent.toLowerCase();var isWindowsChromeWithIssue=ua.indexOf("chrome")>-1&&ua.indexOf("windows")>-1&&chromeVersion<37;var oversampleLimit=1024*1024;return function(width,
height,zoom){if(!_.isUndefined(multiplierOverride))return multiplierOverride;var oversampleForChrome=isWindowsChromeWithIssue&&width*height<oversampleLimit&&zoom<=1.5;return oversampleForChrome?2:window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};if(window.CanvasPixelArray)window.CanvasPixelArray.prototype.set=function(arr){var l=
this.length,i=0;for(;i<l;i+=4){this[i]=arr[i];this[i+1]=arr[i+1];this[i+2]=arr[i+2];this[i+3]=255}};if(!window.Uint8ClampedArray)window.Uint8ClampedArray=window.Uint8Array;var canvasClipBug=function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,
0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=
new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=
Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml","body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=
serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&actual.indexOf(' xfa:spec="2.0.2"')>0&&actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=
serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,
null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,
isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;
if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,
0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===0;exports.utils.specialBlendSupported=result;return result}();var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||
!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}exports.utils.hasClass=function(element,cls){return(" "+element.className+" ").indexOf(" "+cls+" ")>-1};exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},
off:function(event,handler){this.applyWithArgs($(this).off,arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||ele.is("textarea")};var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};var log=function(msg){if(debug)console.log(msg)};var error=
function(msg){if(debug)console.error(msg);throw new Error(msg);};exports.utils.warn=warn;exports.utils.log=log;exports.utils.error=error;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&
_.isArray(variable)&&varname.length===variable.length){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},
false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=
properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=
val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,
B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},tm:function(mapping){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,y)},xcw:function(text,x,y,skip_last){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});
var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&rect1.x2>=rect2.x1&&rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)return true;return false};exports.utils.getRectIntersection=
function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.utils.getRotationOffsets=function(rotation,
w,h){var dx=0,dy=0;rotation=Number(rotation);switch(rotation){case 90:dy=w;break;case 180:dx=w;dy=h;break;case 270:dx=h;break}return{dx:dx,dy:dy}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?">":"/>";
if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=
0;i<xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=
X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>
1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+
"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;
for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,
"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&subObj instanceof Object&&subObj.__text==null)if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode)}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
window.webkitIndexedDB||window.mozIndexedDB||window.oIndexedDB||window.msIndexedDB;if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);function createPromiseCapability(){var capability={};capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve;capability.reject=reject});return capability}
(function PromiseClosure(exports){if(exports.Promise){if(typeof exports.Promise.all!=="function")exports.Promise.all=function(iterable){var count=0,results=[],resolve,reject;var promise=new exports.Promise(function(resolve_,reject_){resolve=resolve_;reject=reject_});iterable.forEach(function(p,i){count++;p.then(function(result){results[i]=result;count--;if(count===0)resolve(results)},reject)});if(count===0)resolve(results);return promise};if(typeof exports.Promise.resolve!=="function")exports.Promise.resolve=
function(value){return new exports.Promise(function(resolve){resolve(value)})};if(typeof exports.Promise.reject!=="function")exports.Promise.reject=function(reason){return new exports.Promise(function(resolve,reject){reject(reason)})};if(typeof exports.Promise.prototype["catch"]!=="function")exports.Promise.prototype["catch"]=function(onReject){return exports.Promise.prototype.then(undefined,onReject)};return}var STATUS_PENDING=0;var STATUS_RESOLVED=1;var STATUS_REJECTED=2;var REJECTION_TIMEOUT=500;
var asap=typeof setImmediate==="function"&&setImmediate||function(fn){setTimeout(fn,1)};var HandlerManager={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function scheduleHandlers(promise){if(promise._status===STATUS_PENDING)return;this.handlers=this.handlers.concat(promise._handlers);promise._handlers=[];if(this.running)return;this.running=true;asap(this.runHandlers.bind(this),0)},runHandlers:function runHandlers(){var RUN_TIMEOUT=1;var timeoutAt=Date.now()+
RUN_TIMEOUT;while(this.handlers.length>0){var handler=this.handlers.shift();var nextStatus=handler.thisPromise._status;var nextValue=handler.thisPromise._value;try{if(nextStatus===STATUS_RESOLVED){if(typeof handler.onResolve==="function")nextValue=handler.onResolve(nextValue)}else if(typeof handler.onReject==="function"){nextValue=handler.onReject(nextValue);nextStatus=STATUS_RESOLVED;if(handler.thisPromise._unhandledRejection)this.removeUnhandeledRejection(handler.thisPromise)}}catch(ex){nextStatus=
STATUS_REJECTED;nextValue=ex}handler.nextPromise._updateStatus(nextStatus,nextValue);if(Date.now()>=timeoutAt)break}if(this.handlers.length>0){asap(this.runHandlers.bind(this),0);return}this.running=false},addUnhandledRejection:function addUnhandledRejection(promise){this.unhandledRejections.push({promise:promise,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function removeUnhandeledRejection(promise){promise._unhandledRejection=false;for(var i=0;i<this.unhandledRejections.length;i++)if(this.unhandledRejections[i].promise===
promise){this.unhandledRejections.splice(i);i--}},scheduleRejectionCheck:function scheduleRejectionCheck(){if(this.pendingRejectionCheck)return;this.pendingRejectionCheck=true;setTimeout(function rejectionCheck(){this.pendingRejectionCheck=false;var now=Date.now();for(var i=0;i<this.unhandledRejections.length;i++)if(now-this.unhandledRejections[i].time>REJECTION_TIMEOUT){var unhandled=this.unhandledRejections[i].promise._value;var msg="Unhandled rejection: "+unhandled;if(unhandled.stack)msg+="\n"+
unhandled.stack;warn(msg);this.unhandledRejections.splice(i);i--}if(this.unhandledRejections.length)this.scheduleRejectionCheck()}.bind(this),REJECTION_TIMEOUT)}};function Promise(resolver){this._status=STATUS_PENDING;this._handlers=[];try{resolver.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(e){this._reject(e)}}Promise.all=function Promise_all(promises){var resolveAll,rejectAll;var deferred=new Promise(function(resolve,reject){resolveAll=resolve;rejectAll=reject});var unresolved=
promises.length;var results=[];if(unresolved===0){resolveAll(results);return deferred}function reject(reason){if(deferred._status===STATUS_REJECTED)return;results=[];rejectAll(reason)}for(var i=0,ii=promises.length;i<ii;++i){var promise=promises[i];var resolve=function(i){return function(value){if(deferred._status===STATUS_REJECTED)return;results[i]=value;unresolved--;if(unresolved===0)resolveAll(results)}}(i);if(Promise.isPromise(promise))promise.then(resolve,reject);else resolve(promise)}return deferred};
Promise.isPromise=function Promise_isPromise(value){return value&&typeof value.then==="function"};Promise.resolve=function Promise_resolve(value){return new Promise(function(resolve){resolve(value)})};Promise.reject=function Promise_reject(reason){return new Promise(function(resolve,reject){reject(reason)})};Promise.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function Promise__updateStatus(status,value){if(this._status===STATUS_RESOLVED||this._status===
STATUS_REJECTED)return;if(status===STATUS_RESOLVED&&Promise.isPromise(value)){value.then(this._updateStatus.bind(this,STATUS_RESOLVED),this._updateStatus.bind(this,STATUS_REJECTED));return}this._status=status;this._value=value;if(status===STATUS_REJECTED&&this._handlers.length===0){this._unhandledRejection=true;HandlerManager.addUnhandledRejection(this)}HandlerManager.scheduleHandlers(this)},_resolve:function Promise_resolve(value){this._updateStatus(STATUS_RESOLVED,value)},_reject:function Promise_reject(reason){this._updateStatus(STATUS_REJECTED,
reason)},then:function Promise_then(onResolve,onReject){var nextPromise=new Promise(function(resolve,reject){this.resolve=resolve;this.reject=reject});this._handlers.push({thisPromise:this,onResolve:onResolve,onReject:onReject,nextPromise:nextPromise});HandlerManager.scheduleHandlers(this);return nextPromise},"catch":function Promise_catch(onReject){return this.then(undefined,onReject)}};exports.Promise=Promise})(typeof window==="undefined"?this:window);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||key.length==24||key.length==32))key=forge.util.createBuffer(key);
else if(key.constructor==Array&&(key.length==16||key.length==24||key.length==32)){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||len==24||len==32){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||key.length==6||key.length==8)){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;var _output;var _inBlock;var _outBlock;
var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=0;i<Nb;++i)_output.putInt32(_outBlock[i]);
_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};cipher.start=
function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);_outBlock=
new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null)object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&i<len&&typeof object==="object"&&
object!==null){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||typeof object[next]!=="object"||object[next]===null)break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&u.setJqueryExt&&S();var a;t&&t.Deferred&&(a=t.Deferred());if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&t&&(u.useLocalStorage&&n.sync._storeLocal(r),t())})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===n.length-
1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&u.useDataAttrOptions===!0&&(r=n.data("i18n-options")),r=r||{};if(i.indexOf(";")<=
i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?p.regexEscape(r.interpolationSuffix):
u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,"");if(c.indexOf(n)!=
-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&typeof e.count!="string"&&e.count!==1}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=p.toLanguages(t.lng);
if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+e+u.pluralSuffix,g=_.get(i,
t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&!u.returnObjectTrees&&!t.returnObjectTrees)O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&!t.returnObjectTrees)O="key '"+
h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&u.fallbackToDefaultNS&&(y=A(e,t)),y===undefined&&u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l));var B=t.postProcess||u.postProcess;return y!==undefined&&B&&D[B]&&(y=D[B](y,e,t)),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!="undefined"&&(function(){var e=
window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&typeof document!="undefined"&&u.useCookie){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;
var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,
fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",
pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+"=",n=document.cookie.split(";");for(var r=
0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&typeof console!="undefined"&&console.log(e)},toLanguages:function(e){var t=[];if(typeof e=="string"&&
e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&u.fallbackLng&&t.push(u.fallbackLng),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=0,u=e.length;o<u;o++)i[e[o]]||
s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u)),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),
window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,t,r){p.log("loaded: "+
u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,url:x(u.resPostPath,
{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||{},a++},error:function(e,
t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ar:{name:"Arabic",
numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&
e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?
1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<
20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:
2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1)),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>
0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&c[3]&&u>=0?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(e,t){var n,a,o,i="._tap",c="._tapActive",r="tap",u="clientX clientY screenX screenY pageX pageY".split(" "),s={count:0,event:0},g=function(e,n){var a=n.originalEvent,o=t.Event(a);o.type=e;for(var i=0,c=u.length;c>i;i++)o[u[i]]=n[u[i]];return o},p=function(e){if(e.isTrigger)return!1;var n=s.event,a=Math.abs(e.pageX-n.pageX),o=Math.abs(e.pageY-n.pageY),i=Math.max(a,o);return e.timeStamp-n.timeStamp<t.tap.TIME_DELTA&&i<t.tap.POSITION_DELTA&&(!n.touches||1===s.count)&&T.isTracking},l=function(e){if(!o)return!1;
var n=Math.abs(e.pageX-o.pageX),a=Math.abs(e.pageY-o.pageY),i=Math.max(n,a);return Math.abs(e.timeStamp-o.timeStamp)<750&&i<t.tap.POSITION_DELTA},h=function(e){if(0===e.type.indexOf("touch")){e.touches=e.originalEvent.changedTouches;for(var t=e.touches[0],n=0,a=u.length;a>n;n++)e[u[n]]=t[u[n]]}e.timeStamp=Date.now?Date.now():+new Date},T={isEnabled:!1,isTracking:!1,enable:function(){T.isEnabled||$.event.special.tap||(T.isEnabled=!0,n=t(e.body).on("touchstart"+i,T.onStart).on("mousedown"+i,T.onStart).on("click"+
i,T.onClick))},disable:function(){T.isEnabled&&(T.isEnabled=!1,n.off(i))},onStart:function(e){e.isTrigger||(h(e),(!t.tap.LEFT_BUTTON_ONLY||e.touches||1===e.which)&&(e.touches&&(s.count=e.touches.length),T.isTracking&&T.onCancel(e),(e.touches||!l(e))&&(T.isTracking=!0,s.event=e,e.touches?(o=e,n.on("touchend"+i+c,T.onEnd).on("touchcancel"+i+c,T.onCancel)):n.on("mouseup"+i+c,T.onEnd))))},onEnd:function(e){var n;e.isTrigger||(h(e),p(e)&&(n=g(r,e),a=n,t(s.event.target).trigger(n)),T.onCancel(e))},onCancel:function(e){e&&
"touchcancel"===e.type&&e.preventDefault(),T.isTracking=!1,n.off(c)},onClick:function(e){return!e.isTrigger&&a&&a.isDefaultPrevented()&&a.target===e.target&&a.pageX===e.pageX&&a.pageY===e.pageY&&e.timeStamp-a.timeStamp<750?(a=null,!1):void 0}};t(e).ready(T.enable),t.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){function a(){return Dc.apply(null,arguments)}function b(a){Dc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,
b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return za(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&
!b.invalidMonth&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(0/0);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=
typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Fc.length>0)for(c in Fc)d=Fc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(+b._d),Gc===!1&&(Gc=!0,a.updateOffset(this),Gc=!1)}function o(a){return a instanceof n||null!=a&&null!=
a._isAMomentObject}function p(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function q(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&p(a[d])!==p(b[d]))&&g++;return g+f}function r(){}function s(a){return a?a.toLowerCase().replace("_","-"):a}function t(a){for(var b,c,d,e,f=0;f<a.length;){for(e=s(a[f]).split("-"),b=e.length,c=s(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=u(e.slice(0,b).join("-")))return d;
if(c&&c.length>=b&&q(e,c,!0)>=b-1)break;b--}f++}return null}function u(a){var b=null;if(!Hc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ec._abbr,require("./locale/"+a),v(b)}catch(c){}return Hc[a]}function v(a,b){var c;return a&&(c="undefined"==typeof b?x(a):w(a,b),c&&(Ec=c)),Ec._abbr}function w(a,b){return null!==b?(b.abbr=a,Hc[a]||(Hc[a]=new r),Hc[a].set(b),v(a),Hc[a]):(delete Hc[a],null)}function x(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ec;if(!c(a)){if(b=
u(a))return b;a=[a]}return t(a)}function y(a,b){var c=a.toLowerCase();Ic[c]=Ic[c+"s"]=Ic[b]=a}function z(a){return"string"==typeof a?Ic[a]||Ic[a.toLowerCase()]:void 0}function A(a){var b,c,d={};for(c in a)f(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b,c){return function(d){return null!=d?(D(this,b,d),a.updateOffset(this,c),this):C(this,b)}}function C(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function D(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function E(a,b){var c;if("object"==
typeof a)for(c in a)this.set(c,a[c]);else if(a=z(a),"function"==typeof this[a])return this[a](b);return this}function F(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function G(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Mc[a]=e),b&&(Mc[b[0]]=function(){return F(e.apply(this,arguments),b[1],b[2])}),c&&(Mc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function H(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,
""):a.replace(/\\/g,"")}function I(a){var b,c,d=a.match(Jc);for(b=0,c=d.length;c>b;b++)Mc[d[b]]?d[b]=Mc[d[b]]:d[b]=H(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function J(a,b){return a.isValid()?(b=K(b,a.localeData()),Lc[b]||(Lc[b]=I(b)),Lc[b](a)):a.localeData().invalidDate()}function K(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kc.lastIndex=0;d>=0&&Kc.test(a);)a=a.replace(Kc,c),Kc.lastIndex=0,d-=1;return a}function L(a,
b,c){_c[a]="function"==typeof b?b:function(a){return a&&c?c:b}}function M(a,b){return f(_c,a)?_c[a](b._strict,b._locale):new RegExp(N(a))}function N(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function O(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=p(a)}),c=0;c<a.length;c++)ad[a[c]]=d}function P(a,b){O(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,
d,e)})}function Q(a,b,c){null!=b&&f(ad,a)&&ad[a](b,c._a,c,a)}function R(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function S(a){return this._months[a.month()]}function T(a){return this._monthsShort[a.month()]}function U(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function V(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),R(a.year(),b)),a._d["set"+
(a._isUTC?"UTC":"")+"Month"](b,c),a)}function W(b){return null!=b?(V(this,b),a.updateOffset(this,!0),this):C(this,"Month")}function X(){return R(this.year(),this.month())}function Y(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[cd]<0||c[cd]>11?cd:c[dd]<1||c[dd]>R(c[bd],c[cd])?dd:c[ed]<0||c[ed]>24||24===c[ed]&&(0!==c[fd]||0!==c[gd]||0!==c[hd])?ed:c[fd]<0||c[fd]>59?fd:c[gd]<0||c[gd]>59?gd:c[hd]<0||c[hd]>999?hd:-1,j(a)._overflowDayOfYear&&(bd>b||b>dd)&&(b=dd),j(a).overflow=b),a}function Z(b){a.suppressDeprecationWarnings===
!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function $(a,b){var c=!0,d=a+"\n"+(new Error).stack;return g(function(){return c&&(Z(d),c=!1),b.apply(this,arguments)},b)}function _(a,b){kd[a]||(Z(b),kd[a]=!0)}function aa(a){var b,c,d=a._i,e=ld.exec(d);if(e){for(j(a).iso=!0,b=0,c=md.length;c>b;b++)if(md[b][1].exec(d)){a._f=md[b][0]+(e[6]||" ");break}for(b=0,c=nd.length;c>b;b++)if(nd[b][1].exec(d)){a._f+=nd[b][0];break}d.match(Yc)&&(a._f+="Z"),ta(a)}else a._isValid=
!1}function ba(b){var c=od.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(aa(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ca(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ea(a){return fa(a)?366:365}function fa(a){return a%4===0&&a%100!==0||a%400===0}function ga(){return fa(this.year())}function ha(a,b,c){var d,
e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Aa(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ia(a){return ha(a,this._week.dow,this._week.doy).week}function ja(){return this._week.dow}function ka(){return this._week.doy}function la(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function ma(a){var b=ha(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function na(a,b,c,d,e){var f,g,h=da(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=
c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:ea(a-1)+g}}function oa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")}function pa(a,b,c){return null!=a?a:null!=b?b:c}function qa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ra(a){var b,c,d,e,f=[];if(!a._d){for(d=qa(a),a._w&&null==a._a[dd]&&null==
a._a[cd]&&sa(a),a._dayOfYear&&(e=pa(a._a[bd],d[bd]),a._dayOfYear>ea(e)&&(j(a)._overflowDayOfYear=!0),c=da(e,0,a._dayOfYear),a._a[cd]=c.getUTCMonth(),a._a[dd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[ed]&&0===a._a[fd]&&0===a._a[gd]&&0===a._a[hd]&&(a._nextDay=!0,a._a[ed]=0),a._d=(a._useUTC?da:ca).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[ed]=24)}}function sa(a){var b,
c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=pa(b.GG,a._a[bd],ha(Aa(),1,4).year),d=pa(b.W,1),e=pa(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=pa(b.gg,a._a[bd],ha(Aa(),f,g).year),d=pa(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=na(c,d,e,g,f),a._a[bd]=h.year,a._dayOfYear=h.dayOfYear}function ta(b){if(b._f===a.ISO_8601)return void aa(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=K(b._f,b._locale).match(Jc)||[],c=0;c<e.length;c++)f=e[c],
d=(h.match(M(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Mc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),Q(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[ed]<=12&&b._a[ed]>0&&(j(b).bigHour=void 0),b._a[ed]=ua(b._locale,b._a[ed],b._meridiem),ra(b),Y(b)}function ua(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,
c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function va(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],ta(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function wa(a){if(!a._d){var b=A(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ra(a)}}function xa(a){var b,
e=a._i,f=a._f;return a._locale=a._locale||x(a._l),null===e||void 0===f&&""===e?l({nullInput:!0}):("string"==typeof e&&(a._i=e=a._locale.preparse(e)),o(e)?new n(Y(e)):(c(f)?va(a):f?ta(a):d(e)?a._d=e:ya(a),b=new n(Y(a)),b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b))}function ya(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?ba(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ra(b)):"object"==typeof f?wa(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}
function za(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,xa(f)}function Aa(a,b,c,d){return za(a,b,c,d,!1)}function Ba(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Aa();for(d=b[0],e=1;e<b.length;++e)b[e][a](d)&&(d=b[e]);return d}function Ca(){var a=[].slice.call(arguments,0);return Ba("isBefore",a)}function Da(){var a=[].slice.call(arguments,0);return Ba("isAfter",a)}function Ea(a){var b=
A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1E3*j+6E4*i+36E5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=x(),this._bubble()}function Fa(a){return a instanceof Ea}function Ga(a,b){G(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+F(~~(a/60),2)+b+F(~~a%60,2)})}function Ha(a){var b=(a||"").match(Yc)||[],c=b[b.length-1]||[],d=(c+"").match(td)||["-",
0,0],e=+(60*d[1])+p(d[2]);return"+"===d[0]?e:-e}function Ia(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Aa(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Aa(b).local();return c._isUTC?Aa(b).zone(c._offset||0):Aa(b).local()}function Ja(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Ka(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ha(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ja(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,
"m"),e!==b&&(!c||this._changeInProgress?$a(this,Va(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ja(this)}function La(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Ma(a){return this.utcOffset(0,a)}function Na(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ja(this),"m")),this}function Oa(){return this._tzm?this.utcOffset(this._tzm):
"string"==typeof this._i&&this.utcOffset(Ha(this._i)),this}function Pa(a){return a=a?Aa(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Qa(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ra(){if(this._a){var a=this._isUTC?h(this._a):Aa(this._a);return this.isValid()&&q(this._a,a.toArray())>0}return!1}function Sa(){return!this._isUTC}function Ta(){return this._isUTC}function Ua(){return this._isUTC&&0===this._offset}function Va(a,
b){var c,d,e,g=a,h=null;return Fa(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=ud.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:p(h[dd])*c,h:p(h[ed])*c,m:p(h[fd])*c,s:p(h[gd])*c,ms:p(h[hd])*c}):(h=vd.exec(a))?(c="-"===h[1]?-1:1,g={y:Wa(h[2],c),M:Wa(h[3],c),d:Wa(h[4],c),h:Wa(h[5],c),m:Wa(h[6],c),s:Wa(h[7],c),w:Wa(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Ya(Aa(g.from),Aa(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ea(g),
Fa(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Wa(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Xa(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Ya(a,b){var c;return b=Ia(b,a),a.isBefore(b)?c=Xa(a,b):(c=Xa(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function Za(a,b){return function(c,d){var e,
f;return null===d||isNaN(+d)||(_(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Va(c,d),$a(this,e,a),this}}function $a(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&D(b,"Date",C(b,"Date")+g*d),h&&V(b,C(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function _a(a){var b=a||Aa(),c=Ia(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>
d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this,Aa(b)))}function ab(){return new n(this)}function bb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this>+a):(c=o(a)?+a:+Aa(a),c<+this.clone().startOf(b))}function cb(a,b){var c;return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+a>+this):(c=o(a)?+a:+Aa(a),+this.clone().endOf(b)<c)}function db(a,b,c){return this.isAfter(a,
c)&&this.isBefore(b,c)}function eb(a,b){var c;return b=z(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Aa(a),+this===+a):(c=+Aa(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function fb(a){return 0>a?Math.ceil(a):Math.floor(a)}function gb(a,b,c){var d,e,f=Ia(a,this),g=6E4*(f.utcOffset()-this.utcOffset());return b=z(b),"year"===b||"month"===b||"quarter"===b?(e=hb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===
b?(d-g)/864E5:"week"===b?(d-g)/6048E5:d),c?e:fb(e)}function hb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function ib(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():J(a,
"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):J(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function kb(b){var c=J(this,b||a.defaultFormat);return this.localeData().postformat(c)}function lb(a,b){return this.isValid()?Va({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mb(a){return this.from(Aa(),a)}function nb(a,b){return this.isValid()?Va({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.to(Aa(),a)}function pb(a){var b;
return void 0===a?this._locale._abbr:(b=x(a),null!=b&&(this._locale=b),this)}function qb(){return this._locale}function rb(a){switch(a=z(a)){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sb(a){return a=
z(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function tb(){return+this._d-6E4*(this._offset||0)}function ub(){return Math.floor(+this/1E3)}function vb(){return this._offset?new Date(+this):this._d}function wb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xb(){return k(this)}function yb(){return g({},j(this))}function zb(){return j(this).overflow}function Ab(a,b){G(0,[a,a.length],0,
b)}function Bb(a,b,c){return ha(Aa([a,11,31+b-c]),b,c).week}function Cb(a){var b=ha(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Db(a){var b=ha(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Eb(){return Bb(this.year(),1,4)}function Fb(){var a=this.localeData()._week;return Bb(this.year(),a.dow,a.doy)}function Gb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hb(a,b){if("string"==
typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Ib(a){return this._weekdays[a.day()]}function Jb(a){return this._weekdaysShort[a.day()]}function Kb(a){return this._weekdaysMin[a.day()]}function Lb(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Aa([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",
""),"i")),this._weekdaysParse[b].test(a))return b}function Mb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Hb(a,this.localeData()),this.add(a-b,"d")):b}function Nb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ob(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Pb(a,b){G(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Qb(a,b){return b._meridiemParse}
function Rb(a){return"p"===(a+"").toLowerCase().charAt(0)}function Sb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Tb(a){G(0,[a,3],0,"millisecond")}function Ub(){return this._isUTC?"UTC":""}function Vb(){return this._isUTC?"Coordinated Universal Time":""}function Wb(a){return Aa(1E3*a)}function Xb(){return Aa.apply(null,arguments).parseZone()}function Yb(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function Zb(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&
(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b}function $b(){return this._invalidDate}function _b(a){return this._ordinal.replace("%d",a)}function ac(a){return a}function bc(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function cc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function dc(a){var b,c;for(c in a)b=a[c],
"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ec(a,b,c,d){var e=x(),f=h().set(d,b);return e[c](f,a)}function fc(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return ec(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=ec(a,f,c,e);return g}function gc(a,b){return fc(a,b,"months",12,"month")}function hc(a,b){return fc(a,b,"monthsShort",12,"month")}function ic(a,b){return fc(a,b,"weekdays",7,"day")}
function jc(a,b){return fc(a,b,"weekdaysShort",7,"day")}function kc(a,b){return fc(a,b,"weekdaysMin",7,"day")}function lc(){var a=this._data;return this._milliseconds=Rd(this._milliseconds),this._days=Rd(this._days),this._months=Rd(this._months),a.milliseconds=Rd(a.milliseconds),a.seconds=Rd(a.seconds),a.minutes=Rd(a.minutes),a.hours=Rd(a.hours),a.months=Rd(a.months),a.years=Rd(a.years),this}function mc(a,b,c,d){var e=Va(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=
d*e._months,a._bubble()}function nc(a,b){return mc(this,a,b,1)}function oc(a,b){return mc(this,a,b,-1)}function pc(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;return g.milliseconds=d%1E3,a=fb(d/1E3),g.seconds=a%60,b=fb(a/60),g.minutes=b%60,c=fb(b/60),g.hours=c%24,e+=fb(c/24),h=fb(qc(e)),e-=fb(rc(h)),f+=fb(e/30),e%=30,h+=fb(f/12),f%=12,g.days=e,g.months=f,g.years=h,this}function qc(a){return 400*a/146097}function rc(a){return 146097*a/400}function sc(a){var b,c,d=
this._milliseconds;if(a=z(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+12*qc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(rc(this._months/12)),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw new Error("Unknown unit "+a);}}function tc(){return this._milliseconds+864E5*this._days+this._months%
12*2592E6+31536E6*p(this._months/12)}function uc(a){return function(){return this.as(a)}}function vc(a){return a=z(a),this[a+"s"]()}function wc(a){return function(){return this._data[a]}}function xc(){return fb(this.days()/7)}function yc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function zc(a,b,c){var d=Va(a).abs(),e=fe(d.as("s")),f=fe(d.as("m")),g=fe(d.as("h")),h=fe(d.as("d")),i=fe(d.as("M")),j=fe(d.as("y")),k=e<ge.s&&["s",e]||1===f&&["m"]||f<ge.m&&["mm",f]||1===g&&["h"]||g<ge.h&&["hh",g]||
1===h&&["d"]||h<ge.d&&["dd",h]||1===i&&["M"]||i<ge.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,yc.apply(null,k)}function Ac(a,b){return void 0===ge[a]?!1:void 0===b?ge[a]:(ge[a]=b,!0)}function Bc(a){var b=this.localeData(),c=zc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Cc(){var a=he(this.years()),b=he(this.months()),c=he(this.days()),d=he(this.hours()),e=he(this.minutes()),f=he(this.seconds()+this.milliseconds()/1E3),g=this.asSeconds();return g?
(0>g?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}var Dc,Ec,Fc=a.momentProperties=[],Gc=!1,Hc={},Ic={},Jc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Kc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Lc={},Mc={},Nc=/\d/,Oc=/\d\d/,Pc=/\d{3}/,Qc=/\d{4}/,Rc=/[+-]?\d{6}/,Sc=/\d\d?/,Tc=/\d{1,3}/,Uc=/\d{1,4}/,Vc=/[+-]?\d{1,6}/,
Wc=/\d+/,Xc=/[+-]?\d+/,Yc=/Z|[+-]\d\d:?\d\d/gi,Zc=/[+-]?\d+(\.\d{1,3})?/,$c=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,_c={},ad={},bd=0,cd=1,dd=2,ed=3,fd=4,gd=5,hd=6;G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),G("MMMM",0,0,function(a){return this.localeData().months(this,a)}),y("month","M"),L("M",Sc),L("MM",Sc,Oc),L("MMM",$c),L("MMMM",$c),O(["M",
"MM"],function(a,b){b[cd]=p(a)-1}),O(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[cd]=e:j(c).invalidMonth=a});var id="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),kd={};a.suppressDeprecationWarnings=!1;var ld=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
md=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],nd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],od=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),y("year","y"),L("Y",Xc),L("YY",Sc,Oc),L("YYYY",Uc,Qc),L("YYYYY",Vc,Rc),L("YYYYYY",Vc,Rc),O(["YYYY","YYYYY","YYYYYY"],bd),O("YY",function(b,c){c[bd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return p(a)+(p(a)>68?1900:2E3)};var pd=B("FullYear",!1);G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),
y("week","w"),y("isoWeek","W"),L("w",Sc),L("ww",Sc,Oc),L("W",Sc),L("WW",Sc,Oc),P(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=p(a)});var qd={dow:0,doy:6};G("DDD",["DDDD",3],"DDDo","dayOfYear"),y("dayOfYear","DDD"),L("DDD",Tc),L("DDDD",Pc),O(["DDD","DDDD"],function(a,b,c){c._dayOfYear=p(a)}),a.ISO_8601=function(){};var rd=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return this>a?this:a}),sd=
$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Aa.apply(null,arguments);return a>this?this:a});Ga("Z",":"),Ga("ZZ",""),L("Z",Yc),L("ZZ",Yc),O(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ha(a)});var td=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var ud=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,vd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Va.fn=Ea.prototype;var wd=Za(1,"add"),xd=Za(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var yd=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ab("gggg","weekYear"),Ab("ggggg","weekYear"),Ab("GGGG","isoWeekYear"),
Ab("GGGGG","isoWeekYear"),y("weekYear","gg"),y("isoWeekYear","GG"),L("G",Xc),L("g",Xc),L("GG",Sc,Oc),L("gg",Sc,Oc),L("GGGG",Uc,Qc),L("gggg",Uc,Qc),L("GGGGG",Vc,Rc),L("ggggg",Vc,Rc),P(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=p(a)}),P(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),G("Q",0,0,"quarter"),y("quarter","Q"),L("Q",Nc),O("Q",function(a,b){b[cd]=3*(p(a)-1)}),G("D",["DD",2],"Do","date"),y("date","D"),L("D",Sc),L("DD",Sc,Oc),L("Do",function(a,b){return a?
b._ordinalParse:b._ordinalParseLenient}),O(["D","DD"],dd),O("Do",function(a,b){b[dd]=p(a.match(Sc)[0],10)});var zd=B("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),G("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),G("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),y("day","d"),y("weekday","e"),y("isoWeekday","E"),L("d",Sc),L("e",Sc),L("E",Sc),L("dd",$c),L("ddd",
$c),L("dddd",$c),P(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),P(["d","e","E"],function(a,b,c,d){b[d]=p(a)});var Ad="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Bd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");G("H",["HH",2],0,"hour"),G("h",["hh",2],0,function(){return this.hours()%12||12}),Pb("a",!0),Pb("A",!1),y("hour","h"),L("a",Qb),L("A",Qb),L("H",Sc),L("h",Sc),L("HH",Sc,Oc),
L("hh",Sc,Oc),O(["H","HH"],ed),O(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),O(["h","hh"],function(a,b,c){b[ed]=p(a),j(c).bigHour=!0});var Dd=/[ap]\.?m?\.?/i,Ed=B("Hours",!0);G("m",["mm",2],0,"minute"),y("minute","m"),L("m",Sc),L("mm",Sc,Oc),O(["m","mm"],fd);var Fd=B("Minutes",!1);G("s",["ss",2],0,"second"),y("second","s"),L("s",Sc),L("ss",Sc,Oc),O(["s","ss"],gd);var Gd=B("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/
10)}),Tb("SSS"),Tb("SSSS"),y("millisecond","ms"),L("S",Tc,Nc),L("SS",Tc,Oc),L("SSS",Tc,Pc),L("SSSS",Wc),O(["S","SS","SSS","SSSS"],function(a,b){b[hd]=p(1E3*("0."+a))});var Hd=B("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Id=n.prototype;Id.add=wd,Id.calendar=_a,Id.clone=ab,Id.diff=gb,Id.endOf=sb,Id.format=kb,Id.from=lb,Id.fromNow=mb,Id.to=nb,Id.toNow=ob,Id.get=E,Id.invalidAt=zb,Id.isAfter=bb,Id.isBefore=cb,Id.isBetween=db,Id.isSame=eb,Id.isValid=xb,Id.lang=yd,Id.locale=pb,Id.localeData=
qb,Id.max=sd,Id.min=rd,Id.parsingFlags=yb,Id.set=E,Id.startOf=rb,Id.subtract=xd,Id.toArray=wb,Id.toDate=vb,Id.toISOString=jb,Id.toJSON=jb,Id.toString=ib,Id.unix=ub,Id.valueOf=tb,Id.year=pd,Id.isLeapYear=ga,Id.weekYear=Cb,Id.isoWeekYear=Db,Id.quarter=Id.quarters=Gb,Id.month=W,Id.daysInMonth=X,Id.week=Id.weeks=la,Id.isoWeek=Id.isoWeeks=ma,Id.weeksInYear=Fb,Id.isoWeeksInYear=Eb,Id.date=zd,Id.day=Id.days=Mb,Id.weekday=Nb,Id.isoWeekday=Ob,Id.dayOfYear=oa,Id.hour=Id.hours=Ed,Id.minute=Id.minutes=Fd,Id.second=
Id.seconds=Gd,Id.millisecond=Id.milliseconds=Hd,Id.utcOffset=Ka,Id.utc=Ma,Id.local=Na,Id.parseZone=Oa,Id.hasAlignedHourOffset=Pa,Id.isDST=Qa,Id.isDSTShifted=Ra,Id.isLocal=Sa,Id.isUtcOffset=Ta,Id.isUtc=Ua,Id.isUTC=Ua,Id.zoneAbbr=Ub,Id.zoneName=Vb,Id.dates=$("dates accessor is deprecated. Use date instead.",zd),Id.months=$("months accessor is deprecated. Use month instead",W),Id.years=$("years accessor is deprecated. Use year instead",pd),Id.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",
La);var Jd=Id,Kd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ld={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Md="Invalid date",Nd="%d",Od=/\d{1,2}/,Pd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},
Qd=r.prototype;Qd._calendar=Kd,Qd.calendar=Yb,Qd._longDateFormat=Ld,Qd.longDateFormat=Zb,Qd._invalidDate=Md,Qd.invalidDate=$b,Qd._ordinal=Nd,Qd.ordinal=_b,Qd._ordinalParse=Od,Qd.preparse=ac,Qd.postformat=ac,Qd._relativeTime=Pd,Qd.relativeTime=bc,Qd.pastFuture=cc,Qd.set=dc,Qd.months=S,Qd._months=id,Qd.monthsShort=T,Qd._monthsShort=jd,Qd.monthsParse=U,Qd.week=ia,Qd._week=qd,Qd.firstDayOfYear=ka,Qd.firstDayOfWeek=ja,Qd.weekdays=Ib,Qd._weekdays=Ad,Qd.weekdaysMin=Kb,Qd._weekdaysMin=Cd,Qd.weekdaysShort=
Jb,Qd._weekdaysShort=Bd,Qd.weekdaysParse=Lb,Qd.isPM=Rb,Qd._meridiemParse=Dd,Qd.meridiem=Sb,v("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===p(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=$("moment.lang is deprecated. Use moment.locale instead.",v),a.langData=$("moment.langData is deprecated. Use moment.localeData instead.",x);var Rd=Math.abs,Sd=uc("ms"),Td=uc("s"),Ud=uc("m"),Vd=uc("h"),Wd=uc("d"),Xd=uc("w"),Yd=uc("M"),Zd=uc("y"),$d=wc("milliseconds"),
_d=wc("seconds"),ae=wc("minutes"),be=wc("hours"),ce=wc("days"),de=wc("months"),ee=wc("years"),fe=Math.round,ge={s:45,m:45,h:22,d:26,M:11},he=Math.abs,ie=Ea.prototype;ie.abs=lc,ie.add=nc,ie.subtract=oc,ie.as=sc,ie.asMilliseconds=Sd,ie.asSeconds=Td,ie.asMinutes=Ud,ie.asHours=Vd,ie.asDays=Wd,ie.asWeeks=Xd,ie.asMonths=Yd,ie.asYears=Zd,ie.valueOf=tc,ie._bubble=pc,ie.get=vc,ie.milliseconds=$d,ie.seconds=_d,ie.minutes=ae,ie.hours=be,ie.days=ce,ie.weeks=xc,ie.months=de,ie.years=ee,ie.humanize=Bc,ie.toISOString=
Cc,ie.toString=Cc,ie.toJSON=Cc,ie.locale=pb,ie.localeData=qb,ie.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cc),ie.lang=yd,G("X",0,0,"unix"),G("x",0,0,"valueOf"),L("x",Xc),L("X",Zc),O("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))}),O("x",function(a,b,c){c._d=new Date(p(a))}),a.version="2.10.3",b(Aa),a.fn=Jd,a.min=Ca,a.max=Da,a.utc=h,a.unix=Wb,a.months=gc,a.isDate=d,a.locale=v,a.invalid=l,a.duration=Va,a.isMoment=o,a.weekdays=ic,a.parseZone=
Xb,a.localeData=x,a.isDuration=Fa,a.monthsShort=hc,a.weekdaysMin=kc,a.defineLocale=w,a.weekdaysShort=jc,a.normalizeUnits=z,a.relativeTimeThreshold=Ac;var je=a;return je});var E,N=self,R=N.dJ;(function(){function a(b){d?d.push(b):setTimeout(b,0)}var g={version:"0.7.2.0",isUndefined:function(b){return void 0===b},isNull:function(b){return null===b},Ee:function(b){return null===b||void 0===b},GL:function(b){return null!==b&&void 0!==b}},d=[];N.attachEvent&&N.attachEvent("onload",function(){if(d){var b=d;d=null;for(var a=0,e=b.length;a<e;a++)b[a]()}});R||(N.dJ=R={init:a,ready:a});for(var e in g)R[e]=g[e]})();Object.Dd="Object";Object.Lh=null;Object.FK=function(a){for(var g in a)delete a[g]};
Object.nu=function(a,g){return void 0!==a[g]};Object.keys?Object.JF=function(a){return Object.keys(a).length}:(Object.keys=function(a){var g=[],d;for(d in a)g.push(d);return g},Object.JF=function(a){var g=0,d;for(d in a)g++;return g});Boolean.Dd="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Dd="Number";Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||0<=a.indexOf("e")||a.endsWith("f")||a.endsWith("F")?parseFloat(a):parseInt(a,10):0};
Number.prototype.format=function(a){return R.Ee(a)||0==a.length||"i"==a?this.toString():S(this,a,!1)};Number.prototype.eA=function(a){return R.Ee(a)||0==a.length||"i"==a?this.toLocaleString():S(this,a,!0)};
Number.Hr=function(a,g,d,e){var b=null;d=a.indexOf(d);0<d&&(b=a.substr(d),a=a.substr(0,d));(d=a.startsWith("-"))&&(a=a.substr(1));var c=0,h=g[c];if(a.length<h)return b?a+b:a;for(var f=a.length,l="",m=!1;!m;){var n=h,k=f-n;0>k&&(h+=k,n+=k,k=0,m=!0);if(!n)break;k=a.substr(k,n);l=l.length?k+e+l:k;f-=n;c<g.length-1&&(c++,h=g[c])}d&&(l="-"+l);return b?l+b:l};
function S(a,g,d){d=d?R.RB.cK.numberFormat:R.RB.kK.numberFormat;var e="",b=-1;1<g.length&&(b=parseInt(g.substr(1)));g=g.charAt(0);switch(g){case "d":case "D":e=parseInt(Math.abs(a)).toString();-1!=b&&(e=e.length<b?String.$y(b-e.length)+e:e);0>a&&(e="-"+e);break;case "x":case "X":e=parseInt(Math.abs(a)).toString(16);"X"==g&&(e=e.toUpperCase());-1!=b&&(e=e.length<b?String.$y(b-e.length)+e:e);break;case "e":case "E":e=-1==b?a.toExponential():a.toExponential(b);"E"==g&&(e=e.toUpperCase());break;case "f":case "F":case "n":case "N":-1==
b&&(b=d.PL);e=a.toFixed(b).toString();b&&"."!=d.kA&&(b=e.indexOf("."),e=e.substr(0,b)+d.kA+e.substr(b+1));if("n"==g||"N"==g)e=Number.Hr(e,d.RL,d.kA,d.QL);break;case "c":case "C":-1==b&&(b=d.UK);e=Math.abs(a).toFixed(b).toString();b&&"."!=d.uy&&(b=e.indexOf("."),e=e.substr(0,b)+d.uy+e.substr(b+1));e=Number.Hr(e,d.WK,d.uy,d.VK);e=0>a?String.format(d.XK,e):String.format(d.YK,e);break;case "p":case "P":-1==b&&(b=d.WL),e=(100*Math.abs(a)).toFixed(b).toString(),b&&"."!=d.wA&&(b=e.indexOf("."),e=e.substr(0,
b)+d.wA+e.substr(b+1)),e=Number.Hr(e,d.YL,d.wA,d.XL),e=0>a?String.format(d.ZL,e):String.format(d.$L,e)}return e}String.Dd="String";String.UB="";String.compare=function(a,g,d){d&&(a&&(a=a.toUpperCase()),g&&(g=g.toUpperCase()));a=a||"";g=g||"";return a==g?0:a<g?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};
String.prototype.endsWith=function(a){return a.length?a.length>this.length?!1:this.substr(this.length-a.length)==a:!0};String.ot=function(a,g,d){return 0==String.compare(a,g,d)};String._format=function(a,g,d){String.gx||(String.gx=/(\{[^\}^\{]+\})/g);return a.replace(String.gx,function(a,b){var c=g[parseInt(b.substr(1))+1];if(R.Ee(c))return"";if(c.format){var h=null,f=b.indexOf(":");0<f&&(h=b.substring(f+1,b.length-1));return d?c.eA(h):c.format(h)}return d?c.toLocaleString():c.toString()})};
String.format=function(a){return String._format(a,arguments,!1)};String.$y=function(a){for(var g="0",d=1;d<a;d++)g+="0";return g};String.prototype.sf=function(a,g){return g?a?this.substr(0,a)+g+this.substr(a):g+this:this};String.Ip=function(a){return!a||!a.length};String.eA=function(a){return String._format(a,arguments,!0)};String.prototype.remove=function(a,g){return!g||a+g>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+g)};
String.prototype.startsWith=function(a){return a.length?a.length>this.length?!1:this.substr(0,a.length)==a:!0};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Dd="Array";Array.Kn=[R.yn];E=Array.prototype;E.add=function(a){this.push(a)};E.addRange=function(a){this.push.apply(this,a)};E.clear=function(){this.length=0};E.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};E.contains=function(a){return 0<=this.indexOf(a)};
E.dequeue=function(){return this.shift()};E.enqueue=function(a){this.OD=!0;this.push(a)};function T(a){return a.length?a[a.OD?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,g){for(var d=this.length,e=0;e<d;e++)if(e in this&&!a.call(g,this[e],e,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,g){for(var d=this.length,e=[],b=0;b<d;b++)if(b in this){var c=this[b];a.call(g,c,b,this)&&e.push(c)}return e});
Array.prototype.forEach||(Array.prototype.forEach=function(a,g){for(var d=this.length,e=0;e<d;e++)e in this&&a.call(g,this[e],e,this)});Array.prototype.vd=function(){return new R.qn(this)};Array.prototype.groupBy=function(a,g){for(var d=this.length,e=[],b={},c=0;c<d;c++)if(c in this){var h=a.call(g,this[c],c);if(!String.Ip(h)){var f=b[h];f||(f=[],f.key=h,b[h]=f,e.add(f));f.add(this[c])}}return e};
Array.prototype.index=function(a,g){for(var d=this.length,e={},b=0;b<d;b++)if(b in this){var c=a.call(g,this[b],b);String.Ip(c)||(e[c]=this[b])}return e};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,g){var d=this.length;if(d)for(var e=g||0;e<d;e++)if(this[e]===a)return e;return-1});Array.prototype.sf=function(a,g){this.splice(a,0,g)};Array.prototype.map||(Array.prototype.map=function(a,g){for(var d=this.length,e=Array(d),b=0;b<d;b++)b in this&&(e[b]=a.call(g,this[b],b,this));return e});
Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.removeRange=function(a,g){return this.splice(a,g)};Array.prototype.some||(Array.prototype.some=function(a,g){for(var d=this.length,e=0;e<d;e++)if(e in this&&a.call(g,this[e],e,this))return!0;return!1});Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Dd="RegExp";
RegExp.parse=function(a){if(a.startsWith("/")){var g=a.lastIndexOf("/");if(1<g)return new RegExp(a.substring(1,g),a.substr(g+1))}return null};Error.Dd="Error";
Error.KK=function(a,g,d){a=Error(a);if(g)for(var e in g)a[e]=g[e];d&&(a.xL=d);if(!(R.Ee(a.stack)||R.Ee(a.fileName)||R.Ee(a.lineNumber))){g=a.stack.split("\n");d=g[0];for(e=a.fileName+":"+a.lineNumber;!R.Ee(d)&&-1===d.indexOf(e);)g.shift(),d=g[0];d=g[1];isNullOrUndefined(d)||(d=d.match(/@(.*):(\d+)$/),R.Ee(d)||(g.shift(),a.stack=g.join("\n"),a.fileName=d[1],a.lineNumber=parseInt(d[2])))}return a};R.Pe=N.Pe||function(){};R.Pe.Dd="Debug";
R.Pe.writeln||(R.Pe.writeln=function(a){N.console?N.console.debug?N.console.debug(a):N.console.log&&N.console.log(a):N.opera&&N.opera.postError&&N.opera.postError(a)});R.Pe.$w=function(a){R.Pe.writeln(a);eval("debugger;")};R.Pe.assert=function(a,g){a||(g="Assert failed: "+g,confirm(g+"\r\n\r\nBreak into debugger?")&&R.Pe.$w(g))};R.Pe.fail=function(a){R.Pe.$w(a)};N.Za=Function;N.Za.Dd="Type";N.qw=function(a){this.Dd=a};N.qw.prototype={hD:!0,getName:function(){return this.Dd}};
N.Za.lq=function(a){N.wr||(N.wr={});N.Dw||(N.Dw=[]);if(!N.wr[a]){for(var g=self,d=a.split("."),e=0;e<d.length;e++){var b=d[e],c=g[b];c||(g[b]=c=new N.qw(d.slice(0,e+1).join(".")),0==e&&N.Dw.add(c));g=c}N.wr[a]=g}};N.Za.prototype.Ea=function(a,g,d){this.prototype.constructor=this;this.Dd=a;this.rw=!0;this.Lh=g||Object;g&&(this.Jn=!0);if(d){this.Kn=[];for(var e=2;e<arguments.length;e++)d=arguments[e],this.Kn.add(d)}};function U(a,g){a.Dd=g;a.zw=!0}
N.Za.prototype.kv=function(){if(this.Jn){var a=this.Lh;a.Jn&&a.kv();for(var g in a.prototype){var d=a.prototype[g];this.prototype[g]||(this.prototype[g]=d)}delete this.Jn}};N.Za.prototype.YH||(N.Za.prototype.YH=N.Za.prototype.kv);function V(a,g){return R.Ee(g)?!1:a==Object||g instanceof a?!0:W(a,N.Za.HF(g))}
function W(a,g){if(a==Object||a==g)return!0;if(a.rw)for(var d=g.Lh;d;){if(a==d)return!0;d=d.Lh}else if(a.zw){var e=g.Kn;if(e&&e.contains(a))return!0;for(d=g.Lh;d;){if((e=d.Kn)&&e.contains(a))return!0;d=d.Lh}}return!1}N.Za.AL=function(a){return 1==a.rw};N.Za.BL=function(a){return 1==a.fD};N.Za.CL=function(a){return 1==a.fD&&1==a.uw};N.Za.DL=function(a){return 1==a.zw};N.Za.EL=function(a){return 1==a.hD};N.Za.DK=function(a,g){return V(g,a)};N.Za.gM=function(a,g){return V(g,a)?a:null};
N.Za.HF=function(a){var g=null;try{g=a.constructor}catch(d){}g&&g.Dd||(g=Object);return g};N.Za.hG=function(a){if(!a)return null;N.Za.xr||(N.Za.xr={});var g=N.Za.xr[a];g||(g=eval(a),N.Za.xr[a]=g);return g};N.Za.parse=function(a){return N.Za.hG(a)};R.Ag=function(){};R.Ag.Ea("Enum");
R.Ag.parse=function(a,g){var d=a.prototype;if(a.uw){for(var e=g.split("|"),b=0,c=!0,h=e.length-1;0<=h;h--){var f=e[h].trim(),l=!1;for(m in d)if(m===f){b|=d[m];l=!0;break}if(!l){c=!1;break}}if(c)return b}else for(var m in d)if(m===g)return d[m];throw"Invalid Enumeration Value";};
R.Ag.xK=function(a){var g=this.prototype;if(this.uw&&0!==a){var d=[];for(e in g)g[e]&a&&(d.length&&d.add(" | "),d.add(e));if(!d.length)throw"Invalid Enumeration Value";return d.join("")}for(var e in g)if(g[e]===a)return e;throw"Invalid Enumeration Value";};R.oc=function(){};R.oc.Ea("Delegate");R.oc.empty=function(){};R.oc.nD=function(a,g,d){for(var e=0;e<a.length;e+=2)if(a[e]===g&&a[e+1]===d)return!0;return!1};
R.oc._create=function(a){function g(){if(2==a.length)return a[1].apply(a[0],arguments);for(var d=a.clone(),e=0;e<d.length;e+=2)R.oc.nD(a,d[e],d[e+1])&&d[e+1].apply(d[e],arguments);return null}g.cf=a;return g};R.oc.create=function(a,g){return a?R.oc._create([a,g]):g};R.oc.GK=function(a,g){return a?g?R.oc._create((a.cf?a.cf:[null,a]).concat(g.cf?g.cf:[null,g])):a.cf?a:R.oc.create(null,a):g.cf?g:R.oc.create(null,g)};
R.oc.remove=function(a,g){if(!a||a===g)return null;if(!g)return a;var d=a.cf,e=null,b;g.cf?(e=g.cf[0],b=g.cf[1]):b=g;for(var c=0;c<d.length;c+=2)if(d[c]===e&&d[c+1]===b){if(2==d.length)return null;d.splice(c,2);return R.oc._create(d)}return a};R.oc.LK=function(a,g,d){d=d||"__"+(new Date).valueOf();self[d]=g?a:function(){try{delete self[d]}catch(e){self[d]=void 0}a.apply(null,arguments)};return d};R.oc.aL=function(a){delete self[a]};R.oc.EK=function(a){self[a]=R.oc.empty};R.Ud=function(){};
R.Ud.prototype={mg:null,reset:null};R.Ud.vd=function(a){return a?a.vd?a.vd():new R.qn(a):null};U(R.Ud,"IEnumerator");R.yn=function(){};R.yn.prototype={vd:null};U(R.yn,"IEnumerable");R.qn=function(a){this.Jw=a;this.Zn=-1;this.current=null};R.qn.prototype={mg:function(){this.Zn++;this.current=this.Jw[this.Zn];return this.Zn<this.Jw.length},reset:function(){this.Zn=-1;this.current=null}};R.qn.Ea("ArrayEnumerator",null,R.Ud);R.Qv=function(){};R.Qv.prototype={Jc:null};U(R.Qv,"IDisposable");
R.iw=function(a){this.po=R.Ee(a)?[]:[a];this.isEmpty=0==this.po.length};R.iw.prototype={append:function(a){R.Ee(a)||(this.po.add(a),this.isEmpty=!1);return this},clear:function(){this.po=[];this.isEmpty=!0},toString:function(a){return this.po.join(a||"")}};R.iw.Ea("StringBuilder");R.wn=function(){};R.wn.Ea("EventArgs");R.wn.UB=new R.wn;N.XMLHttpRequest||(N.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],g=0;g<a.length;g++)try{return new ActiveXObject(a[g])}catch(d){}return null});
R.Iv=function(){var a=R.Iv;a.Jn&&a.kv();a.Lh.apply(this);this.cancel=!1};R.Iv.Ea("CancelEventArgs",R.wn);R.XC=function(a,g){this.first=a;this.second=g};R.XC.Ea("Tuple");R.Tc=function(a){this.ns=a;this.Pf=null};R.Tc.prototype={Na:function(){this.Pf=R.Tc.Mw(this.Pf);return this.ns},mb:function(a){this.ns!==a&&(this.ns=a,a=this.Pf)&&(this.Pf=null,R.Tc.px(a))}};R.Tc.bs=[];R.Tc.HD={Jc:function(){R.Tc.bs.pop()}};R.Tc.fM=function(a){R.Tc.bs.push(a);return R.Tc.HD};
R.Tc.Mw=function(a){var g=R.Tc.bs,d=g.length;if(d){a=a||[];for(var e=0;e<d;e++){var b=g[e];a.contains(b)||a.push(b)}return a}return null};R.Tc.px=function(a){for(var g=0,d=a.length;g<d;g++)a[g].zL()};R.Tc.Ea("Observable");R.Tv=function(a){this.Lg=a||[];this.Pf=null};
R.Tv.prototype={add:function(a){this.Lg.push(a);X(this)},clear:function(){this.Lg.clear();X(this)},contains:function(a){return this.Lg.contains(a)},vd:function(){this.Pf=R.Tc.Mw(this.Pf);return this.Lg.vd()},indexOf:function(a){return this.Lg.indexOf(a)},sf:function(a,g){this.Lg.sf(a,g);X(this)},remove:function(a){return this.Lg.remove(a)?(X(this),!0):!1},toArray:function(){return this.Lg}};function X(a){var g=a.Pf;g&&(a.Pf=null,R.Tc.px(g))}R.Tv.Ea("ObservableCollection",null,R.yn);R.aC=function(){};
U(R.aC,"IApplication");R.bC=function(){};U(R.bC,"IContainer");R.eC=function(){};U(R.eC,"IObjectFactory");R.cC=function(){};U(R.cC,"IEventManager");R.dC=function(){};U(R.dC,"IInitializable");self.Za.lq("XODText");self.Za.lq("XODTextOld");XODText.ic=function(){};XODText.gr=function(a,g){this.vx=a;this.bb=Array(8);this.bb[0]=g[0];this.bb[1]=g[1];this.bb[2]=g[2];this.bb[3]=g[3];this.bb[4]=g[4];this.bb[5]=g[5];this.bb[6]=g[6];this.bb[7]=g[7]};
XODText.gr.prototype={vx:null,bb:null,yc:function(){for(var a=Array(8),g=0;8>g;g++)a[g]=this.bb[g];return a}};XODText.wu=function(a){this.$C=this.width=a};XODText.wu.prototype={width:0,$C:0};XODText.Xp=function(){};XODText.Xp.prototype={A:function(){},addColorStop:function(){}};XODText.nr=function(a){this.Cj=[];this.Qw={};var g=new XODText.Oa;g.set(1,0,0,1,0,0);this.Cj.push(g);this.Nr=a};
$.extend(XODText.nr.prototype,{Nr:null,Cx:0,Al:0,as:0,canvas:{xM:0,height:0},MF:function(a){return this.Qw[a]},zK:function(a,g){var d=new XODText.Ba;d.Ce(a);g.zB(d);return d.width()},yj:function(a){a=a.split(" ")[1];console.assert(Object.nu(this.Nr,a),"Font "+a+" file not found");return this.Nr[a]},Nx:function(a,g){var d=new XODText.Oa,e=a.$r,b=a.wx;d.set(b/e,0,0,b/e,0,0);d.zB(g)},font:null,save:function(){var a=new XODText.Oa;a.ym(T(this.Cj));this.Cj.push(a)},restore:function(){this.Cj.pop()},transform:function(a,
g,d,e,b,c){var h=new XODText.Oa;h.set(a,g,d,e,b,c);T(this.Cj).concat(h)},translate:function(a,g){this.Al=a;this.as=g},fillText:function(a,g,d){var e=this.yj(this.font);this.Sn(a,g,d,e)},Sn:function(a,g,d,e){if(!this.vj){this.translate(g,d);g=0;for(d=a.length;g<d;g++){var b=a.charAt(g),c=this.Op&&g in this.Op?this.Op[g]:b,b=e.cz(b.toString());this.Nx(e,b);var h=b.y1;b.y1=b.y2;b.y2=h;b.x1+=this.Al;b.x2+=this.Al;b.y1+=this.as;b.y2+=this.as;this.Al+=b.width();h=Array(8);h[0]=b.x1;h[1]=b.y1;h[2]=b.x2;
h[3]=b.y1;h[4]=b.x2;h[5]=b.y2;h[6]=b.x1;h[7]=b.y2;T(this.Cj).AB(h);this.Qw[this.Cx]=new XODText.gr(c,h);this.Cx++}this.Op=null}},measureText:function(a){var g=this.yj(this.font);return this.zx(a,g)},zx:function(a,g){var d=0;if(!this.vj)for(var e=0,b=a.length;e<b;e++){var c=g.cz(a.charAt(e).toString());this.Nx(g,c);d+=c.width()}return new XODText.wu(d)},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.Xp},createRadialGradient:function(){return new XODText.Xp},
createPattern:function(){},addColorStop:function(){},beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.ImageData},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,g,d,e,
b,c){this.transform(a,g,d,e,b,c)},T:function(a,g){this.translate(a,g)},w:0,c:null,s:null,f:null,a:0,L:function(a,g,d,e){return this.createLinearGradient(a,g,d,e)},R:function(a,g,d,e,b,c){return this.createRadialGradient(a,g,d,e,b,c)},P:function(a,g){this.createPattern(a,g)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},C:function(){this.clip()},M:function(a,g){this.moveTo(a,g)},l:function(a,g){this.lineTo(a,g)},q:function(a,
g,d,e){this.quadraticCurveTo(a,g,d,e)},B:function(a,g,d,e,b,c){this.bezierCurveTo(a,g,d,e,b,c)},n:null,x:function(a,g,d){var e=this.yj(this.n);this.Sn(a,g,d,e)},m:function(a){var g=this.yj(this.n);return this.zx(a,g)},i:0,j:null,I:function(a,g,d){this.drawImage(a,g,d)},Z:function(a,g,d,e,b,c){this.setTransform(a,g,d,e,b,c)},d:function(a,g,d,e){return this.getImageData(a,g,d,e)},D:function(a,g,d){this.putImageData(a,g,d)},e:function(a,g){this.scale(a,g)},tm:function(a){this.Op=a},fillTextCustom:function(a,
g,d){var e=this.yj(this.font);this.Sn(a,g,d,e)},xc:function(a,g,d){var e=this.yj(this.n);this.Sn(a,g,d,e)},cgb:function(){console.assert(!this.vj,"Custom Glyphs begin offset is incorrect");this.vj=!0},cge:function(){console.assert(this.vj,"Custom Glyphs end offset is incorrect");this.vj=!1},xw:function(a,g,d,e){e&&1<a.length&&(a=a.substr(0,a.length-1));g(a,g,d)},xcw:function(a,g,d,e){e&&1<a.length&&(a=a.substr(0,a.length-1));xc(a,g,d)},vj:!1});
XODText.Ff=function(){this.Og=[];this.kc=[];this.Aa=[];this.lc=!1};
XODText.Ff.prototype={clear:function(){this.eb="";this.kc.clear();this.Aa.clear();this.lc=!1},yb:function(){this.kc=[];this.Aa=[];this.lc=!1},dE:function(a){function g(d){for(var e=d.length,b=0;b<e;b+=8){var c=a.V({x:d[b],y:d[b+1]}),h=a.V({x:d[b+2],y:d[b+3]}),f=a.V({x:d[b+4],y:d[b+5]}),g=a.V({x:d[b+6],y:d[b+7]}),m=new XODText.gb;m.Ix(c.x,c.y,h.x,h.y,f.x,f.y,g.x,g.y);m=m.nf();d[b]=m.x1;d[b+1]=m.y1;d[b+2]=m.x2;d[b+3]=m.y2;d[b+4]=m.x3;d[b+5]=m.y3;d[b+6]=m.x4;d[b+7]=m.y4}}g(this.Aa);this.Og.forEach(function(a){g(a.bb);
a.Ua.forEach(function(a){g(a.bb);a.Nf.forEach(function(b){g(b)})})})},tA:function(a){this.Aa=a.Aa;this.kc=a.kc;this.eb=a.eb;this.lc=a.lc;this.Og=function(a,d,e){function b(a,b){return a.slice(b,b+8)}function c(){var c=new XODText.pb;c.zb=a[m+1];c.ab=q;q++;var f=a[m+1];c.ia=e.slice(f,f+a[m+2]);c.xl=f;for(var f=a[m],h=0;h<f;++h)c.Nf.push(b(d,8*(c.zb+h)));k&&(k.zl=c);return k=c}function h(b){var k=c(),f=a[m],d=a[m+3],e=a[m+4],h;if(d===e){d=Math.min(b.x1,b.x2);e=Math.max(b.x1,b.x2);h=k.Nf[0];b=k.Nf[f-
1];b=[h[1],h[3],h[5],h[7],b[1],b[3],b[5],b[7]];h=Math.min.apply(null,b);b=Math.max.apply(null,b);for(var q=0;q<f;++q){var l=k.Nf[q];l[0]=d;l[2]=e;l[4]=e;l[6]=d}}else for(h=Math.min(b.y1,b.y2),b=Math.max(b.y1,b.y2),q=0;q<f;++q)l=k.Nf[q],l[1]=b,l[3]=b,l[5]=h,l[7]=h;f=k.bb;f[0]=d;f[1]=b;f[2]=e;f[3]=b;f[4]=e;f[5]=h;f[6]=d;f[7]=h;m+=5;return k}function f(){var k=c();k.bb=b(a,m+3);m+=11;return k}function l(c){var d=new XODText.Ab;d.ab=c;var e=0<a[m];if(e){var q=6;c=a[m];var l=d.bb,x=a.slice(m+2,m+4),z=
a.slice(m+4,m+6);l[0]=x[0];l[1]=x[1];l[2]=z[0];l[3]=x[1];l[4]=z[0];l[5]=z[1];l[6]=x[0];l[7]=z[1]}else q=10,c=-a[m],d.bb=b(a,m+2);e=e?h:f;l=new XODText.Ba;d.uc(l);m+=q;k=null;for(q=0;q<c;++q)d.Ua.push(e(l));d.ia=d.Ua.map(function(b){return b.ia}).join(" ");d.xl=d.Ua[0]?d.Ua[0].xl:0;n&&(n.yl=d);return n=d}var m=0,n=null,k=null,q=0;return function(){var b=[],k=a[m];m++;for(var c=0;c<k;++c)b.push(l(c));return b}()}(a.Sa,this.Aa,this.eb)},Vn:function(a){for(var g="",d=0,e,b,c;d<a.length;)e=a.charCodeAt(d),
9==e?(g+=String.fromCharCode(10),d++):128>e?(g+=String.fromCharCode(e),d++):191<e&&224>e?(b=a.charCodeAt(d+1),g+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),g+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return g},ND:function(a,g){for(var d=new XODText.pb,e=R.Ud.vd(a.split(","));e.mg();){var b=e.current.split(":"),c=parseInt(b[0]),h=0;1<b.length&&(h=parseInt(b[1]));for(b=c;b<=c+h;b++){var f=g.MF(b);d.ps(f.vx,f.yc());this.kc.add(b);this.Aa.addRange(f.yc())}}return d},
parse:function(a,g){var d=0,e=0,b=0;do{for(var c;a.advance();)if(c=a.la(),"F"===c)a.ja();else if("P"===c)a.ja();else if("L"===c){a.ja();c=new XODText.Ab;c.hs(d++);0<this.Og.length&&this.Og[this.Og.length-1].AI(c);this.Og.add(c);for(var h=R.Ud.vd(a.cd().split(" "));h.mg();){var f=h.current;if(0<c.ri()){this.eb+=" ";this.kc.add(-1);b++;var l=Array(8);c.Mt().yc(l);this.Aa.addRange(l)}f=this.ND(f,g);f.hs(e++);f.SD(b);c.$D(f);this.eb+=f.ia;b+=f.bg()}this.eb+="\n";this.kc.add(-2);b++;console.assert(0<c.ri(),
"No words in line");0<c.ri()&&(l=Array(8),c.Mt().yc(l),this.Aa.addRange(l))}else console.assert("XML parser has encountered a symbol it can't process.");a.pa()}while(a.depth)},Lu:function(a,g){try{var d=new window.Vd(a);console.assert("TextData"===d.la(),"XML parser has encountered a symbol it can't process.");"TextData"===d.la()&&(d.ja(),this.parse(d,g))}catch(e){console.warn("TextSelection has encountered an error: "+e.message);return}this.lc=!0},ready:function(){return this.lc},gm:function(){return this.Og.length?
this.Og[0]:new XODText.Ab},Od:function(){return this.Aa},eb:"",kc:null,Aa:null,lc:!1};XODText.Ab=function(){this.Ua=[];this.ab=-1;this.Lb=[];this.bb=Array(8);this.yl=null};
XODText.Ab.prototype={yb:function(){this.ab=this.Xb=-1;this.Lb=[]},cb:function(a){return this.ab===a.ab},ri:function(){return this.Ua.length},Md:function(){return this.Ua.length?this.Ua[0]:new XODText.pb},Mt:function(){return this.Ua.length?this.Ua[this.Ua.length-1]:new XODText.pb},Hz:function(a){return 0>a||a>=this.ri()?new XODText.pb:this.Ua[a]},fh:function(){return null==this.yl?new XODText.Ab:this.yl},uc:function(a){a.Ri(this.bb)},hs:function(a){this.ab=a},ip:function(){if(this.Lb.length)return this.Lb[0];
var a=new XODText.ha,g=new XODText.ha,d=this.Md(),e=this.Mt(),b=Array(8),c=Array(8);d.vc(0,b);a.x=(b[0]+b[2]+b[4]+b[6])/4;a.y=(b[1]+b[3]+b[5]+b[7])/4;e.vc(e.bg()-1,c);g.x=(c[0]+c[2]+c[4]+c[6])/4;g.y=(c[1]+c[3]+c[5]+c[7])/4;.01>Math.abs(a.x-g.x)&&.01>Math.abs(a.y-g.y)&&this.Lb.add(0);a=Math.atan2(g.y-a.y,g.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Lb.add(a);return 0},ia:"",ta:null,ab:0,Lb:null,bb:null,yl:null,AI:function(a){this.yl=a},$D:function(a){0<this.Ua.length&&this.Ua[this.Ua.length-1].BI(a);
this.Ua.add(a);var g=String.Ip(this.ia),d=Array(8);a.yc(d);if(g)for(g=0;8>g;g++)this.bb[g]=d[g];else this.ia+=" ",XODText.gb.no(this.bb,d,!1,0);this.ia+=a.ia}};XODText.pb=function(){this.Nf=[];this.ab=this.zb=-1;this.bb=Array(8);this.zl=null};
XODText.pb.prototype={yb:function(){this.ab=this.zb=-1},cb:function(a){return this.ab===a.ab},bg:function(){return this.Nf.length},ze:function(){return this.ia.length},Ae:function(){return this.xl},SD:function(a){this.xl=a},Nd:function(){return null==this.zl?new XODText.pb:this.zl},vc:function(a,g){for(var d=0;8>d;d++)g[d]=this.Nf[a][d]},yc:function(a){for(var g=0;8>g;g++)a[g]=this.bb[g]},uc:function(a){var g=new XODText.Ba;g.Ri(this.bb);a[0]=g.x1;a[1]=g.y1;a[2]=g.x2;a[3]=g.y2},hs:function(a){this.ab=
this.zb=a},zb:0,ia:"",ta:null,ab:0,xl:0,bb:null,zl:null,ps:function(a,g){var d=String.Ip(this.ia);this.ia+=a;for(var e=Array(8),b=0;8>b;b++)e[b]=g[b];this.Nf.add(e);if(d)for(b=0;8>b;b++)this.bb[b]=e[b];else XODText.gb.no(this.bb,e,!1,0)},BI:function(a){this.zl=a}};XODTextOld.Ff=function(){};
XODTextOld.Ff.prototype={clear:function(){this.Sa.clear();this.eb="";this.kc.clear();this.Aa.clear();this.lc=!1},yb:function(){this.Sa=[];this.kc=[];this.Aa=[];this.lc=!1},Vn:function(a){for(var g="",d=0,e,b,c;d<a.length;)e=a.charCodeAt(d),9==e?(g+=String.fromCharCode(10),d++):128>e?(g+=String.fromCharCode(e),d++):191<e&&224>e?(b=a.charCodeAt(d+1),g+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),g+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return g},
xG:function(a){this.Sa=[];this.kc=[];this.Aa=[];this.lc=!1;try{var g=new window.Vd(a);this.eb="";g.ja();if(!g.advance())return;var d=g.cd();this.eb=d=this.Vn(d);this.kc.clear();g.advance();for(var d=g.cd(),e=d.split(","),b=R.Ud.vd(e);b.mg();){var c=b.current;try{var h=parseInt(c.trim());this.kc.add(h)}catch(u){}}this.Sa.clear();g.advance();for(var d=g.cd(),e=d.split(","),f=R.Ud.vd(e);f.mg();){c=f.current;try{h=parseFloat(c.trim()),this.Sa.add(h)}catch(u){}}this.Aa.clear();g.advance();d=g.cd();e=d.split(",");
a=[];for(var g=[],d=0,l=R.Ud.vd(e);l.mg();){c=l.current;switch(c){case "Q":d=1;break;case "R":d=2;break;case "S":d=3;break;default:d=0}if(d)a.add(0),g.add(d);else try{h=parseFloat(c.trim()),a.add(h),g.add(d)}catch(u){return}}for(var d=0,m=a.length,n,k,q,p,l=c=e=0;l<m;){var r=g[l];if(0<r)d=r,++l,3===d&&(e=a[l],c=a[l+1],l+=2);else if(1===d)for(h=0;8>h;++h)this.Aa.add(a[l++]);else 2===d?(n=a[l++],k=a[l++],q=a[l++],p=a[l++],this.Aa.add(n),this.Aa.add(k),this.Aa.add(q),this.Aa.add(k),this.Aa.add(q),this.Aa.add(p),
this.Aa.add(n),this.Aa.add(p)):3===d&&(n=a[l++],k=e,q=a[l++],p=c,this.Aa.add(n),this.Aa.add(k),this.Aa.add(q),this.Aa.add(k),this.Aa.add(q),this.Aa.add(p),this.Aa.add(n),this.Aa.add(p))}}catch(u){return}this.eb.length&&this.eb.length===this.kc.length&&8*this.eb.length===this.Aa.length&&(this.lc=!0)},ready:function(){return this.lc},gm:function(){var a=new XODTextOld.Ab;if(!this.Sa.length)return a.Qd(this.Sa,-1,this.eb,this.Aa,0),a;a.Qd(this.Sa,1,this.eb,this.Aa,1);return a},Od:function(){return this.Aa},
Sa:null,eb:null,kc:null,Aa:null,lc:!1};XODTextOld.Ab=function(){};
XODTextOld.Ab.prototype={yb:function(){this.Xb=-1;this.ab=0;this.Lb=[]},Qd:function(a,g,d,e,b){this.Xb=g;this.ab=b;this.Lb=[];this.Gc=a;this.ia=d;this.ta=e},cb:function(a){return this.Xb===a.Xb},ri:function(){return Math.abs(this.Gc[this.Xb])},jg:function(){return 0<this.Gc[this.Xb]},Md:function(){var a=new XODTextOld.pb;a.Qd(this.Gc,this.Xb+(this.jg()?6:10),this.Xb,this.ia,this.ta,1);return a},Hz:function(a){if(0>a||a>=this.ri()){var g=new XODTextOld.pb;g.Qd(this.Gc,-1,-1,this.ia,this.ta,0)}else{var d=
this.jg()?6:10,e=this.jg()?5:11,g=new XODTextOld.pb;g.Qd(this.Gc,this.Xb+d+e*a,this.Xb,this.ia,this.ta,1+a)}return g},fh:function(){var a=this.Xb+parseInt(this.Gc[this.Xb+1]);if(a>=this.Gc.length){var g=new XODTextOld.Ab;g.Qd(this.Gc,-1,this.ia,this.ta,0)}else g=new XODTextOld.Ab,g.Qd(this.Gc,a,this.ia,this.ta,this.ab+1);return g},uc:function(a){if(this.jg())a.x1=this.Gc[this.Xb+2+0],a.y1=this.Gc[this.Xb+2+1],a.x2=this.Gc[this.Xb+2+2],a.y2=this.Gc[this.Xb+2+3];else{for(var g=1.79769E308,d=XODText.ic.Dg,
e=1.79769E308,b=XODText.ic.Dg,c=0;4>c;++c)var h=this.Gc[this.Xb+2+2*c],f=this.Gc[this.Xb+2+2*c+1],g=Math.min(g,h),d=Math.max(d,h),e=Math.min(e,f),b=Math.max(b,f);a.x1=g;a.y1=e;a.x2=d;a.y2=b}},ip:function(){if(this.Lb.length)return this.Lb[0];var a=new XODText.ha,g=new XODText.ha,d=new XODTextOld.pb;d.yb();var e=this.Md(),b=new XODTextOld.pb;b.yb();for(var c=this.Md();!c.cb(d);c=c.Nd())b=c;d=Array(8);c=Array(8);e.vc(0,d);a.x=(d[0]+d[2]+d[4]+d[6])/4;a.y=(d[1]+d[3]+d[5]+d[7])/4;b.vc(b.bg()-1,c);g.x=
(c[0]+c[2]+c[4]+c[6])/4;g.y=(c[1]+c[3]+c[5]+c[7])/4;.01>Math.abs(a.x-g.x)&&.01>Math.abs(a.y-g.y)&&this.Lb.add(0);a=Math.atan2(g.y-a.y,g.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.Lb.add(a);return 0},Xb:0,Gc:null,ia:null,ta:null,ab:0,Lb:null};XODTextOld.pb=function(){};
XODTextOld.pb.prototype={yb:function(){this.Lf=this.zb=-1;this.ab=0},Qd:function(a,g,d,e,b,c){this.zb=g;this.Lf=d;this.Sa=a;this.ia=e;this.ta=b;this.ab=c},cb:function(a){return this.zb===a.zb},bg:function(){return parseInt(this.Sa[this.zb])},ze:function(){return parseInt(this.Sa[this.zb+2])},Ae:function(){return parseInt(this.Sa[this.zb+1])},jg:function(){return 0<this.Sa[this.Lf]},UF:function(){return Math.abs(this.Sa[this.Lf])},Nd:function(){var a=this.jg(),g=a?5:11;this.zb>=this.Lf+(a?6:10)+(this.UF()-
1)*g?(a=new XODTextOld.pb,a.Qd(this.Sa,-1,-1,this.ia,this.ta,0)):(a=new XODTextOld.pb,a.Qd(this.Sa,this.zb+g,this.Lf,this.ia,this.ta,this.ab+1));return a},DF:function(a){var g=this.bg();return 0>a||a>=g?-1:parseInt(this.Sa[this.zb+1])+a},vc:function(a,g){var d=this.DF(a);if(!(0>d)){var e=new XODTextOld.Ab;e.Qd(this.Sa,this.Lf,this.ia,this.ta,0);if(e.jg()){var b=new XODText.Ba;e.uc(b);e=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;d*=8;g[0]=this.ta[d];g[1]=e;g[2]=this.ta[d+2];g[3]=g[1];g[4]=this.ta[d+
4];g[5]=b;g[6]=this.ta[d+6];g[7]=g[5]}else for(d*=8,e=0;8>e;++e)g[e]=this.ta[d+e]}},yc:function(a){var g=new XODTextOld.Ab;g.Qd(this.Sa,this.Lf,this.ia,this.ta,0);if(g.jg()){var d=this.Sa[this.zb+3],e=this.Sa[this.zb+4];if(d>e){var b;b=d;d=e;e=b}b=new XODText.Ba;g.uc(b);g=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2;a[0]=d;a[1]=g;a[2]=e;a[3]=g;a[4]=e;a[5]=b;a[6]=d;a[7]=b}else for(d=this.zb+3,e=0;8>e;++e)a[e]=this.Sa[d+e]},uc:function(a){var g=new XODTextOld.Ab;g.Qd(this.Sa,this.Lf,this.ia,this.ta,0);
if(g.jg()){var d=this.Sa[this.zb+3],e=this.Sa[this.zb+4];if(d>e){var b;b=d;d=e;e=b}b=new XODText.Ba;g.uc(b);g=b.y1<b.y2?b.y1:b.y2;b=b.y1>b.y2?b.y1:b.y2}else{d=1.79769E308;e=XODText.ic.Dg;g=1.79769E308;b=XODText.ic.Dg;for(var c=this.zb+3,h=0;4>h;++h){var f=this.Sa[c+2*h],l=this.Sa[c+2*h+1],d=Math.min(d,f),e=Math.max(e,f),g=Math.min(g,l);b=Math.max(b,l)}}a[0]=d;a[1]=g;a[2]=e;a[3]=b},zb:0,Lf:0,Sa:null,ia:null,ta:null,ab:0};XODText.Ba=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.Ba.prototype={Xa:function(a,g,d,e){this.x1=a;this.y1=g;this.x2=d;this.y2=e},Ce:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,g,d,e){this.x1=a;this.y1=g;this.x2=d;this.y2=e},Km:function(a){return this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||this.y1>a.y2},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},Ri:function(a){for(var g=1.79769E308,d=XODText.ic.Dg,e=1.79769E308,b=XODText.ic.Dg,c=0;4>c;++c)var h=a[2*c],f=a[2*c+1],g=Math.min(g,h),d=Math.max(d,h),e=Math.min(e,f),b=Math.max(b,f);this.x1=g;this.y1=e;this.x2=d;this.y2=b},Ep:function(a,g){var d,e,b,c,h,f,l,m;a.x1<a.x2?(d=a.x1,e=a.x2):(d=a.x2,e=a.x1);a.y1<a.y2?(b=a.y1,c=a.y2):(b=a.y2,c=a.y1);g.x1<g.x2?(h=g.x1,f=g.x2):(h=g.x2,f=g.x1);g.y1<g.y2?(l=g.y1,m=g.y2):(l=g.y2,m=g.y1);if(e<h||f<d||c<l||m<b)return this.x1=this.x2=
this.y1=this.y2=0,!1;this.x1=d<h?h:d;this.x2=e<f?e:f;this.y1=b<l?l:b;this.y2=c<m?c:m;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},wG:function(a){this.AD(a,a)},AD:function(a,g){this.normalize();this.x1-=a;this.x2+=a;this.y1-=g;this.y2+=g},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,g){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(g<this.y1||g>this.y2)return!1}else if(g<this.y2||g>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.ha=function(){this.y=this.x=0};XODText.ha.cb=function(a,g){return a.x===g.x&&a.y===g.y};XODText.ha.OL=function(a,g){return a!==g};XODText.ha.Iy=function(a){var g=new XODText.ha;g.x=a.x/2;g.y=a.y/2;return g};XODText.ha.multiply=function(a,g){var d=new XODText.ha;d.init(a.x*g,a.y*g);return d};
XODText.ha.Bi=function(a,g){var d=new XODText.ha;d.init(a.x-g.x,a.y-g.y);return d};XODText.ha.Tm=function(a,g){var d=new XODText.ha;d.init(a.x+g.x,a.y+g.y);return d};XODText.ha.distance=function(a,g){var d=a.x-g.x,e=a.y-g.y;return Math.sqrt(d*d+e*e)};
XODText.ha.prototype={x:0,y:0,init:function(a,g){this.x=a;this.y=g},Dp:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},sub:function(a){this.x-=a.x;this.y-=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},tc:function(a){return this.x*a.x+this.y*a.y}};XODText.ic.Ea("XODText.doubleData");XODText.gr.Ea("XODText.Letter");XODText.wu.Ea("XODText.nsIDOMTextMetrics");
XODText.Xp.Ea("XODText.nsIDOMCanvasGradient");XODText.nr.Ea("XODText.SelectionContext");XODText.Ff.Ea("XODText.SelectionInfo");XODText.Ab.Ea("XODText.Line");XODText.pb.Ea("XODText.Word");XODText.Ba.Ea("XODText.SelectionRect");XODText.ha.Ea("XODText.SelectionPoint");XODText.ic.Ch=1.79769E308;XODText.ic.Dg=-1.79769E308;self.Za.lq("XODText");XODText.$n=function(){};XODText.fc=function(a,g){this.x=a;this.y=g};XODText.fc.prototype={x:0,y:0};
XODText.gb=function(){this.pn=this.mn=this.nn=this.ln=this.y2=this.x2=this.y1=this.x1=0};
XODText.gb.no=function(a,g,d,e){var b=new XODText.ha;b.init(0,0);var c=new XODText.ha;c.init(0,0);var h=new XODText.ha;h.init(0,0);var f=new XODText.ha;f.init(0,0);for(var l=0;4>l;++l){XODText.gb.Ez(b,a,l);if(!b.normalize()&&d)return!1;l?2===l?h=XODText.ha.Bi(h,b):1===l?f=XODText.ha.Tm(f,b):3===l&&(f=XODText.ha.Bi(f,b)):h=XODText.ha.Tm(h,b);for(var m=Array(8),n=0;1>n;++n){for(var k=0;8>k;++k)m[k]=g[8*n+k];XODText.gb.Ez(c,m,l);if(!c.normalize()&&d)return!1;l?2===l?h=XODText.ha.Bi(h,c):1===l?f=XODText.ha.Tm(f,
c):3===l&&(f=XODText.ha.Bi(f,c)):h=XODText.ha.Tm(h,c)}if(d&&Math.abs(b.tc(c))<XODText.gb.EE)return!1}h=XODText.ha.Iy(h);f=XODText.ha.Iy(f);if(!h.normalize()&&d||!f.normalize()&&d||d&&!XODText.gb.bH(a,g,h,f,e,e/10))return!1;XODText.gb.inflate(a,g,1,h,f);return!0};XODText.gb.Ez=function(a,g,d){var e=(d+1)%4;a.x=g[2*e]-g[2*d];a.y=g[2*e+1]-g[2*d+1]};
XODText.gb.bH=function(a,g,d,e,b,c){var h=new XODText.ha;h.init(a[0],a[1]);var f=new XODText.ha;f.init(a[2],a[3]);var l=new XODText.ha;l.init(g[0],g[1]);var m=new XODText.ha;m.init(g[2],g[3]);var n=h.tc(d),k=f.tc(d),q=l.tc(d);d=m.tc(d);if(n>k)var p=n,n=k,k=p;q>d&&(p=q,q=d,d=p);if(q-k>b||n-d>b)return!1;h.x=a[2];h.y=a[3];f.x=a[4];f.y=a[5];l.x=g[2];l.y=g[3];m.x=g[4];m.y=g[5];n=h.tc(e);k=f.tc(e);q=l.tc(e);d=m.tc(e);n>k&&(p=n,n=k,k=p);q>d&&(p=q,q=d,d=p);return Math.abs(n-q)>c||Math.abs(k-d)>c?!1:!0};
XODText.gb.inflate=function(a,g,d,e,b){for(var c=XODText.ic.Ch,h=XODText.ic.Dg,f=XODText.ic.Ch,l=XODText.ic.Dg,m,n,k=0,q=0,p=0;4>p;++p){var r=new XODText.ha;r.init(a[2*p],a[2*p+1]);m=r.tc(e);n=r.tc(b);p?(c>m&&(c=m,k=r.x),h<m&&(h=m),f>n&&(f=n,q=r.y),l<n&&(l=n)):(c=h=m,f=l=n,k=r.x,q=r.y);for(r=0;r<d;++r){var u=new XODText.ha;u.init(g[8*r+2*p],g[8*r+2*p+1]);m=u.tc(e);n=u.tc(b);c>m&&(c=m,k=u.x);h<m&&(h=m);f>n&&(f=n,q=u.y);l<n&&(l=n)}}g=new XODText.ha;g.init(k,q);q=g.tc(b);k=XODText.ha.multiply(e,c-g.tc(e));
q=XODText.ha.multiply(b,f-q);g.x+=k.x+q.x;g.y+=k.y+q.y;a[0]=g.x;a[1]=g.y;c=h-c;f=l-f;a[2]=a[0]+c*e.x;a[3]=a[1]+c*e.y;a[4]=a[2]+f*b.x;a[5]=a[3]+f*b.y;a[6]=a[0]+f*b.x;a[7]=a[1]+f*b.y};
XODText.gb.prototype={_init:function(a,g,d,e,b,c,h,f){this.x1=a;this.y1=g;this.x2=d;this.y2=e;this.ln=b;this.nn=c;this.mn=h;this.pn=f},Ix:function(a,g,d,e,b,c,h,f){this.x1=a;this.y1=g;this.x2=d;this.y2=e;this.ln=b;this.nn=c;this.mn=h;this.pn=f},nf:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.ln,y3:this.nn,x4:this.mn,y4:this.pn}},OF:function(){var a=this.nf(),g=Math.min(a.x1,a.x2,a.x3,a.x4),d=Math.max(a.x1,a.x2,a.x3,a.x4),e=Math.min(a.y1,a.y2,a.y3,a.y4),b=Math.max(a.y1,a.y2,
a.y3,a.y4);a.x1=g;a.x2=d;a.x3=d;a.x4=g;a.y1=e;a.y2=e;a.y3=b;a.y4=b;return a},x1:0,y1:0,x2:0,y2:0,ln:0,nn:0,mn:0,pn:0};XODText.Oa=function(){};XODText.Oa.Mi=function(a){var g=Math.cos(a);a=Math.sin(a);var d=new XODText.Oa;d.Xa(g,-a,a,g,0,0);return d};
XODText.Oa.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,ym:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Xa:function(a,g,d,e,b,c){this.m_a=a;this.m_b=g;this.m_c=d;this.m_d=e;this.m_h=b;this.m_v=c},set:function(a,g,d,e,b,c){this.m_a=a;this.m_b=g;this.m_c=d;this.m_d=e;this.m_h=b;this.m_v=c},inverse:function(){var a=new XODText.Oa,g=this.m_a*this.m_d-this.m_b*this.m_c;if(!g)return a;a.m_a=this.m_d/g;a.m_c=-this.m_c/g;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/g;a.m_b=-this.m_b/g;a.m_d=this.m_a/g;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/g;return a},V:function(a){var g=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=g*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var g=this.m_a,d=this.m_b,e=this.m_c,b=this.m_d;this.m_a=a.m_a*g+a.m_b*e;this.m_b=a.m_a*d+a.m_b*b;this.m_c=a.m_c*g+a.m_d*e;this.m_d=a.m_c*d+a.m_d*b;this.m_h=a.m_h*g+a.m_v*e+this.m_h;this.m_v=a.m_h*d+a.m_v*b+this.m_v},ot:function(a){return this.m_a==a.m_a&&this.m_b==
a.m_b&&this.m_c==a.m_c&&this.m_d==a.m_d&&this.m_h==a.m_h&&this.m_v==a.m_v},AB:function(a){var g=new XODText.fc(a[0],a[1]),d=new XODText.fc(a[2],a[3]),e=new XODText.fc(a[4],a[5]),b=new XODText.fc(a[6],a[7]),g=this.V(g),d=this.V(d),e=this.V(e),b=this.V(b);a[0]=g.x;a[1]=g.y;a[2]=d.x;a[3]=d.y;a[4]=e.x;a[5]=e.y;a[6]=b.x;a[7]=b.y},zB:function(a){var g=Array(8);g[0]=a.x1;g[1]=a.y1;g[2]=a.x2;g[3]=a.y1;g[4]=a.x2;g[5]=a.y2;g[6]=a.x1;g[7]=a.y2;this.AB(g);a.Ri(g)}};XODText.ul=function(){};
XODText.ul.lD=function(a,g){return a.gc<g.gc||a.gc===g.gc&&a._position<g._position||a.gc===g.gc&&a._position===g._position&&a.Xh<g.Xh?-1:a.gc===g.gc&&a._position===g._position&&a.Xh===g.Xh?0:1};
XODText.ul.prototype={_init:function(){this.io=[]},_add:function(a){this.io.add(a)},_clear:function(){this.io.clear()},mD:function(a,g){g.clear();for(var d=[],e=R.Ud.vd(this.io);e.mg();){var b=e.current;d.add(b)}d.sort(XODText.ul.lD);for(var e="",c,h=[],f=[],l=XODText.$n.pw,m=0;m<d.length;++m)if(b=d[m],!(0>b.gc||b.gc>=a.length||0>b._position||0>=b.Xh)){if(-1!==b.gc){h=a[b.gc].text;if(!h.ready())return!1;e=h.eb;c=h.kc;h=h.Od();if(!e.length||e.length!==c.length||8*e.length!==h.length)continue;for(var l=
XODText.$n.pw,n=R.Ud.vd(c);n.mg();){var k=n.current;k>l&&(l=k)}f.clear();for(var q=0;q<l+1;++q)f.add(-1);for(q=0;q<c.length;++q)n=c[q],0<=n&&(f[n]=q)}c=Array(8);for(n=b._position;n<b._position+b.Xh&&!(n>l);++n)if(k=f[n],!(0>k)){for(q=0;8>q;++q)c[q]=h[8*k+q];var p=!1;if(1<=g.length&&(q=g[g.length-1],q.gc===b.gc)){var r=c[0]-c[2],u=c[1]-c[3];XODText.gb.no(q.ue,c,!0,Math.sqrt(r*r+u*u))&&(p=e.charAt(k),q.ks.sf(q.ks.length,p),p=!0)}p||(p=e.charAt(k),k=new XODText.Qr,k.vl(b.gc,p,c),g.add(k))}}return 0<
g.length},io:null};XODText.tl=function(){};XODText.tl.prototype={vl:function(a,g,d){this.gc=a;this._position=g;this.Xh=d},gc:0,_position:0,Xh:0};XODText.Qr=function(){};XODText.Qr.prototype={vl:function(a,g,d){this.gc=a;this.ks=g;this.ue=Array(8);for(a=0;8>a;++a)this.ue[a]=d[a]},gc:0,ks:null,ue:null};XODText.uo=function(){this.$e=new XODText.Ba;this.ko=new XODText.Ba};XODText.uo.prototype={$e:null,ko:null,lo:null,mo:null};XODText.wb=function(){};XODText.vb=function(){};
XODText.rd=function(){this.cs={};this.Mf=0;this.Pa=this.Aj=this.ho=this.Ec=-1;this.Zr=this.Ng=this.jo=this.Yh=!1;this.Yd=[];this.Wb=[];this.pe=[];this.Wa=this.Ga="";this.Fc=[];this.Ye=[];this.Bj=[];this.Xr=[];this.Da={};this.Da[" "]=null;this.Da["\t"]=null;this.Da["\n"]=null;this.Da["."]=null;this.Da[","]=null;this.Da["?"]=null;this.Da[":"]=null;this.Da[";"]=null;this.Da['"']=null;this.Da["'"]=null;this.Da["<"]=null;this.Da[">"]=null;this.Da["`"]=null;this.Da["~"]=null;this.Da["!"]=null;this.Da["@"]=
null;this.Da["#"]=null;this.Da.$=null;this.Da["%"]=null;this.Da["^"]=null;this.Da["&"]=null;this.Da["("]=null;this.Da[")"]=null;this.Da["["]=null;this.Da["]"]=null;this.Da["{"]=null;this.Da["}"]=null;this.Da["|"]=null;this.Da._=null;this.Da["\\"]=null;this.Da["-"]=null;this.Da["="]=null;this.Da["+"]=null;this.Da["/"]=null;this.Da["*"]=null};
XODText.rd.ef=function(a,g){for(var d=0,e=a.length-1,b=Math.floor((d+e)/2);a[b]!==g&&d<e;)g<a[b]?e=b-1:g>a[b]&&(d=b+1),b=Math.floor((d+e)/2);return a[b]!==g?!1:!0};
XODText.rd.prototype={kE:function(a,g,d,e,b){this.jo=!1;this.Wc=a.qb();if(0>this.Wc.length||0>g.length||0<=e&&e>b)return!1;this.Mf=d;if(!this.Kx(g))return!1;a=e;g=this.Wc.length;if(0>a)if(0>b)a=0,b=g-1;else return!1;else if(b<a)return!1;console.assert(0<=a&&a<=b);if(a>=g||b>=g)return!1;this.ho=a;this.Aj=b;this.Ec=this.tf()?this.Aj:this.ho;++this.Aj;this.Wa=this.Ga="";this.Ye.clear();this.Bj.clear();this.Yd.clear();this.Wb.clear();this.jo=!0;this.Pa=-1;this.Yh=!1;return!0},run:function(a){var g=-1,
d=-1,e=-1,b="",c="",h=new XODText.ul;h._init();h._clear();if(!this.jo||0>=this.qe.length)return new XODText.Ef(XODText.vb.Xg,e,b,c,g,d);for(var f="",l=-1,m=-1;;){if(this.Ec===this.Aj)return new XODText.Ef(XODText.vb.Xg,e,b,c,g,d);var n=!0;if(!this.Ga.length||this.Pa===this.Ga.length){if(!this.tf()){if(this.Pa===this.Ga.length){if(this.Wz()&&!this.Yh)return this.Yh=!0,e=this.Ec,new XODText.Ef(XODText.vb.$o,e,b,c,g,d);++this.Ec}if(this.Ec===this.Aj)return new XODText.Ef(XODText.vb.Xg,e,b,c,g,d)}else if(this.Pa===
this.Ga.length){if(this.Wz()&&!this.Yh)return this.Yh=!0,e=this.Ec,new XODText.Ef(XODText.vb.$o,e,b,c,g,d);if(this.Ec===this.ho)return new XODText.Ef(XODText.vb.Xg,e,b,c,g,d);--this.Ec}(n=this.Jr(this.Ec))?this.tf()?(this.Pa=this.Ga.length,--this.Pa):this.Pa=0:this.Pa=0}this.Yh=!1;n&&(console.assert(this.Pa!==this.Ga.length),d=this.tD(f,l,m,c,h),f=d.Or,l=d.Un,m=d.Tn,c=d.Cr,g=d.so,d=d.ro);if(n&&l!==this.Ga.length){console.assert(0<f.length);b=f;e=this.Ec;this.tf()?(this.Pa=l)?--this.Pa:this.Pa=this.Ga.length:
this.Pa=m;if(this.Cm())for(a.clear(),f=[],h.mD(this.Wc,f),h=0;h<f.length;++h)l=new XODText.gb,m=f[h],l.x1=m.ue[0],l.y1=m.ue[1],l.x2=m.ue[2],l.y2=m.ue[3],l.ln=m.ue[4],l.nn=m.ue[5],l.mn=m.ue[6],l.pn=m.ue[7],a.add(l);return new XODText.Ef(XODText.vb.Sl,e,b,c,g,d)}this.Pa=this.Ga.length}},Kx:function(a){if(0>=a.length)return!1;for(var g="",d=a.length,e=!1,b=0;b<d;++b){var c=this.oo(a.charAt(b));" "===c?e||(g+=c,e=!0):(e=!1,g+=c)}this.ux=g;this.pe.clear();a="";for(b=0;b<g.length;++b)c=g.charAt(b),this.Vh(c)?
this.pe.add(a.length-1):a+=c;this.qe=a;this.Fp()||(this.qe=this.qe.toLowerCase());b=this.Ng;this.qe.length?this.Ng=!1:(this.qe=g,this.pe.clear(),this.Ng=!0);this.Ng!==b&&0<this.Ga.length&&!this.Jr(this.Ec)&&(this.Pa=this.Ga.length);return!0},setMode:function(a){var g=this.Cm(),d=this.Fp(),e=this.tf();this.Mf=a;var b=this.Cm();a=this.Fp();var c=this.tf(),h=!1;d!==a&&this.Kx(this.ux);if(!(0>=this.Ga.length)){g!==b&&b&&!h&&(console.assert(0<=this.Pa&&this.Pa<=this.Ga.length),this.Jr(this.Ec),h=!0);if(d!==
a&&!h){console.assert(this.Fc.length===this.Ga.length);console.assert(this.Fc.length<=this.Wa.length);g=this.Ga.length;d="";for(b=0;b<g;++b)console.assert(0<=this.Fc[b]&&this.Fc[b]<this.Wa.length),d+=this.oo(this.Wa.charAt(this.Fc[b]));this.Ga=d;a||(this.Ga=this.Ga.toLowerCase())}if(e!==c)if(console.assert(0<=this.Pa&&this.Pa<=this.Ga.length),this.Pa!==this.Ga.length)if(c)for(b=0;2>b;++b)this.Pa&&--this.Pa;else for(b=0;2>b;++b)this.Pa!==this.Ga.length&&++this.Pa;else c?(this.Pa=this.Ga.length,--this.Pa):
this.Pa=0}},Cm:function(){return 0<(this.Mf&XODText.wb.Ly)},BG:function(){return 0<(this.Mf&XODText.wb.Jy)},Fp:function(){return 0<(this.Mf&XODText.wb.Ky)},KG:function(){return 0<(this.Mf&XODText.wb.Ny)},tf:function(){return 0<(this.Mf&XODText.wb.nt)},Wz:function(){return 0<(this.Mf&XODText.wb.My)},tD:function(a,g,d,e,b){var c=this.eD(-1,-1);g=c.Un;d=c.Tn;var h=c.so,f=c.ro;if(g===this.Ga.length)return c;var l,m;a=this.qD(0,0,g,d);l=a.Hx;m=a.Xw;e="";for(var n=l;n<m;++n)e+=this.Wa.charAt(n);a=e;e="";
if(this.BG()){var k=l,q=m,h=this.Wa.length,p=f=0,r=!1,u=n=!1;if(k)for(--k;k;){var w=this.Wa.charAt(k);r&&this.Kf(w)&&p++;r||!u||this.Kf(w)||(r=n=!0);if(30<=f||0<p){k++;break}if(this.Ye.length>k&&-2===this.Ye[k]){var v=this.Wa.charAt(k+1);if("A"<=v&&"Z">=v){++k;n=!0;break}}--k;f++;u=u||this.Kf(w)||"\n"===w}n||(k=l);r=q;for(p=0;q!==h;){this.Kf(this.Wa.charAt(q))&&(r=q-1,p++);if(10<=p||70<=f){q===h-1||this.Kf(this.Wa.charAt(q+1))||(q=r);break}q++}q===h&&--q;for(n=k;n<=q;++n)h=this.Wa.charAt(n),e="\n"===
h?e+" ":e+h;h=l-k;f=m-k}if(this.Cm()){console.assert(this.Wa.length===this.Ye.length);console.assert(m>=l);p=m-l;r=[];for(n=l;n<m;++n)r.sf(r.length,this.Ye[n]);for(l=0;l<p&&0>r[l];)++l;for(n=m=l;l<p;)if(k=r[l],l===p-1)u=this.Ec,k=r[n],q=r[l],0>q&&(q=r[m]),console.assert(0<=u&&0<=k&&q>=k),w=new XODText.tl,w.vl(u,k,q-k+1),b._add(w),++l;else if(-1===k)console.assert(0<=r[m]),++l;else if(-2===k){console.assert(0<=r[m]);u=this.Ec;k=r[n];q=r[m];console.assert(0<=u&&0<=k&&q>=k);w=new XODText.tl;w.vl(u,k,
q-k+1);b._add(w);for(++l;l<p&&0>r[l];)++l;n=m=l}else 0<=k&&(console.assert(0<=r[m]),m===l||this.oD(r,m,l)?(m=l,++l):(u=this.Ec,k=r[n],q=r[m],console.assert(0<=u&&0<=k&&q>=k),w=new XODText.tl,w.vl(u,k,q-k+1),b._add(w),n=m=l))}c.Or=a;c.Un=g;c.Tn=d;c.Cr=e;c.so=h;c.ro=f;return c},Wr:null,Ej:null,rD:function(a){return a.replace(RegExp("[-[\\]{}()*+?.,\\\\^$|#\\s]","g"),"\\$&")},PD:function(a,g,d){Object.nu(this.cs,a)?this.Ej=this.cs[a]:(this.Ej=new RegExp(this.rD(a),"g"),this.cs[a]=this.Ej);this.Ej.lastIndex=
d;this.Wr=this.Ej.exec(g);return null!=this.Wr?this.Ej.lastIndex-this.Wr[0].length:-1},eD:function(a,g){var d,e;d=this.Pa;for(e=this.Ga.length;;){var b=!1;console.assert(0<this.qe.length);if(this.tf()){if(d===e){a=g=e;break}a=this.Ga.lastIndexOf(this.qe,d)}else a=this.PD(this.qe,this.Ga,d);if(0>a){a=g=e;break}g=a+this.qe.length;this.tf()?(d=a,0!==d?--d:d=e):d=g;if(!this.Ng)if(0<this.pe.length)if(this.Yd.length||this.Wb.length){for(var c=this.Wb.length,h=this.Yd.length,f=a-0,l=R.Ud.vd(this.pe);l.mg();){var m=
l.current,m=f+m;if(!XODText.rd.ef(this.Yd,m)&&!XODText.rd.ef(this.Wb,m)){b=!0;break}}if(b)continue;for(var l=a-0,n=g-0-1,k=m=this.Vr(this.Wb,l);k!==c;++k){var q=this.Wb[k];if(q>=l&&q<n&&(m=q-f,!XODText.rd.ef(this.pe,m))){b=!0;break}if(q>=n)break}if(b)continue;for(k=m=this.Vr(this.Yd,l);k!==h;++k){q=this.Yd[k];if(q>=l&&q<n&&(m=q-f,!XODText.rd.ef(this.pe,m))){b=!0;break}if(q>=n)break}if(b)continue}else continue;else if(this.Wb.length)for(l=a-0,n=g-0-1,c=this.Wb.length,k=m=this.Vr(this.Wb,l);k!==c&&
(q=this.Wb[k],q>=l&&q<n||!(q>=n));++k);if(this.KG()){if(0!==a&&(q=a-0-1,!(XODText.rd.ef(this.Yd,q)||XODText.rd.ef(this.Wb,q)||this.Kf(this.Ga.charAt(a))||this.Kf(this.Ga.charAt(a-1)))))continue;if(g!==e&&(q=g-0-1,!(XODText.rd.ef(this.Yd,q)||XODText.rd.ef(this.Wb,q)||this.Kf(this.Ga.charAt(g-1))||this.Kf(this.Ga.charAt(g)))))continue}break}return new XODText.mr("",a,g,"",-1,-1)},Kf:function(a){return Object.nu(this.Da,a)?!0:this.eo(a)||this.DD(a)},Vr:function(a,g){var d=a.indexOf(g);0>d&&(d=~d);return d},
oo:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||8220===a||8221===a)a=34;return String.fromCharCode(a)},Vh:function(a){var g=a;a=a.charCodeAt(0);return"-"===g||8208===a||8209===a||65293===a||173===a},CD:function(a){var g=a;a=a.charCodeAt(0);return","===g||65292===a||65294===a},DD:function(a){var g=a;a=a.charCodeAt(0);return 32<a&&48>a||57<a&&65>a||90<a&&97>a||122<a&&127>a||this.CD(g)||this.Vh(g)||173===a||1642<=a&&(1645>=a||8210<=a&&8231>=a||8240<=a&&8269>=a||8592<=a&&9215>=
a||12441<=a&&12444>=a||65281<=a&&65291>=a||65295===a||65306<=a&&65312>=a||65344===a||65371<=a&&65374>=a)?!0:!1},eo:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},Jr:function(a){if(0>a||a>=this.Wc.length)return!1;this.Wa=this.Ga="";this.Fc.clear();this.Yd.clear();this.Wb.clear();var g=this.Cm(),d=[],e=[];if(g){var b=this.Wc[a].text;if(!b.ready())return!1;a=b.eb;d=b.kc;e=b.Od();console.assert(a.length===d.length);this.Ye.clear();
this.Zr&&this.Xr.clear()}else{b=this.Wc[a].text;if(!b.ready())return!1;a=b.eb}if(0>=a.length)return!1;for(var b="",c=a.length,h=-1,f=0;f<c;++f){var l=a.charAt(f),m=-1;g&&(m=d[f]);if("\n"===l){for(l=f-1;0<=l&&" "===a.charAt(l);)--l;if(!(0>l||this.Vh(a.charAt(l)))){for(l=f+1;l<c&&" "===a.charAt(l);)++l;l>=c||this.Vh(a.charAt(l))||(b+=" ",this.Fc.add(this.Wa.length),this.Wa+=" ",g&&(h=h<m?m:h,this.Br(m,e,8*f)))}}else if(" "===l)f<c-1&&("\n"===a.charAt(f+1)||" "===a.charAt(f+1))||(b+=l,this.Fc.add(this.Wa.length),
this.Wa+=l,g&&(h=h<m?m:h,this.Br(m,e,8*f)));else{if(this.Vh(l))if(this.Ng)b+=this.oo(l),this.Fc.add(this.Wa.length);else{var n=b.length-1;f<c-1&&"\n"===a.charAt(f+1)?this.Yd.add(n):this.Wb.length&&n===this.Wb[this.Wb.length-1]||this.Wb.add(n)}else b+=this.oo(l),this.Fc.add(this.Wa.length);this.Wa+=l;g&&(h=h<m?m:h,this.Br(m,e,8*f))}}console.assert(b.length===this.Fc.length);this.Ga=b;if(g){c=this.Ye.length;this.Bj.clear();for(f=0;f<h+1;++f)this.Bj.add(!0);for(f=0;f<c;++f)m=this.Ye[f],0<=m&&(this.Bj[m]=
!1)}this.Fp()||(this.Ga=this.Ga.toLowerCase());this.Yd.sort();this.Wb.sort();this.pe.sort();return!0},Br:function(a,g,d){this.Ye.add(a);if(this.Zr)for(a=d;a<d+8;++a)this.Xr.add(g[a])},qD:function(a,g,d,e){d?(a=this.Fc[d-1],++a):a=0;e<this.Fc.length?g=this.Fc[e]:(g=this.Fc[e-1],g===this.Wa.length-1&&++g);console.assert(a>=d&&g>=e&&g>=a);if(!this.Ng){if(!XODText.rd.ef(this.pe,this.qe.length-1))for(;0<g&&this.Vh(this.Wa.charAt(g-1));)--g;d=this.Wa.length;if(!XODText.rd.ef(this.pe,-1))for(;a<d-1&&this.Vh(this.Wa.charAt(a));)++a;
g<a&&(console.assert(!1),g=a)}return new XODText.lr(a,g)},oD:function(a,g,d){console.assert(0<=g&&g<=d&&g<a.length&&d<a.length);g=a[g];a=a[d];if(g===a||g+1===a)return!0;for(d=!0;0<=g&&g<a-1;)if(!this.Bj[++g]){d=!1;break}return d},jo:!1,Wc:null,Mf:0,Da:null,Ec:0,ho:0,Aj:0,Pa:0,Yh:!1,Wa:null,Ga:null,Fc:null,Ye:null,Bj:null,qe:null,Ng:!1,ux:null,Yd:null,Wb:null,pe:null,Xr:null,Zr:!1};
XODText.In=function(a){this.ia="";this.Ze=-1;this.ta=[];this.Qa="";this.Wc=a.qb();this.Ua=new XODText.Ff;this.Ua.yb();this.sd=[]};
XODText.In.prototype={Od:function(){for(var a=this.ta.length/8,g=[],d=0;d<a;++d){var e=new XODText.gb,b=8*d;e.Ix(this.ta[b],this.ta[b+1],this.ta[b+2],this.ta[b+3],this.ta[b+4],this.ta[b+5],this.ta[b+6],this.ta[b+7]);g.add(e)}return g},eo:function(a){a=a.charCodeAt(0);return 32===a||1<=a&&31>=a||160===a||8192<=a&&(8207>=a||8232<=a&&8239>=a||8298<=a&&8303>=a)?!0:!1},RD:function(a,g){this.ta.clear();this.Qa="";var d=this.Wc.length;if(0>a||a>=d)return!1;g.normalize();if(0>=this.Ze||this.Ze!==a){d=this.Wc[a].text;
if(!d.ready())return!1;this.Ua=d;this.ia=this.Ua.eb;this.Gr();this.Fr();this.Ze=a}var d=new XODText.Ba,e=Array(8),b,c,h,f=new XODText.Ab;f.yb();var l,m=new XODText.pb;m.yb();var n=[],k=!1;for(h=this.Ua.gm();!h.cb(f);h=h.fh())if(h.uc(d),d.normalize(),!g.Km(d)){for(l=h.Md();!l.cb(m);l=l.Nd())if(l.yc(e),d.Ri(e),!g.Km(d)){b=l.ze();var q=l.Ae();c=n.length;if(0<b&&0<c){k&&("\n"!==n[0]&&(this.eo(n[c-1])?n[c-1]="\n":n.add("\n")),k=!1);for(c=0;c<n.length;++c)this.Qa+=n[c];n.clear()}for(c=0;c<=b;++c)q+c<this.ia.length&&
(c<b?this.Qa+=this.ia.charAt(q+c):n.add(this.ia.charAt(q+c)));0<b&&(q=d.x2-d.x1,c=d.y2-d.y1,this.bf(e,Math.sqrt(q*q+c*c)/b*3))}k=!0}return 0<this.ta.length},Gr:function(){var a,g=new XODText.Ab;g.yb();var d=Array(8),e=Array(8),b=.1,c=-100;for(a=this.Ua.gm();!a.cb(g);a=a.fh()){var h=new XODText.ha,f=new XODText.ha,l=new XODText.pb;l.yb();var m=a.Md(),n=new XODText.pb;n.yb();for(var k=a.Md();!k.cb(l);k=k.Nd())n=k;m.vc(0,d);h.x=(d[0]+d[2]+d[4]+d[6])/4;h.y=(d[1]+d[3]+d[5]+d[7])/4;n.vc(n.bg()-1,e);f.x=
(e[0]+e[2]+e[4]+e[6])/4;f.y=(e[1]+e[3]+e[5]+e[7])/4;l=XODText.ha.distance(h,f);l>b&&(c=Math.atan2(f.y-h.y,f.x-h.x),c*=180/3.1415926,0>c&&(c+=360),b=l)}this.Lb=c;this.Yr=2>Math.abs(this.Lb)||2>Math.abs(this.Lb-180)},kI:function(a,g){this.ta.clear();this.Qa="";var d=this.Wc.length;if(0>a||a>=d)return!1;g.normalize();if(0>=this.Ze||this.Ze!==a){d=this.Wc[a].text;if(!d.ready())return!1;this.Ua=d;this.ia=this.Ua.eb;this.Gr();this.Fr();this.Ze=a}var d=new XODText.Ba,e=Array(8),b,c,h,f=new XODText.Ab;f.yb();
var l,m=new XODText.pb;m.yb();var n=[],k=!1;for(h=this.Ua.gm();!h.cb(f);h=h.fh())if(h.uc(d),d.normalize(),!g.Km(d)){for(l=h.Md();!l.cb(m);l=l.Nd())if(l.yc(e),d.Ri(e),!g.Km(d)){b=l.ze();var q=l.Ae(),p=n.length;if(0<b&&0<p){k&&("\n"!==n[0]&&(this.eo(n[p-1])?n[p-1]="\n":n.add("\n")),k=!1);for(p=0;p<n.length;++p)this.Qa+=n[p];n.clear()}var p=0,r=Array(8),u=Array(8),w=!1,v=!1;for(c=0;c<b;++c)if(q+c<this.ia.length){var x=Array(8),z=new XODText.Ba;l.vc(c,x);z.Ri(x);g.Km(z)?0===p?w=!0:v=!0:(p++,1===p&&w&&
l.vc(c,r),l.vc(c,u),c<b?this.Qa+=this.ia.charAt(q+c):n.add(this.ia.charAt(q+c)))}0<p&&(w&&this.Qh(e,r,!0),v&&this.Qh(e,u,!1),d.Ri(e),b=d.x2-d.x1,q=d.y2-d.y1,this.bf(e,Math.sqrt(b*b+q*q)/p*3))}k=!0}return 0<this.ta.length},iI:function(a,g){this.ta.clear();this.Qa="";var d=this.Wc.length;if(0>a||a>=d)return!1;if(0>=this.Ze||this.Ze!==a){d=this.Wc[a].text;if(null==d||!d.ready())return!1;this.Ua=d;this.ia=this.Ua.eb;this.Gr();this.Fr();this.Ze=a}var e,b,c,h,d=Array(8),f=Array(8),l=new XODText.Ba,m=new XODText.Ab,
n=new XODText.Ab;m.yb();n.yb();var k=this.Yr,q=this.Yr,p,r=new XODText.Ab;r.yb();var u=new XODText.pb;u.yb();var w=new XODText.ha;w.init(g.x1,g.y1);var v=new XODText.ha;v.init(g.x2,g.y2);n=this.sD(w,v,m,n);m=n.ex;n=n.sx;if(m.cb(r)||n.cb(r))return!1;v=new XODText.pb;w=new XODText.pb;v.yb();w.yb();b=e=XODText.ic.Ch;for(var x=m.Md();!x.cb(u);x=x.Nd())x.uc(d),k?(h=g.x1,p=g.y1):(p=d[0],d[0]=d[1],d[1]=p,p=d[2],d[2]=d[3],d[3]=p,h=g.y1,p=g.x1),c=(d[3]+d[1])/2,d[2]<=h?(h=d[2]-h,c-=p,c=h*h+c*c):d[0]>=h?(h=
d[0]-h,c-=p,c=h*h+c*c):(c-=p,c*=c),c<e&&(e=c,v=x);for(x=n.Md();!x.cb(u);x=x.Nd())x.uc(d),q?(e=g.x2,p=g.y2):(p=d[0],d[0]=d[1],d[1]=p,p=d[2],d[2]=d[3],d[3]=p,e=g.y2,p=g.x2),c=(d[3]+d[1])/2,d[2]<=e?(h=d[2]-e,c-=p,c=h*h+c*c):d[0]>=e?(h=d[0]-e,c-=p,c=h*h+c*c):(c-=p,c*=c),c<b&&(b=c,w=x);if(v.cb(u)||w.cb(u))return!1;p=x=0;var z;b=e=XODText.ic.Ch;var C=v.bg();for(z=0;z<C;++z)v.vc(z,d),h=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,h-=g.x1,c-=g.y1,c=h*h+c*c,c<e&&(e=c,x=z);C=w.bg();for(z=0;z<C;++z)w.vc(z,
d),h=(d[0]+d[2]+d[4]+d[6])/4,c=(d[1]+d[3]+d[5]+d[7])/4,h-=g.x2,c-=g.y2,c=h*h+c*c,c<b&&(b=c,p=z);c=m.ab;h=n.ab;b=v.ab;e=w.ab;if(c===h){b>e&&(c=v,v=w,w=c,c=x,x=p,p=c);m.uc(l);if(b===e&&x===p&&(c=new XODText.Ba,!c.Ep(l,g)))return!1;b===e?(p<x&&(c=x,x=p,p=c),c=p):c=v.ze();v.vc(x,d);console.assert(k===q);k=v.Ae();console.assert(x<=c);for(q=x;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<=c&&(v.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/(c+1)*3,this.Qh(f,d,!0),b===e&&(l=Array(8),
w.vc(p,l),this.Qh(f,l,!1)),this.bf(f,k));for(x=v=v.Nd();!x.cb(u)&&x.ab<w.ab;x=x.Nd()){c=x.ze();k=x.Ae();for(q=0;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(x.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.bf(f,k))}w.vc(p,d);c=w.ze();if(b!==e){k=w.Ae();console.assert(p<=c);for(q=0;q<=p;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(w.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.Qh(f,d,!1),this.bf(f,k))}}else{c>h&&(k=m,m=n,n=k,
c=v,v=w,w=c,c=x,x=p,p=c);m.uc(l);c=new XODText.Ba;c.Ep(l,g)||(v=m.Md(),x=0);v.vc(x,d);c=v.ze();k=v.Ae();console.assert(x<=c);for(q=x;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(v.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.Qh(f,d,!0),this.bf(f,k));for(x=v=v.Nd();!x.cb(u);x=x.Nd()){c=x.ze();k=x.Ae();for(q=0;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(x.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.bf(f,k))}for(m=m.fh();!m.cb(n)&&
!m.cb(r);m=m.fh())if(this.fs(m.ip()))for(m.uc(l),x=m.Md();!x.cb(u);x=x.Nd()){c=x.ze();k=x.Ae();for(q=0;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(x.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.bf(f,k))}n.uc(l);c=new XODText.Ba;c.Ep(l,g)||(w=n.Hz(n.ri()-1),p=w.bg()-1);for(x=n.Md();!x.cb(u)&&!x.cb(w);x=x.Nd()){c=x.ze();k=x.Ae();for(q=0;q<=c;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(x.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/
c*3,this.bf(f,k))}w.vc(p,d);c=w.ze();k=w.Ae();console.assert(p<=c);for(q=0;q<=p;++q)k+q<this.ia.length&&(this.Qa+=this.ia.charAt(k+q));0<c&&(w.yc(f),k=f[0]-f[2],q=f[1]-f[3],k=Math.sqrt(k*k+q*q),k=k/c*3,this.Qh(f,d,!1),this.bf(f,k))}return 0<this.ta.length},bf:function(a,g){var d=this.ta.length/8;if(d){for(var e=Array(8),d=8*(d-1),b=0;8>b;++b)e[b]=this.ta[d+b];if(XODText.gb.no(e,a,!0,g))for(b=0;8>b;++b)this.ta[d+b]=e[b];else for(b=0;8>b;++b)this.ta.add(a[b])}else for(var b=0;8>b;++b)this.ta.add(a[b])},
Qh:function(a,g,d){var e=new XODText.ha;e.init(a[0],a[1]);var b=new XODText.ha;b.init(a[2],a[3]);var c=XODText.ha.Bi(b,e);c.normalize()&&(d?(b=new XODText.ha,b.init(g[0],g[1]),g=XODText.ha.Bi(b,e),g=g.tc(c),c=XODText.ha.multiply(c,g),a[0]+=c.x,a[1]+=c.y,a[6]+=c.x,a[7]+=c.y):(e=new XODText.ha,e.init(g[2],g[3]),g=XODText.ha.Bi(e,b),g=g.tc(c),c=XODText.ha.multiply(c,g),a[2]+=c.x,a[3]+=c.y,a[4]+=c.x,a[5]+=c.y))},lx:function(a){var g=XODText.Oa.Mi(0),d=XODText.Oa.Mi(1.570796325),e=XODText.Oa.Mi(3.14159265),
b=XODText.Oa.Mi(3.14159265*1.5);switch(parseInt(a/90+.1)){case 0:return g;case 1:return d;case 2:return e;case 3:return b;case 4:return g;default:return g}},fs:function(){return!0},Ox:function(a,g){var d=this.lx(g),e=new XODText.fc(a.x1,a.y1),e=d.V(e);a.x1=e.x;a.y1=e.y;e=new XODText.fc(a.x2,a.y2);e=d.V(e);a.x2=e.x;a.y2=e.y;a.normalize()},Fr:function(){this.sd.clear();var a,g=new XODText.Ab;g.yb();var d=new XODText.Ba,e=new XODText.uo,b=!1,c=new XODText.Ba;for(a=this.Ua.gm();!a.cb(g);a=a.fh())if(this.fs(a.ip())){a.uc(d);
d.normalize();var h=new XODText.Ba;h.Ce(d);this.Ox(d,this.Lb);if(b){var f=!0;d.y1>c.y1&&(f=!1);if(d.x2<c.x1||d.x1>c.x2)f=!1;var l=d.width()/c.width(),m=d.height()/c.height();if(1.6<l||.7>l||1.4<m||.7>m)f=!1;f?(e.ko.union(h),e.$e.union(d)):(this.sd.add(e),e=new XODText.uo,e.ko.Ce(h),e.$e.Ce(d),e.lo=a);e.mo=a}else e.ko.Ce(h),e.$e.Ce(d),e.lo=a,e.mo=a,b=!0;c.Ce(d)}b&&this.sd.add(e)},ax:function(a,g){for(var d=XODText.ic.Ch,e=new XODText.Ba,b=a.lo,c=a.lo;;c=c.fh()){if(!this.fs(c.ip()))if(c.cb(a.mo))break;
else continue;c.uc(e);this.Ox(e,this.Lb);var h=(e.y1+e.y2)/2;Math.abs(h-g.y)<d&&(b=c,d=Math.abs(h-g.y));if(c.cb(a.mo))break}return b},sD:function(a,g,d,e){var b=-1,c=-1,h=!1,f=!1,l=this.lx(this.Lb),m=new XODText.ha,n=new XODText.ha;m.Dp(a);n.Dp(g);a=new XODText.fc(m.x,m.y);a=l.V(a);m.x=a.x;m.y=a.y;a=new XODText.fc(n.x,n.y);a=l.V(a);n.x=a.x;n.y=a.y;g=0;for(var k=this.sd.length;g<k;++g)l=this.sd[g],0>b&&l.$e.contains(m.x,m.y)&&(b=g,f=!0),0>c&&l.$e.contains(n.x,n.y)&&(c=g,h=!0);if(!f||!h){a=[];for(l=
0;l<this.sd.length;++l)a.add(0);var l=Math.max(b,c),q=new XODText.Ba;q.Xa(m.x,m.y,n.x,n.y);q.wG(.1);0<=l&&q.union(this.sd[l].$e);var p=new XODText.Ba;g=0;for(k=this.sd.length;g<k;++g){var r=new XODText.Ba;r.Ce(this.sd[g].$e);p.Ep(r,q)&&(a[g]=1)}g=a.indexOf(1);for(q=k=a.indexOf(1);-1!==k;){q=k;k++;if(k>=a.length)break;k=a.indexOf(1,k)}a=q;if(0>g)return new XODText.Fn(d,e);0>l?(b=g,c=a,h=new XODText.Ba,h.Ce(this.sd[b].$e),f=(m.x-h.x1)*(m.x-h.x2),f=0<f?Math.min(Math.abs(m.x-h.x1),Math.abs(m.x-h.x2)):
0,l=(m.y-h.y1)*(m.y-h.y2),l=0<l?Math.min(Math.abs(m.y-h.y1),Math.abs(m.y-h.y2)):0,a=(n.x-h.x1)*(n.x-h.x2),a=0<a?Math.min(Math.abs(n.x-h.x1),Math.abs(n.x-h.x2)):0,g=(n.y-h.y1)*(n.y-h.y2),g=0<g?Math.min(Math.abs(n.y-h.y1),Math.abs(n.y-h.y2)):0,f*f+l*l>a*a+g*g&&(h=b,b=c,c=h)):(k=new XODText.Ba,k.Ce(this.sd[l].$e),q=new XODText.ha,f?q.Dp(n):q.Dp(m),console.assert(!(f&&h)&&!(!f&&!h)),console.assert(!k.contains(q.x,q.y)),l-g>Math.max(a-l,0)?(f||(b=Math.min(l,g)),h||(c=Math.min(l,g))):(f||(b=Math.max(l,
a)),h||(c=Math.max(l,a))))}0<=b&&0<=c&&(d=this.ax(this.sd[b],m,d),e=this.ax(this.sd[c],n,e));return new XODText.Fn(d,e)},ta:null,Qa:null,Wc:null,Ua:null,Ze:0,Lb:0,Yr:!1,sd:null};XODText.Ef=function(a,g,d,e,b,c){this.rq=a;this.Fu=g;this.Su=d;this.$x=e;this.PA=b;this.OA=c};XODText.Ef.prototype={rq:0,Fu:0,Su:null,$x:null,PA:0,OA:0};XODText.Fn=function(a,g){this.ex=a;this.sx=g};XODText.Fn.prototype={ex:null,sx:null};XODText.lr=function(a,g){this.Hx=a;this.Xw=g};XODText.lr.prototype={Hx:0,Xw:0};
XODText.mr=function(a,g,d,e,b,c){this.Or=a;this.Un=g;this.Tn=d;this.Cr=e;this.so=b;this.ro=c};XODText.mr.prototype={Or:null,Un:0,Tn:0,Cr:null,so:0,ro:0};XODText.$n.Ea("XODText._intData");XODText.fc.Ea("XODText.Point2D");XODText.gb.Ea("XODText.Quad");XODText.Oa.Ea("XODText.Matrix2D");XODText.ul.Ea("XODText._highlights");XODText.tl.Ea("XODText._highlight");XODText.Qr.Ea("XODText._highlightDocInfo");XODText.uo.Ea("XODText._selectionTextBlock");XODText.wb.Ea("XODText.SearchMode");XODText.vb.Ea("XODText.ResultCode");
XODText.rd.Ea("XODText.TextSearchLowlevel");XODText.In.Ea("XODText.TextLocator");XODText.Ef.Ea("XODText.ResultRun");XODText.Fn.Ea("XODText.ResultFindStructuralBounds");XODText.lr.Ea("XODText.ResultDetermineOriRange");XODText.mr.Ea("XODText.ResultFindTexts");XODText.$n.pw=-2147483648;XODText.gb.EE=Math.cos(3.14159265/180*2);XODText.wb.Ky=1;XODText.wb.Ny=2;XODText.wb.nt=4;XODText.wb.My=8;XODText.wb.Ly=16;XODText.wb.Jy=32;XODText.vb.Xg=0;XODText.vb.$o=1;XODText.vb.Sl=2;self.Za.lq("XODText");
XODText.Df=function(){this.Nw={};this.$r=1E3;this.wx=200};XODText.Df.prototype={xx:0,yx:0,$r:0,wx:0,cz:function(a){var g=new XODText.Ba,d=this.Nw[a];"undefined"!=typeof d?g.Ce(d):window.utils.warn("Character "+a+" does not have bounding box.");return g},ps:function(a,g,d){var e=new XODText.Ba;e.set(g,this.xx,d,this.yx);this.Nw[a]=e},av:function(a,g){this.xx=a;this.yx=g},QI:function(a){this.$r=a}};XODText.fr=function(){this.xt={};this.lc=!1};
$.extend(XODText.fr.prototype,{lc:!1,isReady:function(){return this.lc},oL:function(){return this.xt},Lu:function(a){try{var g=new window.Vd(a);console.assert("FontInfo"===g.la(),"Root element is incorrect.");"FontInfo"===g.la()&&(g.ja(),this._parse(g))}catch(d){console.warn("Font Parser has encountered an error: "+d.message);return}this.lc=!0},Vn:function(a){var g="",d=0,e,b,c;for(2<=a.length&&"{"===a.charAt(0)&&"}"===a.charAt(1)&&(a=a.substr(2));d<a.length;)e=a.charCodeAt(d),128>e?(g+=String.fromCharCode(e),
d++):191<e&&224>e?(b=a.charCodeAt(d+1),g+=String.fromCharCode((e&31)<<6|b&63),d+=2):(b=a.charCodeAt(d+1),c=a.charCodeAt(d+2),g+=String.fromCharCode((e&15)<<12|(b&63)<<6|c&63),d+=3);return g},LD:function(a){a=a.J("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return"f"+parseInt("0x"+a.substr(28,8))},KD:function(a,g){console.assert(null!=g,"Font bbox file is corrupted.");var d=a.J("height");console.assert(null!=d,"Height attribute is missing.");
d=d.split(":");g.av(parseFloat(d[0]),parseFloat(d[1]))},MD:function(a,g){var d=a.J("units_per_em");null!=d&&g.QI(parseInt(d))},JD:function(a,g){console.assert(null!=g,"Font bbox file is corrupted.");var d=a.J("bbox");console.assert(null!=d,"Character width is missing.");var e=d.split(":"),d=parseFloat(e[0]),e=parseFloat(e[1]),b=this.Vn(a.cd());console.assert(0<b.length,"Char value is empty.");g.ps(b,d,e)},_parse:function(a){do{for(var g=null;a.advance();){var d=a.la();"Font"===d?(g=new XODText.Df,
d=this.LD(a),this.KD(a,g),this.MD(a,g),this.xt[d]=g,a.ja()):"c"===d?this.JD(a,g):console.warn("Font XML parser has encountered a tag it can't process.")}a.pa()}while(a.depth)}});XODText.Df.Ea("XODText.Font");XODText.fr.Ea("XODText.FontParser");
(function(a){function g(b){this.done=!1;this.worker=new Worker(a.o.hg()+"CoreWorker.js");var c=null,d=null,e=this;this.index=b;this.worker.addEventListener("message",function(b){switch(b.data.command){case "done":e.done=!0;d=null;break;case "nextChunk":c=b.data.resources;d=b.data.dataString;break;default:throw Error("Unknown message command "+b.data.command+" from worker");}e.done?(e.callback(null,[]),e.finish()):c&&d&&(e.callback(d,c),d=c=null)},!1);this.MJ()}var d=[],e=[],b="./",c=!1;g.prototype=
{setData:function(b){this.done=!1;this.worker.postMessage({command:"data",dataString:b})},cancel:function(){this.worker.postMessage({command:"cancel"})},MJ:function(){this.worker.postMessage({command:"options",imageScaling:c,specialBlendSupported:a.utils.specialBlendSupported})},hH:function(b){this.callback=b;this.worker.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(e.length){var b=e[0];e.shift();this.setData(b.data);b.Is(this)}}};a.kG=function(b,a){for(var c=d.length,m,n=
0;n<c;++n)d[n].done&&(m=d[n]);m||4>c&&(m=d[c]=new g(c));m?(m.setData(b),a(m)):e.push({Is:a,data:b})};a.o=a.o||{};a.o.hg=function(){return b};a.o.SI=function(a){a.indexOf("/")!==a.length-1&&(a+="/");b=a};a.o.oI=function(b){!0===b&&(b=1.4);c=b}})(window);
(function(a){function g(b,a){var k=Error.apply(this,arguments);k.name=this.name="WorkerError";this.stack=k.stack;this.message=k.message;this.userMessage=a}function d(b){m.push(b);for(var a=0;a<n.length;++a)b(n[a])}function e(b,k,e){if(_.isUndefined(b))return null;var p,q=new Promise(function(c,e){d(function(){e(new g("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});p=new aa(b,k,f);p.LJ.then(function(){c()},function(b){e(b)})}),l=new Promise(function(b,
k){if(a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils)"android"!==a.jsworker.platform&&"ios"!==a.jsworker.platform||!a.jsworker.utils.getResourcesDir?a.jsworker.utils.getHTMLContentPath?a.jsworker.utils.getHTMLContentPath(function(a){a?(a.endsWith("/")||(a+="/"),b(a+"js/html5/pdf/")):k(new g("Couldn't fetch resource file path."))}):k(new g("Some functions required for fetching resources are not defined.")):a.jsworker.utils.getResourcesDir(function(a,c){a?k(a):b(c)});else{var c=new XMLHttpRequest;
c.open("GET",window.o.hg()+"pdf/pdfnet.res",!0);c.responseType="arraybuffer";c.onload=function(){200===c.status?b(c.response):k(new g("Couldn't fetch resource file.","error.ResourceLoadError"))};c.onerror=function(){k(new g("Network error","error.ResourceLoadError"))};c.send(null)}});return Promise.all([q,l]).then(function(b){return a.utils.isJSWorker&&a.jsworker&&a.jsworker.utils?p.UG(b[1],e):p.TG(b[1],e)}).then(function(){"undefined"!==typeof c&&p.Wu(c);"undefined"!==typeof h&&p.xq(h);return p})}
var b,c,h,f,l,m=[],n=[],k=_.throttle(function(b){var a=m.length;n.push(b);for(var k=0;k<a;++k)m[k](b)},100,{trailing:!1});g.prototype=Object.create(Error.prototype,{constructor:{value:g,writable:!0,configurable:!0}});a.o=a.o||{};a.o.Wu=function(a){c=a;b&&b.then(function(b){b.Wu(a)})};a.o.xq=function(a){h=a;b&&b.then(function(b){b.xq(h)})};a.o.tI=function(b){f=b};a.o.yF=function(){return new Promise(function(b){if(a.utils.isJSWorker&&a.jsworker)b("jsworker");else if(a.utils.isChrome){var k=$('<embed name="simple_module" id="simple_module" width=0 height=0 src="'+
window.o.hg()+'pdf/SimpleWorker.nmf" type="application/x-pnacl" style="position:absolute" />'),c=k[0];c.addEventListener("error",function(){console.log("PNaClError: PNaCl failed to load. Falling back to Emscripten.");b("ems")},!0);$(document.body).prepend(k);var f=!1,d=function(a){f||(b(a),clearTimeout(e),k.remove(),f=!0)};if("undefined"===typeof c.postMessage)console.log("PNaClError: PNaCl seems to be disabled. Falling back to Emscripten."),d("ems");else{var e,p=function(){console.log("PNaClError: PNaCl Timed out. Falling back to Emscripten.");
d("ems")};c.addEventListener("progress",function(){clearTimeout(e);e=setTimeout(p,5E3)});c.addEventListener("message",function(b){clearTimeout(e);"T"===b.data?d("pnacl"):(console.log("PNaClError: PNaCl responded incorrectly. Falling back to Emscripten."),d("ems"))});c.postMessage("T");e=setTimeout(p,5E3)}}else b("ems")})};var q,p,r;a.o.iz=function(){return r};a.o.zA=function(c,e,h){if(!b||c!==a.o.iz()){h=h||{};var l;q=new Promise(function(b,q){function n(b){function c(a){"action"in a.data&&"workerLoaded"===
a.data.action&&(b.workerLoadingProgress&&b.workerLoadingProgress(1),e.removeEventListener("message",c))}var e;d(function(){q(new g("The worker has encountered an error",a.utils.ie?"error.EmsWorkerErrorIE":"error.EmsWorkerError"))});e=f?new Worker(window.o.hg()+"pdf/ResizableWorker.js"):new Worker(window.o.hg()+"pdf/PDFworker.js");e.onerror=k;p=!0;e.addEventListener("message",c,!1);a.o.aB(3E3);return e}function m(a,k){b(a);r=k}if("jsworker"===c)console.log("Attempting to load JSWorker"),a.utils.isJSWorker&&
(l=a.jsworker.loadWorker(),console.log("JSWorker loaded!"),l&&l.getProcessId(function(b){console.log("Loaded worker in process: "+b)})),p=!1,m(l,"jsworker");else if("pnacl"===c){_.isUndefined(h.useEmscriptenWhileLoading)&&(h.useEmscriptenWhileLoading=!0);_.isUndefined(h.autoSwap)&&(h.autoSwap=!0);p=!1;var K=$('<embed name="pnacl_module" id="pnacl_module" width=0 height=0 src="'+window.o.hg()+'pdf/PDFWorker.nmf" type="application/x-pnacl" style="position:absolute" />');$(document.body).prepend(K);
var y=function(b){b.lengthComputable&&(h.useEmscriptenWhileLoading?(l.removeEventListener("progress",y,!0),l.removeEventListener("loadend",G,!0),l.removeEventListener("crash",H,!0),l.removeEventListener("error",I,!0),m(n(e),"ems"),l.addEventListener("loadend",function(){p=!1;r="pnacl";e.pnaclComplete&&e.pnaclComplete(l);h.autoSwap&&window.o.NA(l)})):e.workerLoadingProgress&&e.workerLoadingProgress(b.loaded/b.total))},G=function(){e.workerLoadingProgress&&e.workerLoadingProgress(1);h.useEmscriptenWhileLoading&&
m(l,"pnacl")},H=function(){q(new g("The Worker has Crashed.","error.PNaClCrashError"))},I=function(){q(new g("Error occurred on worker load.","error.PNaClLoadError"))};l=K[0];l.addEventListener("progress",y,!0);l.addEventListener("loadend",G,!0);l.addEventListener("crash",H,!0);l.addEventListener("error",I,!0);h.useEmscriptenWhileLoading||m(l,"pnacl")}else"ems"===c&&m(n(e),"ems")})}};a.o.NA=function(a){q=Promise.resolve(a);b=null};a.o.DG=function(){return l};a.o.Oz=function(k,c,f){q||a.o.zA(k,c);
if(b){if(l&&f)throw Error("PDFNet was already initialized in demo mode. For solution see pdftron.com/kb_demo_init. Note that calling initPDFWorkerTransports or creating WebViewer object will also call PDFNet.initialize so your license key should be used in all of these calls.");}else l=!f,b=q.then(function(b){return e(b,p,f)});return b};a.ur=g})(window);
(function(a){function g(b,a,c,f,h,g){this.zh=16;this.nC=288;this.status=0;this.root=null;this.m=0;var l=Array(this.zh+1),m,x,z,C,A,D,K,y=Array(this.zh+1),G,H,I,B=new d,L=Array(this.zh);C=Array(this.nC);var J,M=Array(this.zh+1),P,F,O;O=this.root=null;for(A=0;A<l.length;A++)l[A]=0;for(A=0;A<y.length;A++)y[A]=0;for(A=0;A<L.length;A++)L[A]=null;for(A=0;A<C.length;A++)C[A]=0;for(A=0;A<M.length;A++)M[A]=0;m=256<a?b[256]:this.zh;G=b;H=0;A=a;do l[G[H]]++,H++;while(0<--A);if(l[0]==a)this.root=null,this.status=
this.m=0;else{for(D=1;D<=this.zh&&0==l[D];D++);K=D;g<D&&(g=D);for(A=this.zh;0!=A&&0==l[A];A--);z=A;g>A&&(g=A);for(P=1<<D;D<A;D++,P<<=1)if(0>(P-=l[D])){this.status=2;this.m=g;return}if(0>(P-=l[A]))this.status=2,this.m=g;else{l[A]+=P;M[1]=D=0;G=l;H=1;for(I=2;0<--A;)M[I++]=D+=G[H++];G=b;A=H=0;do 0!=(D=G[H++])&&(C[M[D]++]=A);while(++A<a);a=M[z];M[0]=A=0;G=C;H=0;C=-1;J=y[0]=0;I=null;for(F=0;K<=z;K++)for(b=l[K];0<b--;){for(;K>J+y[1+C];){J+=y[1+C];C++;F=(F=z-J)>g?g:F;if((x=1<<(D=K-J))>b+1)for(x-=b+1,I=K;++D<
F&&!((x<<=1)<=l[++I]);)x-=l[I];J+D>m&&J<m&&(D=m-J);F=1<<D;y[1+C]=D;I=Array(F);for(x=0;x<F;x++)I[x]=new d;O=null==O?this.root=new e:O.next=new e;O.next=null;O.list=I;L[C]=I;0<C&&(M[C]=A,B.b=y[C],B.e=16+D,B.t=I,D=(A&(1<<J)-1)>>J-y[C],L[C-1][D].e=B.e,L[C-1][D].b=B.b,L[C-1][D].n=B.n,L[C-1][D].t=B.t)}B.b=K-J;H>=a?B.e=99:G[H]<c?(B.e=256>G[H]?16:15,B.n=G[H++]):(B.e=h[G[H]-c],B.n=f[G[H++]-c]);x=1<<K-J;for(D=A>>J;D<F;D+=x)I[D].e=B.e,I[D].b=B.b,I[D].n=B.n,I[D].t=B.t;for(D=1<<K-1;0!=(A&D);D>>=1)A^=D;for(A^=
D;(A&(1<<J)-1)!=M[C];)J-=y[C],C--}this.m=y[1];this.status=0!=P&&1!=z?1:0}}}function d(){this.n=this.b=this.e=0;this.t=null}function e(){this.list=this.next=null}var b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],l=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.Gg||(a.Gg={});a.Gg.gw=function(b){this.VJ();this.Rq=b;this.Sq=0};a.Gg.gw.prototype={getBytes:function(b){for(var a,c=Array(1024),f=[],d=0;d<b&&0<(a=this.UJ(c,0,c.length));)f[f.length]=String.fromCharCode.apply(null,c.slice(0,a)),d+=a;return d?(this.Rq=this.Rq.slice(this.Sq),this.Sq=0,f.join("")):""},QJ:function(){return this.Rq.length==this.Sq?-1:this.Rq.charCodeAt(this.Sq++)&
255},Sb:function(b){for(;this.Xi<b;)this.Rk|=this.QJ()<<this.Xi,this.Xi+=8},ec:function(a){return this.Rk&b[a]},Jb:function(b){this.Rk>>=b;this.Xi-=b},Qq:function(b,a,c){var f,d,e;if(0==c)return 0;for(e=0;;){this.Sb(this.Me);d=this.yh.list[this.ec(this.Me)];for(f=d.e;16<f;){if(99==f)return-1;this.Jb(d.b);f-=16;this.Sb(f);d=d.t[this.ec(f)];f=d.e}this.Jb(d.b);if(16==f)this.Qc&=32767,b[a+e++]=this.xh[this.Qc++]=d.n;else{if(15==f)break;this.Sb(f);this.zd=d.n+this.ec(f);this.Jb(f);this.Sb(this.Qk);d=this.OB.list[this.ec(this.Qk)];
for(f=d.e;16<f;){if(99==f)return-1;this.Jb(d.b);f-=16;this.Sb(f);d=d.t[this.ec(f)];f=d.e}this.Jb(d.b);this.Sb(f);this.Yi=this.Qc-d.n-this.ec(f);for(this.Jb(f);0<this.zd&&e<c;)this.zd--,this.Yi&=32767,this.Qc&=32767,b[a+e++]=this.xh[this.Qc++]=this.xh[this.Yi++]}if(e==c)return c}this.wh=-1;return e},WJ:function(b,a,c){var f;f=this.Xi&7;this.Jb(f);this.Sb(16);f=this.ec(16);this.Jb(16);this.Sb(16);if(f!=(~this.Rk&65535))return-1;this.Jb(16);this.zd=f;for(f=0;0<this.zd&&f<c;)this.zd--,this.Qc&=32767,
this.Sb(8),b[a+f++]=this.xh[this.Qc++]=this.ec(8),this.Jb(8);0==this.zd&&(this.wh=-1);return f},TJ:function(b,a,d){if(null==this.Pq){var e,r=Array(288);for(e=0;144>e;e++)r[e]=8;for(;256>e;e++)r[e]=9;for(;280>e;e++)r[e]=7;for(;288>e;e++)r[e]=8;this.Cv=7;e=new g(r,288,257,c,h,this.Cv);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.Pq=e.root;this.Cv=e.m;for(e=0;30>e;e++)r[e]=5;this.Bv=5;e=new g(r,30,0,f,l,this.Bv);if(1<e.status)return this.Pq=null,alert("HufBuild error: "+e.status),
-1;this.RJ=e.root;this.Bv=e.m}this.yh=this.Pq;this.OB=this.RJ;this.Me=this.Cv;this.Qk=this.Bv;return this.Qq(b,a,d)},SJ:function(b,a,d){var e,r,u,w,v,x,z,C=Array(316);for(e=0;e<C.length;e++)C[e]=0;this.Sb(5);x=257+this.ec(5);this.Jb(5);this.Sb(5);z=1+this.ec(5);this.Jb(5);this.Sb(4);e=4+this.ec(4);this.Jb(4);if(286<x||30<z)return-1;for(r=0;r<e;r++)this.Sb(3),C[m[r]]=this.ec(3),this.Jb(3);for(;19>r;r++)C[m[r]]=0;this.Me=7;r=new g(C,19,19,null,null,this.Me);if(0!=r.status)return-1;this.yh=r.root;this.Me=
r.m;w=x+z;for(e=u=0;e<w;)if(this.Sb(this.Me),v=this.yh.list[this.ec(this.Me)],r=v.b,this.Jb(r),r=v.n,16>r)C[e++]=u=r;else if(16==r){this.Sb(2);r=3+this.ec(2);this.Jb(2);if(e+r>w)return-1;for(;0<r--;)C[e++]=u}else{17==r?(this.Sb(3),r=3+this.ec(3),this.Jb(3)):(this.Sb(7),r=11+this.ec(7),this.Jb(7));if(e+r>w)return-1;for(;0<r--;)C[e++]=0;u=0}this.Me=9;r=new g(C,x,257,c,h,this.Me);0==this.Me&&(r.status=1);if(0!=r.status)return-1;this.yh=r.root;this.Me=r.m;for(e=0;e<z;e++)C[e]=C[e+x];this.Qk=6;r=new g(C,
z,0,f,l,this.Qk);this.OB=r.root;this.Qk=r.m;return 0==this.Qk&&257<x||0!=r.status?-1:this.Qq(b,a,d)},VJ:function(){null==this.xh&&(this.xh=Array(65536));this.Xi=this.Rk=this.Qc=0;this.wh=-1;this.Oq=!1;this.zd=this.Yi=0;this.Pq=this.yh=null},UJ:function(b,a,c){var f,d;for(f=0;f<c&&(!this.Oq||-1!=this.wh);){if(0<this.zd){if(0!=this.wh)for(;0<this.zd&&f<c;)this.zd--,this.Yi&=32767,this.Qc&=32767,b[a+f++]=this.xh[this.Qc++]=this.xh[this.Yi++];else{for(;0<this.zd&&f<c;)this.zd--,this.Qc&=32767,this.Sb(8),
b[a+f++]=this.xh[this.Qc++]=this.ec(8),this.Jb(8);0==this.zd&&(this.wh=-1)}if(f==c)break}if(-1==this.wh){if(this.Oq)break;this.Sb(1);0!=this.ec(1)&&(this.Oq=!0);this.Jb(1);this.Sb(2);this.wh=this.ec(2);this.Jb(2);this.yh=null;this.zd=0}switch(this.wh){case 0:d=this.WJ(b,a+f,c-f);break;case 1:d=null!=this.yh?this.Qq(b,a+f,c-f):this.TJ(b,a+f,c-f);break;case 2:d=null!=this.yh?this.Qq(b,a+f,c-f):this.SJ(b,a+f,c-f);break;default:d=-1}if(-1==d)return this.Oq?0:-1;f+=d}return f}};a.Gg.inflate=function(b){return(new a.Gg.gw(b)).getBytes(4E9)}})(self);
(function(a){a.Ne={Mg:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(g){for(var d="",e,b,c,h,f,l,m=0;m<g.length;)e=g.charCodeAt(m++),b=g.charCodeAt(m++),c=g.charCodeAt(m++),h=e>>2,e=(e&3)<<4|b>>4,f=(b&15)<<2|c>>6,l=c&63,isNaN(b)?f=l=64:isNaN(c)&&(l=64),d=d+a.Ne.Mg.charAt(h)+a.Ne.Mg.charAt(e)+a.Ne.Mg.charAt(f)+a.Ne.Mg.charAt(l);return d},decode:function(g){var d="",e,b,c,h,f,l=0;for(g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<g.length;)e=a.Ne.Mg.indexOf(g.charAt(l++)),
b=a.Ne.Mg.indexOf(g.charAt(l++)),h=a.Ne.Mg.indexOf(g.charAt(l++)),f=a.Ne.Mg.indexOf(g.charAt(l++)),e=e<<2|b>>4,b=(b&15)<<4|h>>2,c=(h&3)<<6|f,d+=String.fromCharCode(e),64!==h&&(d+=String.fromCharCode(b)),64!==f&&(d+=String.fromCharCode(c));return d}};"undefined"===typeof window.btoa&&(window.btoa=a.Ne.encode);"undefined"===typeof window.atob&&(window.atob=a.Ne.decode)})(window);
(function(a){function g(a){var e;"string"!==typeof a?(e={documentElement:a},this.lu=!1):"undefined"!==typeof DOMParser?(e=new DOMParser,e=e.parseFromString(a,"text/xml"),this.lu=!1):(e=new ActiveXObject("MSXML2.DOMDocument"),e.preserveWhiteSpace=!0,e.async=!1,e.loadXML(a),this.lu=!0);this.current=e.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}g.prototype={Fw:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.Fw();
return this.next?(this.current=this.next,this.next=this.current.nextSibling,!0):!1},la:function(){return this.current.tagName},ja:function(){++this.depth;this.next=this.current.firstChild;this.Fw();this.next||++this.diff},pa:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},J:function(a){return this.current.getAttribute(a)},cd:function(){return this.lu?this.current.text:this.current.textContent}};a.Vd=g})(window);
(function(a){function g(a){this.depth=this.index=0;this.ld=a;this.location={start:0,Mp:1,Np:1,end:a.length,empty:!0};this.Hm=[this.location];this.fu=!1;"?"===this.ld.charAt(1)&&this.rz();this.location.empty=!1}g.prototype={advance:function(){this.Sg=null;this.rz();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.ld.charAt(a))return this.location.empty="/"===this.ld.charAt(this.ld.indexOf(">",a)-1),!0;this.location.end=!0;return!1},KE:function(a){if(a)return a.split("&quot;").join('"').split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&")},
bA:function(){var a=this.location.start+1,e=this.ld.indexOf(">",a);this.location.empty&&--e;a=this.ld.substring(a,e);this.Sg={};e=a.indexOf(" ");if(-1!==e){this.Oy=a.substring(0,e);for(var a=a.slice(e),a=a.split('"'),e=a.length-1,b=0;b<e;++b){var c=a[b],h=a[++b];this.Sg[c.substring(1,c.length-1)]=h}}else this.Oy=a},rz:function(){if(this.fu)this.fu=!1,this.location.start=this.ld.indexOf("<",this.location.start+1);else{var a=this.location.Mp;if(!this.location.empty)for(var e=this.location.Np;0<e;)a=
this.ld.indexOf("<",a),"/"===this.ld.charAt(++a)?--e:(a=this.ld.indexOf(">",a),"/"!==this.ld.charAt(a-1)&&++e);this.location.start=this.ld.indexOf("<",a)}this.location.Mp=this.location.start+1;this.location.Np=1},mark:function(){this.ld.mark&&this.ld.mark(this.location.start)},la:function(){null!==this.Sg&&"undefined"!==typeof this.Sg||this.bA();return this.Oy},ja:function(){++this.depth;this.location={start:this.location.start};this.Hm[this.Hm.length]=this.location;this.fu=!0},pa:function(){--this.depth;
this.Sg=null;var a=this.location.Mp,e=this.location.Np,b=this.location.empty,c=this.location.end;this.Hm.pop();this.location=this.Hm[this.Hm.length-1];this.location.Mp=a;this.location.Np=c?0:b?e:e+1},J:function(a){null!==this.Sg&&"undefined"!==typeof this.Sg||this.bA();return this.KE(this.Sg[a])}};a.vK=g})(self);
(function(a){function g(b){if(b){if(b.length!==this.aj)throw Error("Data is wrong size for zip header!");this.Vl=b=this.FH(b);if(b.Ik!==this.cF)throw Error("Signature is wrong!");this.LG=4294967295===b.Uo;this.Yg={};this.names=[]}}function d(b,d,f){this.source=b;this.Oo=this.Ls=!1;this.ke={};this.Wl=function(){};this.decrypt=d;this.To=f;this.xy=a.o.Cf&&d!==a.o.Cf.decrypt}function e(b){this.Ii=b;this.started=!1;this.qg=1}e.prototype={cancel:function(){}};d.prototype={Qe:"Document/FixedDocument.fdoc",
zf:"Document/DocProps/core.xml",Oe:"Document/Structure/DocStruct.struct",uI:function(b){this.Wl=b},oq:function(b){var d=this;this.jk(function(f){if(f){a.utils.warn("Error loading document: "+f);d.Wl(f);if(b){b(f);return}throw f;}return d.request([d.Qe,d.zf,d.Oe])})},$m:function(){return!1},request:function(b){var a=this;if(!a.Ls)throw Error("Document must be loaded before requesting parts");_(b).each(function(b){a.hF(b,function(b,c,f,k){return b?(c!==a.Oe&&a.Wl(b),a.trigger("partReady",{qa:c,Zf:!1,
Yc:!!b.os,error:b})):a.trigger("partReady",{qa:c,data:f,Zf:!1,Yc:!1,error:null,$b:k})})})},Xu:function(b){this.ag=b},Gs:function(b){var a=this;_(b).each(function(b){var c=a.ke[b];c&&(c.qg--,0===c.qg&&(delete a.ke[b],c.cancel()))})},hF:function(b,a){if(this.ke[b])this.ke[b].qg++;else return this.ke[b]=new e(b),this.DA(b,a)}};_(d.prototype).extend(Backbone.Events);g.prototype={jz:function(){return{start:this.Vl.Uo,stop:this.Vl.Uo+this.Vl.Gy}},fm:function(b){var a=this.Yg[b],f=a.offset+this.hr+a.Ci+
a.Zl;return{start:f,stop:f+a.zs,Ii:b}},kp:function(b){b=this.fm(b);var a=Math.floor(b.start/102400),f=b.stop-b.start;return Math.min(f,102400*(a+1)-b.start)>f/2?a:a+1},YG:function(b){if(b&&(this.Vl=b=this.KH(b),b.Ik!==this.PJ))throw Error("Signature is wrong!");},AF:function(b){var a=this.kp(b),f=this.names.indexOf(b),d;b=[];var e;for(e=f-1;0<=e&&this.kp(this.names[e])===a;--e);d=e+1;var g=this.fm(this.names[d]).start;for(e=f+1;e<this.names.length&&this.kp(this.names[e])===a;++e);a=e-1;f=this.fm(this.names[a]).stop;
for(e=d;e<=a;++e)d=this.fm(this.names[e]),d.start-=g,d.stop-=g,b.push(d);return{start:g,stop:f,BA:b}},ry:function(b){return!!this.Yg[b]},Rz:function(b){return 0!==this.Yg[b].Vs},CA:function(b){for(var a=10,f=this.XB,d=this.Vl.yB,e=0;e<d;e++){var g=this.GH(b,a),a=a+f,k=b.substr(a,g.Ci),a=a+(g.Ci+g.Zl+g.qy+10);this.Yg[k]=g;this.names[this.names.length]=k}},cD:56,dD:20,aj:22,XB:36,hr:30,kq:function(b,a,f){for(var d="",e=0;e<a;e++)var g=b.charCodeAt(e+f).toString(16),d=1===g.length?"0"+g+d:g+d;return parseInt(d,
16)},GH:function(b,a){var f={},d=this.kq;f.Vs=d(b,2,a);f.zs=d(b,4,a+10);f.sJ=d(b,4,a+14);f.Ci=d(b,2,a+18);f.Zl=d(b,2,a+20);f.qy=d(b,2,a+22);f.offset=d(b,4,a+32);return f},KH:function(b){var a={},f=this.kq;a.Ik=f(b,4,0);a.vL=f(b,8,4);a.tM=f(b,2,12);a.uM=f(b,2,14);a.TE=f(b,4,16);a.uE=f(b,4,20);a.kH=f(b,8,24);a.yB=f(b,8,32);a.Gy=f(b,8,40);a.Uo=f(b,8,48);return a},FH:function(b){var a={},f=this.kq;a.Ik=f(b,4,0);a.TE=f(b,2,4);a.uE=f(b,2,6);a.kH=f(b,2,8);a.yB=f(b,2,10);a.Gy=f(b,4,12);a.Uo=f(b,4,16);a.qy=
f(b,2,20);return a},IH:function(b){var a={},f=this.kq;a.Ik=f(b,4,0);a.sM=f(b,2,4);a.kL=f(b,2,6);a.Vs=f(b,2,8);a.ML=f(b,2,10);a.LL=f(b,2,12);a.JK=f(b,4,14);a.zs=f(b,4,18);a.sJ=f(b,4,22);a.Ci=f(b,2,26);a.Zl=f(b,2,28);return a},cF:101010256,PJ:101075792,ZG:67324752,$G:"PK\u0003\u0004"};g.inflate=function(b){return a.Gg.inflate(b)};a.o=a.o||{};a.o.W=a.o.W||{};var b=a.o.W;b.Ve=d;b.nl=g;b.ws=Array(1024);a.Az=function(c,d,f,e){d=d||0;f=f||!1;var g="";if(10===a.utils.ie&&!_.isNull(c.responseBody)||!a.Uint8Array&&
!_.isUndefined(c.responseBody)){f=c.responseBody;f=_.isArray(f)?f:(new a.VBArray(f)).toArray();e=f.length;c=Array(e);for(d=0;d<e;d++)c[d]=f[d]&255;e=e/1024+1;for(f=0;f<e;f++)g+=String.fromCharCode.apply(null,c.slice(1024*f,1024*f+1024))}else if(!a.Uint8Array||f||_.isUndefined(c.response))for(f=c.responseText,c=b.ws;d<e;){for(var n=0;1024>n&&d<e;++n)c[n]=f.charCodeAt(d)&255,++d;g+=String.fromCharCode.apply(null,c.slice(0,n))}else{f=c.response;var n=new a.Uint8Array(f),k=n.length;if(a.utils.typedArrayApply)for(;d<
k;)c=n.subarray(d,d+1024),d+=1024,g+=String.fromCharCode.apply(null,c);else for(c=b.ws;d<k;){f=0;for(e=Math.min(d+1024,k);d<e;f++,d++)c[f]=n[d];g+=String.fromCharCode.apply(null,1024>f?c.slice(0,f):c)}}return g};a.o.W.Ah={ir:0,Hv:1,mC:2}})(window);
(function(a){function g(b,c,e){d.apply(this,arguments);if("xod"!==b.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||!a.File||!a.Blob)throw Error("File API is not supported in this browser");this.file=b}var d=a.o.W.Ve,e=a.o.W.nl;g.prototype=new d;g.prototype=_(g.prototype).extend({pu:function(b,a,d){var f=new FileReader;f.onloadend=function(b,e){if(f.error){var g=f.error;if(g.code===g.ABORT_ERR){console.warn("Request for chunk "+a.start+"-"+a.stop+" was aborted");return}return d(g)}return d(!1,
e||b.target.result)};a&&(b=(b.slice||b.webkitSlice||b.mozSlice||b.pt).call(b,a.start,a.stop));f.readAsBinaryString(b);return function(){f.abort()}},jk:function(b){var a=this;a.Oo=!0;var d=e.prototype.aj;a.pu(a.file,{start:-d,stop:a.file.size},function(f,g){if(f)return console.warn("Error loading end header: %s",f),b(f);if(g.length!==d)throw Error("Zip end header data is wrong size!");a.Tb=new e(g);var m=a.Tb.jz();a.pu(a.file,m,function(f,k){if(f)return console.warn("Error loading central directory: %s",
f),b(f);if(k.length!==m.stop-m.start)throw Error("Zip central directory data is wrong size!");a.Tb.CA(k);a.Ls=!0;a.Oo=!1;return b(!1)})})},DA:function(b,a){var d=this,f=d.ke[b];if(!d.Tb.ry(b))return a(Error('File not found: "'+b+'"'),b);var e=d.Tb.fm(b),g=d.pu(d.file,e,function(f,k){delete d.ke[b];if(f)return console.warn('Error loading part "%s": %s',b,f),a(f);if(k.length!==e.stop-e.start)throw Error("Part data is wrong size!");var q=d.Tb.Rz(b);a(!1,b,k,q)});f.started=!0;f.cancel=g}});a.o.W.iC=g;
a.Te=a.Te||{};a.Te.fK=function(b){return{name:b.value.split(/[\/\\]/).pop(),size:null,data:null,waiting:[],eu:!1,pt:function(b,a){return{lA:this,pt:this.pt,start:b,stop:a}}}};a.Te.gK=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(b){var a=b.lA||b,d=this,f=encodeURI(a.name);if(a.data)return this.au(b);if(a.eu)return a.waiting.push(function(){d.au(b)});a.eu=!0;new JSIO.$J(f,function(f){a.eu=!1;if(f)return console.error('Failed to load file "%s"',a.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
d.error=Error('Failed to load file "%s"',a.name),d.onloadend(d.error);a.size=this.fileSize;a.data=this.read(this.fileSize);d.au.call(d,b);for(f=0;f<a.waiting.length;f++)a.waiting[f]();a.waiting=[]})},au:function(b){var a=b.lA||b,d=b.start||0;b=b.stop||a.size;null===d&&(d=a.size);null===b&&(b=a.size);0>d&&(d=a.size+d);0>b&&(b=a.size+b);a=a.data.slice(d,b);d="";for(b=0;b<a.length/1E3;b++)d+=String.fromCharCode.apply(null,a.slice(1E3*b,1E3*b+1E3));this.result=d;this.onloadend({},d)}}}})(window);
(function(a){function g(a){this.file=a}g.prototype=$.extend({kf:function(a){var e=this,b=new FileReader;b.onload=function(b){e.trigger("documentLoadingProgress",[b.loaded,b.loaded]);a(new Uint8Array(b.target.result))};b.onprogress=function(b){b.lengthComputable&&e.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};b.readAsArrayBuffer(this.file)},getFile:function(){return a.utils.isJSWorker?this.file.path:this.file},xp:function(){return null}},a.utils.eventHandler);a.o.W.jC=g})(window);
(function(a){function g(b,a,f,c){h.apply(this,[b,f,c]);this.sg={};this.As=a;this.url=b}function d(){this.qg=1}function e(b){var k=b.request,f=b.range;return function(c,d){if(c){if(c.code===k.Ub.Sk){a.utils.warn("Request for range "+f.start+"-"+f.stop+" was aborted");return}return b.be.forEach(function(b){b("Error retrieving file: "+k.url+". Received return status "+c.status+".")})}return b.be.forEach(function(b){b(!1,d,k)})}}function b(b,k,f){this.url=b;this.range=k;this.ag=f;this.request=new XMLHttpRequest;
this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");_.isUndefined(k.stop)?this.request.setRequestHeader("Range","bytes="+k.start):this.request.setRequestHeader("Range",["bytes=",k.start,"-",k.stop-1].join(""));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");if(f)for(var c in f)this.request.setRequestHeader(c,f[c]);this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset",
"x-user-defined");this.status=this.Ub.fj}function c(b,k,f){for(var c=-1,d=0;d<f.length;d++)_.isEqual(f[d].range,k)&&_.isEqual(f[d].url,b)&&(c=d);-1===c&&a.utils.warn(k+" not found in queue");return c}var h=a.o.W.Ve,f=a.o.W.nl,l=[],m=[];b.prototype={constructor:b,start:function(b){var k=this,f=this.request;f.onreadystatechange=function(){if(k.os)return k.status=k.Ub.Sk,b({code:k.Ub.Sk});if(this.readyState===k.aD.DONE){k.op();var c=0===window.document.URL.indexOf("file:///");200===f.status||206===f.status||
c&&0===f.status?(c=a.Az(this),k.success(c,b)):(k.status=k.Ub.ERROR,b({code:k.status,status:this.status}))}};this.request.send(null);this.status=this.Ub.jl},success:function(b,a){this.status=this.Ub.HC;if(a)return a(!1,b)},abort:function(){this.op();this.os=!0;this.request.abort()},op:function(){var b=c(this.url,this.range,m);-1!==b&&m.splice(b,1);if(0<l.length){var b=l.shift(),a=new this.constructor(b.url,b.range,this.ag);b.request=a;m.push(b);a.start(e(b))}},aD:{tK:0,DONE:4},Ub:{fj:0,jl:1,HC:2,ERROR:3,
Sk:4},extend:function(b){var a=$.extend({},this,b.prototype);a.constructor=b;return a}};a.yM=[];g.prototype={jq:b,kC:3,Qo:function(b,k,f){var c=-1===b.indexOf("?")?"?":"&";switch(f){case !1:case a.o.W.Ah.ir:b=b+c+"_="+_.uniqueId();break;case !0:case a.o.W.Ah.Hv:b=b+c+"_="+k.start+","+(_.isUndefined(k.stop)?"":k.stop)}return b},dF:function(b,a,f,c,d){for(var e=0;e<l.length;e++)if(_.isEqual(l[e].range,a)&&_.isEqual(l[e].url,b))return l[e].be.push(c),l[e].Yp++,null;for(e=0;e<m.length;e++)if(_.isEqual(m[e].range,
a)&&_.isEqual(m[e].url,b))return m[e].be.push(c),m[e].Yp++,null;f={url:b,range:a,As:f,be:[c],Yp:1,request:{}};if(0===l.length&&m.length<this.kC)return m.push(f),f.request=new this.jq(b,a,d),f;l.push(f);return null},Gm:function(b,a,f){var d=this.Qo(b,a,this.As);(b=this.dF(d,a,this.As,f,this.ag))&&b.request.start(e(b));return function(){var b=c(d,a,m),f;-1!==b?(f=--m[b].Yp,0===f&&m[b].request.abort()):(b=c(d,a,l),-1!==b&&(f=--l[b].Yp,0===f&&l.splice(b,1)))}},mz:function(){return{start:-f.prototype.aj}},
lG:function(){var b=-(f.prototype.aj+f.prototype.dD);return{start:b-f.prototype.cD,end:b}},jk:function(b){var k=this;k.Oo=!0;var c=f.prototype.aj;k.Gm(k.url,k.mz(),function(d,e){function h(){var f=k.Tb.jz();k.Gm(k.url,f,function(c,d){if(c)return a.utils.warn("Error loading central directory: "+c),b(c);if(d.length!==f.stop-f.start)return b("Invalid XOD file: Zip central directory data is wrong size! Should be "+(f.stop-f.start)+" but is "+d.length);k.Tb.CA(d);k.Ls=!0;k.Oo=!1;return b(!1)})}if(d)return a.utils.warn("Error loading end header: "+
d),b(d);if(e.length!==c)return b("Invalid XOD file: Zip end header data is wrong size!");try{k.Tb=new f(e)}catch(g){return b(g)}k.Tb.LG?k.Gm(k.url,k.lG(),function(f,c){if(f)return a.utils.warn("Error loading zip64 header: "+f),b(f);k.Tb.YG(c);h()}):h()})},yz:function(b){b(Object.keys(this.Tb.Yg))},DA:function(b,k){var f=this;if(!f.Tb.ry(b))return delete f.ke[b],k(Error('File not found: "'+b+'"'),b);var c=f.Tb.kp(b);if(c in f.sg){var e=f.ke[b];e.Oj=f.sg[c];e.Oj.qg++;e.cancel=e.Oj.cancel}else{var h=
f.Tb.AF(b),g=f.Gm(f.url,h,function(d,e){if(d)return a.utils.warn('Error loading part "'+b+'": '+d),k(d,b);if(e.length!==h.stop-h.start)return k(Error("Part data is wrong size!"),b);var g;do{if(!f.sg[c])return;g=f.sg[c].qg;for(var l=h.BA.length,r=0;r<l;++r){var m=h.BA[r];k(!1,m.Ii,e.substring(m.start,m.stop),f.Tb.Rz(m.Ii));m.Ii in f.ke&&delete f.ke[m.Ii]}}while(g!==f.sg[c].qg);delete f.sg[c]}),l=f.ke[b];l&&(l.started=!0,l.cancel=function(){l.Oj.qg--;0===l.Oj.qg&&(g(),delete f.sg[c])},f.sg[c]=new d,
l.Oj=f.sg[c],l.Oj.cancel=l.cancel)}}};g.prototype=$.extend(new h,g.prototype);a.o.W.al=g;a.o.W.Wq=b})(window);
(function(a){function g(a,b){d.apply(this,[a]);this.url=a;-1===b.indexOf("/",b.length-1)&&(b+="/");this.path=b}var d=a.o.W.Ve;g.prototype=new d;g.prototype=_(g.prototype).extend({request:function(d){var b=this;_(d).each(function(c){var d=-1!==c.indexOf("Thumbs/"),f=-1!==c.indexOf("Fonts/");if(-1!==c.indexOf("Images/")||d||f)return b.trigger("partReady",{qa:c,data:c,Zf:!0,Yc:!1,error:null,$b:!1});$.ajax({url:b.path+c,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var b=$.ajaxSettings.xhr();
b&&(this.aG=function(){return b.responseBody});return b},success:function(f){var d=a.utils.ie?this.aG():f;f="";var e,k,h;if(a.utils.ie){d=(new a.VBArray(d)).toArray();h=d.length;e=Array(h);for(k=0;k<h;k++)e[k]=d[k]&255;d=h/1024+1;for(k=0;k<d;k++)f+=String.fromCharCode.apply(null,e.slice(1024*k,1024*k+1024))}else for(e=a.o.W.ws,k=0;k<d.length;){for(h=0;1024>h&&k<d.length;++h)e[h]=d.charCodeAt(k)&255,++k;f+=String.fromCharCode.apply(null,e.slice(0,h))}return b.trigger("partReady",{qa:c,data:f,Zf:!1,
Yc:!1,error:null,$b:!0})},error:function(a,f,d){a=Error(f+" "+d);return b.trigger("partReady",{qa:c,Zf:!1,Yc:!!a.os,error:a})}})})},jk:function(a){a()}});a.o.W.br=g})(window);
(function(a){function g(a,e){e=e||{};this.url=a;this.ag=null;this.GJ=!!e.useDownloader;this.withCredentials=!!e.withCredentials}g.prototype=$.extend({Xu:function(a){this.ag=a},kf:function(a){var e=new XMLHttpRequest,b=0===this.url.indexOf("blob:")?"blob":"arraybuffer";e.open("GET",this.url,!0);e.withCredentials=this.withCredentials;e.responseType=b;var c=this;if(this.ag)for(var h in this.ag)e.setRequestHeader(h,this.ag[h]);var f=/^https?:/i.test(this.url);e.addEventListener("load",function(b){if(200===
this.status||!f&&0===this.status)if(c.trigger("documentLoadingProgress",[b.loaded,b.loaded]),"blob"===this.responseType){b=this.response;var e=new FileReader;e.onload=function(b){a(new Uint8Array(b.target.result))};e.readAsArrayBuffer(b)}else a(new Uint8Array(this.response));else c.trigger("error",["pdfLoad",b.currentTarget.statusText])},!1);e.onprogress=function(b){c.trigger("documentLoadingProgress",[b.loaded,0<b.total?b.total:0])};e.addEventListener("error",function(){c.trigger("error",["pdfLoad",
"Network failure"])},!1);e.send()},getFile:function(){return a.utils.isJSWorker?this.url:null},xp:function(){return this.GJ?this.url:null}},a.utils.eventHandler);a.o.W.cr=g})(window);
(function(a){function g(a,f,c,g){b.apply(this,[a,c,g]);this.url=a;this.stream=new e(a,f);this.Tb=new d;this.vA=createPromiseCapability()}function d(){this.buffer="";this.state=0;this.nv=4;this.kg=null;this.nk=c.prototype.hr;this.Yg={}}function e(b,f){var c=-1===b.indexOf("?")?"?":"&";switch(f){case !1:case a.o.W.Ah.ir:this.url=b+c+"_="+_.uniqueId();break;default:this.url=b}this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");
this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.Ub.fj}var b=a.o.W.Ve,c=a.o.W.nl;e.prototype={start:function(b){var a=this,c=this.request,d;a.Em=0;if(b)for(var e in b)this.request.setRequestHeader(e,b[e]);this.hq=setInterval(function(){var b=0===window.document.URL.indexOf("file:///"),b=200===c.status||b&&0===c.status;if(4!==c.readyState||b){try{c.responseText}catch(e){return}a.Em<
c.responseText.length&&(d=a.EH())&&a.trigger("data",d);0===c.readyState&&(a.trigger("done"),clearInterval(a.hq))}else a.trigger("done","Error received return status "+c.status),clearInterval(a.hq)},1E3);this.request.send(null);this.status=this.Ub.jl},EH:function(){var b=this.request,f=b.responseText;if(0!==f.length)if(this.Em===f.length)clearInterval(this.hq),this.trigger("done");else return f=Math.min(this.Em+3E6,f.length),b=a.Az(b,this.Em,!0,f),this.Em=f,b},abort:function(){clearInterval(this.hq);
var b=this;this.request.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");b.status=b.Ub.Sk;return b.trigger("aborted")};this.request.abort()},finish:function(){var b=this;this.request.onreadystatechange=function(){b.status=b.Ub.VB;return b.trigger("done")};this.request.abort()},Ub:{fj:0,jl:1,VB:2,ERROR:3,Sk:4}};_(e.prototype).extend(Backbone.Events);d.prototype=new c;d.prototype=_(d.prototype).extend({processData:function(b){var a;for(b=this.buffer+b;b.length>=this.nk;)switch(this.state){case 0:this.kg=
a=this.IH(b.slice(0,this.nk));if(a.Ik!==this.ZG)throw Error("Wrong signature in local header: "+a.Ik);b=b.slice(this.nk);this.state=1;this.nk=a.zs+a.Ci+a.Zl+this.nv;this.trigger("header",a);break;case 1:if(this.kg.name=b.slice(0,this.kg.Ci),this.Yg[this.kg.name]=this.kg,a=this.nk-this.nv,this.trigger("file",this.kg.name,b.slice(this.kg.Ci+this.kg.Zl,a),this.kg.Vs),b=b.slice(a),b.slice(0,this.nv)===this.$G)this.state=0,this.nk=c.prototype.hr;else return this.state=2,!0}this.buffer=b;return!1}});_(d.prototype).extend(Backbone.Events);
g.prototype=new b;g.prototype=_(g.prototype).extend({oq:function(){var b=this;this.request([this.Qe,this.zf,this.Oe]);this.stream.bind("data",function(a){try{if(b.Tb.processData(a))return b.stream.finish()}catch(c){throw b.stream.abort(),b.Wl(c),c;}});this.stream.bind("done",function(a){b.vA.resolve();a&&b.Wl(a)});this.Tb.bind("header",_(this.MH).bind(this));this.Tb.bind("file",_(this.LH).bind(this));return this.stream.start(this.ag)},yz:function(b){var a=this;this.vA.promise.then(function(){b(Object.keys(a.Tb.Yg))})},
$m:function(){return!0},request:function(){},MH:function(){},abort:function(){this.stream&&this.stream.abort()},LH:function(b,a,c){this.trigger("partReady",{qa:b,data:a,Zf:!1,Yc:!1,error:null,$b:c})}});a.o.W.hw=g;a.o.W.sK=e})(window);
(function(a){function g(a){d.apply(this);this.db=a}var d=a.o.W.Ve;g.prototype=new d;g.prototype=_(g.prototype).extend({request:function(a){var b=this;_(a).each(function(a){b.db.get(a,function(d,f,e){return d?b.trigger("partReady",{qa:a,error:d}):b.trigger("partReady",{qa:a,data:f,Zf:!1,Yc:!1,error:null,$b:e})})})},jk:function(a){a()}});a.o.W.kl=g})(window);
(function(a){function g(b,a,d,f){e.apply(this,arguments)}function d(b,c){this.url=b;this.range=c;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);a.Uint8Array&&(this.request.responseType="arraybuffer");this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.Ub.fj}var e=a.o.W.al;d.prototype=a.o.W.Wq.prototype.extend(d);g.prototype={jq:d,Qo:function(b,a){return b+"/bytes="+a.start+","+(a.stop?a.stop:"")}};g.prototype=$.extend(new e,g.prototype);a.o.W.PB=
g;a.o.W.ZJ=d})(window);
(function(a){function g(b,a,c,d){e.apply(this,arguments)}function d(b,a){this.url=b;this.range=a;this.status=this.Ub.fj}var e=a.o.W.al,b=a.o.W.Wq,c={};d.prototype={start:function(b){var f=this;c[this.range.start]={success:function(c){var d=atob(c),k,e=d.length;c=new Uint8Array(e);for(k=0;k<e;++k)c[k]=d.charCodeAt(k);d=c.length;k="";var p=0;if(a.utils.typedArrayApply)for(;p<d;)e=c.subarray(p,p+1024),p+=1024,k+=String.fromCharCode.apply(null,e);else for(e=Array(1024);p<d;){for(var g=0,l=Math.min(p+
1024,d);p<l;g++,p++)e[g]=c[p];k+=String.fromCharCode.apply(null,1024>g?e.slice(0,g):e)}f.success(k,b)},fail:function(){f.status=f.Ub.ERROR;b({code:f.status})}};var d=document.createElement("IFRAME");d.setAttribute("src",this.url);document.documentElement.appendChild(d);d.parentNode.removeChild(d);d=null;this.status=this.Ub.jl;f.op()}};d.prototype=b.prototype.extend(d);g.prototype={jq:d,Qo:function(b,a){return b+"#"+a.start+"&"+(a.stop?a.stop:"")}};g.prototype=$.extend(new e,g.prototype);a.o.W.bl=
g;a.o.W.jK=d;a.o.W.bl.Hu=function(b,a){var d=c[a];delete c[a];d.success(b)};a.o.W.bl.Gu=function(b,a){var d=c[a];delete c[a];d.fail()}})(window);
(function(a){function g(b,a,c,d){e.apply(this,arguments)}function d(b,a){this.url=b;this.range=a;this.status=this.Ub.fj}var e=a.o.W.al,b=a.o.W.Wq,c={};d.prototype={start:function(b){function a(){e.status=e.Ub.ERROR;b({code:e.status})}function d(a){var k=atob(a),f,c=k.length;a=new Uint8Array(c);for(f=0;f<c;++f)a[f]=k.charCodeAt(f);k=a.length;f="";for(var g=0;g<k;)c=a.subarray(g,g+1024),g+=1024,f+=String.fromCharCode.apply(null,c);e.success(f,b)}var e=this;"undefined"===typeof c[this.range.start]&&
(c[this.range.start]={success:d,fail:a},window.external.notify(this.url),this.status=this.Ub.jl);e.op()}};d.prototype=b.prototype.extend(d);g.prototype={jq:d,Qo:function(b,a){return b+"?"+a.start+"&"+(a.stop?a.stop:"")}};g.prototype=$.extend(new e,g.prototype);a.o.W.ll=g;a.o.W.uK=d;a.o.W.ll.Hu=function(b,a){var d=c[a];delete c[a];d.success(b)};a.o.W.ll.Gu=function(b,a){var d=c[a];delete c[a];d.fail()}})(window);
(function(a){function g(){d.apply(this,arguments)}var d=a.o.W.al;g.prototype=$.extend(new d,{mz:function(){return{start:this.Ty-a.o.W.nl.prototype.aj,stop:this.Ty}},jk:function(a){var b=this;this.Gm(this.url,{start:0,stop:1},function(c,h,f){if(c)return a(c);c=f.request.getResponseHeader("Content-Range");b.Ty=c.split("/")[1];d.prototype.jk.call(b,a)})}});a.o.W.QB=g})(window);
(function(a){function g(b,k,f){this.hd=b;this.zu=!1;this.cache=new e(a.Jv,b.$m());this.K=k;this.ng={};this.Jq={};this.ys={};this.Xs={};this.At=[];this.fp={};this.qv={};this.vf=f;this.aq=_.bind(this.aq,this);b.bind("partReady",this.aq)}function d(b){window._indexedDB=window._indexedDB||window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;window._IDBTransaction=window._IDBTransaction||window.IDBTransaction||window.webkitIDBTransaction;window._IDBTransaction&&!window._IDBTransaction.READ_WRITE&&
(window._IDBTransaction.READ_WRITE="readwrite");this.name=b;this.db=null;this.Ay="1";this.Yo=this.Yc=!1}function e(b,a){this.aH=this.Xm=b;this.queue=[];this.mF=a}function b(b,a){this.Gi=b;this.uA=a;this.be={};this.Ge={};this.Yc=!1;for(var f=0;f<a.length;f++)this.Ge[a[f]]=!0}function c(){this.index=0;this.data={functions:[],be:[],done:!1};this.Zc=[]}function h(b){this.data=b;this.Zc=[]}function f(b,a){for(var f=[],c=0;c<b.length;++c)-1===a.indexOf(b[c])&&f.push(b[c]);return f}function l(b,a){this.Gi=
b;this.yk={};this.gf=null;this.tB={};this.tb=a}var m=a.o.W.br;a.ut=!1;h.prototype={init:function(b){if(this.data){var k=this;a.kG(this.data,function(a){k.worker=a;k.zt();k.pq=[];k.am=!1;k.data=null;b()})}else b()},cancel:function(){for(var b=0;b<this.Zc.length;b++){for(var a=0;a<this.Zc[b].saves;a++)this.Zc[b].restore();this.Zc[b].saves=0}this.Zc=[];this.worker&&this.worker.cancel()},clone:function(){return new h(this.data)},run:function(b,a,f){return this.Hq?(f&&this.zt(),-1===this.Zc.indexOf(b)&&
this.Zc.push(b),runEval(this.Hq,b,a),!1):this.am=!0},wB:function(){var b=this.pq;this.pq=this.wy;return f(this.pq,b)},xB:function(b){var a=this;this.init(function(){function c(){var d=f(a.pq,a.am?[]:a.wy);b(d)}a.xv?c():a.callback=c})},zt:function(){if(this.worker.done)return!1;this.xv=!1;var b=this;this.worker.hH(function(a,f){b.Hq=a;b.wy=f;b.xv=!0;var c=b.callback;b.callback=null;c&&c()})},Bt:function(b){var a=this;this.init(function(){function f(){if(a.Hq){var c=new Function("c","t",a.Hq);a.zt();
b(c)}else b()}a.xv?f():a.callback=f})}};c.prototype={clone:function(){var b=new c;b.data=this.data;b.index=0;return b},cancel:function(){for(var b=0;b<this.Zc.length;b++){for(var a=0;a<this.Zc[b].saves;a++)this.Zc[b].restore();this.Zc[b].saves=0}this.Zc=[]},Bt:function(b,a){function f(){d.Bt(function(b){b?(c.data.functions.push(b),setTimeout(f,0)):(c.data.done=!0,a());b=c.data.be.length;if(0<b){for(var d=0;d<b;++d)c.data.be[d]();c.data.be=[]}})}this.data.done=!1;var c=this,d=new h(b);c.data.functions=
[];f();this.index=0},wB:function(){return[]},xB:function(b){this.data.done||this.index<this.data.functions.length?b([]):this.data.be.push(function(){b([])})},run:function(b,a,f){var c=this.data.functions[this.index];f&&this.index++;-1===this.Zc.indexOf(b)&&this.Zc.push(b);return c?(c(b,a),!1):!0}};b.prototype={CG:function(){return 0===_(this.Ge).keys().length}};e.prototype={getItem:function(b){return(b=this[b])?b:null},setItem:function(b,a,f){if(b in this)this.queue.splice(this.queue.indexOf(b),1),
this.queue.push(b);else if(this.mF)this[b]={data:a,$b:f},this.queue.push(b);else if(a.length<this.aH/2){for(;this.Xm<a.length;){var c=this.queue[0];this.Xm+=this[c].data.length;delete this[c];this.queue.shift()}this.Xm-=a.length;this[b]={data:a,$b:f};this.queue.push(b)}}};d.prototype={open:function(b,a){var f=this,c=window._indexedDB.open(f.name);if(_.isUndefined(c))a("User declined to increase space");else{c.onsuccess=function(){f.db=c.result;if(f.db.setVersion&&f.db.version!==f.Ay){var b=f.db.setVersion(f.Ay);
b.onsuccess=function(){f.db.objectStoreNames.contains(f.name)&&f.db.deleteObjectStore(f.name);f.db.createObjectStore(f.name,{keyPath:"partName"});b.result.oncomplete=d}}else d()};c.onupgradeneeded=function(b){f.db=b.target.result;f.db.objectStoreNames.contains(f.name)&&f.db.deleteObjectStore(f.name);f.db.createObjectStore(f.name,{keyPath:"partName"})};c.onerror=function(){a("Error opening database for offline mode")};var d=function(){f.get("NumParts",function(c,d){if(c)f.Yo=!1,b();else{var e=f.db.transaction([f.name]).objectStore(f.name).count();
e.onsuccess=function(){f.Yo=e.result===d;b()};e.onerror=function(){a("Error opening database for offline mode")}}})}}},oB:function(b,a,f,c){var d=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);d.oncomplete=function(){c&&c()};d.onerror=function(){c&&c();throw Error("Error adding "+b+" to the offline database");};d.objectStore(this.name).put({partName:b,partData:a,compressed:f})},fJ:function(b,a,f,c,d){function e(d){b.mf(d,function(b){var d=a.indexOf(b.qa);-1<d&&delete a[d];h()||
g.oB(b.qa,b.data,b.$b,function(){h()||(l++,c(l/m),l===m&&(g.Yo=!0,f()))})},!0)}function h(){g.Yc&&!C&&(C=!0,d(a),f());return C}var g=this;g.Yc=!1;f=f||function(){};c=c||function(){};d=d||function(){};var l=0,m=a.length,C=!1;g.oB("NumParts",m+1,!1,function(){for(var b=0;b<m;b++)e(a[b])})},qE:function(){this.Yc=!0},get:function(b,a){var f=this.db.transaction([this.name]).objectStore(this.name).get(b);f.onsuccess=function(){f.result?a(!1,f.result.partData,f.result.compressed):a("Part "+b+" not found in the offline database")};
f.onerror=function(){a("Error getting "+b+" from offline database")}},ik:function(){return this.Yo}};g.prototype={mf:function(b,k,f){function c(b){b=$.extend({},b);k(b)}var d=this.cache.getItem(b);if(null!==d){var e=d.$b;d.$b&&!f?(f=a.Gg.inflate(d.data),e=!1):f=d.data;k({qa:b,data:f,Zf:!0,Yc:!1,error:null,$b:e});return k}this.bind(b,c);this.ys[b]=!0;this.Xs[b]=!f;this.hd.request([b]);return c},aq:function(b){if(b.error)console.error("Error reading part "+b.qa+": "+b.error),this.trigger(b.qa,{qa:b.qa,
error:b.error}),this.unbind(b.qa);else{var k=this,f=function(f){k.cache.setItem(b.qa,f,b.$b);if(k.ys[b.qa]){var c=b.$b;b.$b&&k.Xs[b.qa]&&(f=a.Gg.inflate(f),c=!1);delete k.ys[b.qa];delete k.Xs[b.qa];k.trigger(b.qa,{qa:b.qa,data:f,Zf:!1,Yc:!1,error:null,$b:c});k.unbind(b.qa);delete k._callbacks[b.qa]}};this.hd.decrypt?this.hd.xy?f(this.hd.decrypt(b.data,this.hd.To,b.qa)):this.hd.decrypt(b.data,this.hd.To,b.qa,f):f(b.data)}},Xt:function(b){return this.mu?"Thumbs/"+(b+1)+".jpg":"Thumbs/"+(b+1)+".png"},
Wt:function(b,a,f){var c=this,d=!1,e=this.mf(this.Xt(b),function(b){d=b.Zf;c.LA(a);f(b)});d||(this.Jq[a]={Is:e,Mc:b})},wz:function(f,k,c){function d(b){if(b.error)return console.error("Failed to load part for page "+f+": "+b.error);delete A.Ge[z];m.Kl&&0!==m.Go.length||(m.Go=h.oH(b.qa,b.data).map(function(b){b.PageNumber=f+1;return b}));e()}function e(){if(A.CG()){if(null===y.gf)throw Error("Functions have not been generated yet");A.Yc||K||(delete h.ng[f],h.trigger(f,!1,y),c(!1,y),K=!0,h.unbind(f+
""),h._callbacks&&delete h._callbacks[f+""])}}var h=this;this.ng[f]=this.ng[f]||{xk:{}};var g=0<Object.keys(this.ng[f].xk).length;this.ng[f].xk[k]=null;if(g)return a.utils.warn("Duplicate request for page "+f),g=function(b,a){var k=$.extend({},a);k.gf=a.gf.clone();k.yk=$.extend(!0,{},k.yk);c(b,k)},this.ng[f].xk[k]=g,this.bind(f,g);var m=h.K[f],x=m.qq[2],z=m.qq[1],C=m.qq[0],A;A=this.zu?new b(f,[C,z,x]):new b(f,[C,x]);this.ng[f].request=A;var D=A.be,K=!1,y=new l(f,h);D[x]=h.mf(x,function(b){if(b.error)return console.error("Failed to load part for page "+
f+": "+b.error);b=h.rH(b.qa,b.data);delete A.Ge[x];_(b).each(function(b){A.Ge[b.slice(1)]=!0});_(b).each(function(b){b=b.slice(1);var k=-1!==b.indexOf(".odttf")||-1!==b.indexOf(".otf"),c=-1!==b.indexOf(".png")||-1!==b.indexOf(".jpg");a.ut&&k?(delete A.Ge[b],y.yk[b]=h.gi(b)):k&&!h.vf.Hp(h.gi(b).name)?(A.uA.push(b),D[b]=h.mf(b,function(a){if(a.error)return console.error("Failed to load part for page "+f+": "+a.error);delete A.Ge[b];y.yk[b]=h.gi(a.qa,a.data);e()})):c&&a.ut?(delete A.Ge[b],setTimeout(function(){h.mf(b,
function(b){b=h.gi(b.qa,b.data);var a=new Image;a.src=b.data;$(a).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+f)})},0)):(delete A.Ge[b],y.yk[b]=h.gi(b),e())});e()});this.zu&&(D[z]=h.mf(z,d));if(f in h.fp)return y.gf=h.fp[f].clone(),y.tB=h.qv[f],delete A.Ge[C],e();D[C]=h.mf(C,function(b){if(b.error)return console.error("Failed to load part for page "+f+": "+b.error);h.nF(b.data,A,y,function(){delete A.Ge[C];if(a.bj){if(h.At.length>=a.bj){var b=h.At.shift();
delete h.fp[b];delete h.qv[b]}h.At.push(f);h.fp[f]=y.gf;h.qv[f]=y.tB}e()})},!0)},nF:function(b,k,f,d){a.bj?(k=new c,k.Bt(b,d),f.gf=k):(f.gf=new h(b),d())},rE:function(b,a){var f=this.ng[b];if(f){this.hd.Gs(f.request.uA);var c=f.xk[a];c&&this.unbind(b+"",c);delete f.xk[a];if(0===Object.keys(f.xk).length){f.Yc=!0;var f=f.be,d;for(d in f)f.hasOwnProperty(d)&&this.unbind(d,f[d]);delete this._callbacks[b+""];delete this.ng[b]}}},tE:function(b){var a=this.Jq[b];a&&(this.hd.Gs([this.Xt(a.Mc)]),this.LA(b))},
LA:function(b){var a=this.Jq[b];a&&(this.unbind(this.Xt(a.Mc),a.Is),delete this.Jq[b])},gi:function(b,f){var c,d=b,e=b.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(e){case "png":case "jpg":b="i"+b.match(/Images\/(\d+)/)[1];if(f)return{name:b,type:e,data:m&&this.hd instanceof m?this.hd.path+f:"data:image/"+("jpg"===e?"jpeg":e)+";base64,"+btoa(f),qa:d};break;case "odttf":var h;f&&(h=this.PE(b,f));b="f"+parseInt(b.substr(34,8),16);f&&(c=new a.Bh.FontFace(b,h,"opentype"),this.vf.Uz(b)||c.sf());e="font";
break;case "otf":b=b.substr(0,b.length-4);b="f"+parseInt(b.substr(6),10);if(f){if(m&&this.hd instanceof m)c=this.hd.path;else throw Error("Use an external part retriever for documents with external fonts");c=new a.Bh.FontFace(b,null,"opentype",c+f);this.vf.Uz(b)||c.sf()}e="font";break;default:c=f}return{name:b,type:e,data:c,qa:d}},rH:function(b,f){var c=[],d=new a.Vd(f);for(d.ja();d.advance();){var e=d.J("Target");null!==e?c.push(e):a.utils.warn("Corrupt rels part: %s",b)}0<c.length&&_(c).last().match(/Thumbs/)&&
c.pop();return c},oH:function(b,f){var c=[],d=new a.Vd(f);for(d.ja();d.advance();){for(var e=d.la(),h=d.J("BBox"),h=h.split(","),g=0;4>g;++g)h[g]=parseFloat(h[g]);"Hyperlink"===e?c.push(new a.Annotations.Sc({actions:{U:[{name:"URI",uri:d.J("Target")}]},rect:h})):"Link"===e&&c.push(new a.Annotations.Sc({actions:{U:[{name:"GoTo",dest:{page:d.J("ID"),fit:"XYZ",top:d.J("Vpos"),left:d.J("Hpos")}}]},rect:h}))}return c},PE:function(b,a){b=b.split("/")[1].split(".")[0];for(var f=b.split("-"),c=[],d=16,e=
0;e<f.length;++e)for(var h=f[e],g=0;g<h.length;g+=2)c[--d]=parseInt(h.slice(g,g+2),16);for(f=0;16>f;++f)d=c[f],c[f]=String.fromCharCode(a.charCodeAt(f)^d),c[f+16]=String.fromCharCode(a.charCodeAt(f+16)^d);return a=c.join("")+a.slice(32)}};_(g.prototype).extend(Backbone.Events);a.o.W.qC=g;a.o.rC=d;a.o.hK=h})(window);
(function(a){function g(){this.fonts=[]}function d(b,a,d,f){this.url=_.isUndefined(f)?["data:",this.dH[d],";base64,",btoa(a)].join(""):"'"+f+"'";this.url=["url(",this.url,") format('",d,"')"].join("");this.bI=["@font-face { font-family:'",b,"';src:",this.url,"}"].join("");this.name=b}document.head||(document.head=document.getElementsByTagName("head")[0]);a.Bg={};d.prototype={ov:null,styleSheet:null,dH:{woff:"application/x-font-woff",opentype:"font/opentype"},sf:function(){if(!a.Bg[this.name]){if(!this.styleSheet){var b=
document.createElement("style");document.head.appendChild(b);d.prototype.styleSheet=b.sheet;d.prototype.ov=b}b=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.bI,b);a.Bg[this.name]=this.styleSheet.cssRules[b]}},remove:function(){if(!a.utils.ie){var b=a.Bg[this.name];if(!b)throw Error("CSS @font-face rule is not in use");var c,d=this.styleSheet.cssRules.length,f=this.styleSheet.cssRules;for(c=0;c<d;c++)if(f[c]===b){this.styleSheet.deleteRule(c);delete a.Bg[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");
}}};g.prototype={WG:atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="),
XG:0,XD:function(b){this.fonts.push(b)},oG:function(){return 0!==this.fonts.length},cA:function(b){function c(b,a){return b.charCodeAt(a)<<24|b.charCodeAt(a+1)<<16|b.charCodeAt(a+2)<<8|b.charCodeAt(a+3)&255}function d(b,a){n++;30<n?(console.warn("Load test font never loaded."),a()):(g.font="30px "+b,g.fillText(".",0,20),0<g.getImageData(0,0,1,1).data[3]?a():setTimeout(_.bind(d,null,b,a)))}var f,e;f=document.createElement("canvas");f.width=1;f.height=1;var g=f.getContext("2d"),n=0,k="lt"+Date.now()+
this.XG++,q=this.WG,q=q.substr(0,976)+k+q.substr(976+k.length),p=c(q,16);f=0;for(e=k.length-3;f<e;f+=4)p=p-1482184792+c(k,f)|0;f<k.length&&(p=p-1482184792+c(k+"XXX",f)|0);var q=q.substr(0,16)+(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))+q.substr(20),r=new a.Bh.FontFace(k,q,"opentype");r.sf();q=[];f=0;for(e=this.fonts.length;f<e;f++)q.push(this.fonts[f].name);q.push(k);var u=document.createElement("div");u.setAttribute("style",
"visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f=0;for(e=q.length;f<e;++f)p=document.createElement("span"),p.textContent="Hi",p.style.fontFamily=q[f],u.appendChild(p);document.body.appendChild(u);var w=this;d(k,function(){document.body.removeChild(u);r.remove();for(var a=0;a<w.fonts.length;a++)b(w.fonts[a].name);w.fonts=[]})},RG:function(b,a,d){var f=document.createElement("div");f.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
f.innerHTML=""+('<span style="font-family:'+b+'">" + testString +"</span>');document.body.appendChild(f);$.get(a,function(){setTimeout(function(){d();document.body.removeChild(f)},300)})}};if(document.fonts){var e=d,d=function(){e.apply(this,arguments);this.wt=new window.FontFace(this.name,this.url,{})};d.prototype=e.prototype;$.extend(d.prototype,{sf:function(){document.fonts.add(this.wt);a.Bg[this.name]=this},remove:function(){document.fonts["delete"](this.wt)}});$.extend(g.prototype,{cA:function(b){this.fonts.forEach(function(a){a.wt.load().then(function(){b(a.name)})["catch"](function(){b(a.name);
console.warn("font failed to load"+a.name)})})}})}a.Bh={FontFace:d,YB:g}})(window);
(function(a){function g(a,b,c){this.page=a;this.Hi=b;this.vf=c;this.Sy=b.tb.hd.path;this.Ai=this.paused=!1}var d={xe:0,ad:1,ki:2,Ld:3};a.asc=function(a){var b=.707106781*a.m_a+.707106781*a.m_b;a=.707106781*a.m_c+.707106781*a.m_d;return Math.sqrt(b*b+a*a)};g.prototype={pause:function(){this.paused=!0;this.Os()},Os:function(){this.Qp=!1;clearTimeout(this.dA)},BE:function(e,b,c,h,f,g,m){function n(){C=!0;q.xB(function(){if(k.abort){if(z)return w&&(w=!1,h(p)),q=k.resume=null,k.Os(),k.abort&&k.abort(),
c(p);q.wB();k.abort&&(++v,z=q.run(r,u,!0),C=!1,k.Qp=!1,k.paused||k.Aq())}})}var k=this;b=b||d.xe;c=c||function(){};var q=this.Hi.gf;f&&0<f&&(f=Math.round(f));e=a.o.Ja.cn(this.page,e||1,b,g,f,m);var p=e.canvas,r=e.ctx,u=e.t,w=void 0!==h,v=0,x=setTimeout(function(){},a.bj?2E3:6E3);k.abort=function(){C=!1;k.Os();k.dA=null;k.resume=null;q&&(q.cancel(),q=null);k.Hi.gf=null;clearTimeout(x);k.Aq=null;k.abort=null};var z=!1;k.resume=function(){!1!==C||k.Qp||k.Aq();k.paused=!1};k.Aq=function(){k.Qp=!0;k.dA=
setTimeout(n,0)};var C=!1;k.Qp=!1;k.paused||k.Aq()},Bz:function(a){var b=[];if(a)for(var c=0;c<a.length;++c)b[c]=this.Hi.tb.gi(a[c]);else _(this.Hi.yk).each(function(a){b.push(a)});return b},VG:function(d,b,c){function h(b){var c=m.vf.Hp(b.name);f(b);switch(b.type){case "png":case "jpg":if(a.ci[b.name]){if(c){g(b.name);break}a.ci[b.name].Ug.push(function(){g(b.name)});break}var d=new Image;d.onload=function(){for(var b=0;b<this.Ug.length;++b)this.Ug[b]();d.Ug=[];d=d.onload=d.onerror=null};d.onerror=
function(){a.utils.warn("img error "+b.name);for(var f=0;f<this.Ug.length;++f)this.Ug[f]();d.Ug=[];d=d.onload=d.onerror=null};d.hres=b.hres;d.vres=b.vres;a.ci[b.name]=d;d.Ug=[];d.Ug[0]=function(){g(b.name)};d.Mc=m.Hi.Gi;d.src=b.data;break;case "font":_.isUndefined(m.Sy)?k.XD(b.data):k.RG(b.name,m.Sy+b.qa,function(){g(b.name)});break;default:a.utils.warn("unknown resource type: "+b.type),g(b.name)}}function f(b){c&&m.vf.UD(b.name)}function g(a){m.vf.loaded(a);if(m.Ai&&1>--n)return m.Ai=!1,d(b[0])}
if(this.Ai)throw Error("Multiple calls to loadResource");var m=this;b=this.Bz(b);var n=b.length;this.Ai=!0;var k=new a.Bh.YB,q=!0;_(b).each(function(b){q=!1;m.vf.Hp(b.name)?(f(b),g(b.name)):b.data?h(b):m.Hi.tb.mf(b.qa,function(a){m.vf.Hp(b.name)?(f(b),g(b.name)):h(m.Hi.tb.gi(a.qa,a.data))})});k.oG()&&k.cA(_(g).bind(this));q&&(d(),this.Ai=!1)},iy:function(){this.Ai&&(this.Ai=!1)},Ke:function(d){var b=this;b.iy();d=this.Bz(d);_(d).each(function(c){if("font"!==c.type&&b.vf.release(c.name))switch(c.type){case "png":case "jpg":delete a.ci[c.name];
break;case "font":c.data&&c.data.remove()}})}};a.Te=a.Te||{};a.Te.GC=g;a.Te.cw=function(){var a={};return{UD:function(b){b in a?a[b].c++:a[b]={c:1,l:!1}},loaded:function(b){b in a&&(a[b].l=!0)},Uz:function(b){return b in a?!0:!1},Hp:function(b){return b in a?a[b].l:!1},release:function(b){if(!(b in a))return!1;--a[b].c;return a[b].c?!1:(delete a[b],!0)}}};a.o.ra=d;a.Dc=function(e,b,c,h,f,g){h=h||{x:0,y:0};c.width?(c.x1=0,c.y1=0,c.x2=c.width,c.y2=c.height):(c.width=c.x2-c.x1,c.height=c.y2-c.y1);var m=
new XODText.Oa;_.isUndefined(f)&&(f=!0);f&&(f=g||a.utils.getCanvasMultiplier(c.width*e,c.height*e,e),e*=f,h.x*=f,h.y*=f);m.Xa(e,0,0,e,h.x,h.y);e=new XODText.Oa;b===d.xe?e.Xa(1,0,0,1,-c.x1,-c.y1):b===d.ad?e.Xa(1,0,0,1,c.y2,-c.x1):b===d.ki?e.Xa(1,0,0,1,c.x2,c.y2):b===d.Ld&&e.Xa(1,0,0,1,-c.y1,c.x2);m.concat(e);m.concat(XODText.Oa.Mi(Math.PI/2*(4-b)));return m}})(window);
(function(a){a.Actions||(a.Actions={});var g=a.Actions;g.Action=function(a){_.isObject(a)&&_.isString(a.name)&&(this.te=a.name)};g.Action.prototype={elementName:null,onTriggered:function(){},serialize:function(){return document.createElementNS("",this.elementName)},deserialize:function(){}};Object.defineProperties(g.Action.prototype,{name:{get:function(){return this.elementName}}});g.Se=function(a){g.Action.call(this,a);this.rl=new g.Se.ar;_.isObject(a)&&this.rl.set(a.dest)};g.Se.prototype={elementName:"GoTo",
onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,a,b,c);this.rl.fE(c)},serialize:function(a){var b=g.Action.prototype.serialize.call(this,a);$(b).append(this.rl.serialize(a));return b},deserialize:function(a,b){g.Action.prototype.deserialize(a,b);this.rl.deserialize(a,b)}};g.Se.prototype=$.extend(Object.create(g.Action.prototype),g.Se.prototype);Object.defineProperties(g.Se.prototype,{dest:{get:function(){return this.rl}}});g.Se.ar=function(a){this.Cl=1;this.sl="Fit";this.ud=this.Xe=
this.af=this.Hd=this.Fd=null;this.set(a)};g.Se.ar.prototype={set:function(a){if(_.isObject(a)){_.isUndefined(a.page)||(this.Cl=Number(a.page));var b=a.fit;_.isString(b)&&(this.sl=b);switch(b){case "XYZ":_.isUndefined(a.left)||(this.Fd=Number(a.left));_.isUndefined(a.top)||(this.Hd=Number(a.top));_.isUndefined(a.zoom)||(this.ud=Number(a.zoom));break;case "FitBH":case "FitH":_.isUndefined(a.top)||(this.Hd=Number(a.top));break;case "FitBV":case "FitV":_.isUndefined(a.left)||(this.Fd=Number(a.left));
break;case "FitR":_.isUndefined(a.left)||(this.Fd=Number(a.left));_.isUndefined(a.top)||(this.Hd=Number(a.top));_.isUndefined(a.right)||(this.af=Number(a.right));_.isUndefined(a.bottom)||(this.Xe=Number(a.bottom));a=_.min([this.Fd,this.af]);var b=_.min([this.Hd,this.Xe]),c=_.max([this.Fd,this.af]),d=_.max([this.Hd,this.Xe]);this.Hd=b;this.Fd=a;this.Xe=d;this.af=c}}},serialize:function(a){var b=document.createElementNS("","Dest"),c=document.createElementNS("",this.sl),d=this.Hd||0,f=this.Fd||0,g=this.Xe||
0,m=this.af||0;a=a.inverse();f=a.V({x:f,y:d});g=a.V({x:m,y:g});d=_.isNull(this.Hd)?null:f.y;f=_.isNull(this.Fd)?null:f.x;m=_.isNull(this.af)?null:g.x;g=_.isNull(this.Xe)?null:g.y;_.isNull(this.Cl)||c.setAttribute("Page",this.Cl);_.isNull(this.ud)||c.setAttribute("Zoom",this.ud);d&&c.setAttribute("Top",d);f&&c.setAttribute("Left",f);m&&c.setAttribute("Right",m);g&&c.setAttribute("Bottom",g);switch(this.sl){case "XYZ":_.isNull(f)&&c.setAttribute("Left","");_.isNull(d)&&c.setAttribute("Top","");_.isNull(this.ud)&&
c.setAttribute("Zoom","");break;case "FitBH":case "FitH":_.isNull(d)&&c.setAttribute("Top","");break;case "FitBV":case "FitV":_.isNull(f)&&c.setAttribute("Left","");break;case "FitR":_.isNull(f)&&c.setAttribute("Left",""),_.isNull(d)&&c.setAttribute("Top",""),_.isNull(m)&&c.setAttribute("Right",""),_.isNull(g)&&c.setAttribute("Bottom","")}$(b).append(c);return b},deserialize:function(a,b){var c=Annotations.ea,d=c.getAttribute(a,"PageNum"),f,g,m,n,k,q;g=c.getAttribute(a,"Hpos");f=c.getAttribute(a,
"Vpos");var p=a.getElementsByTagName("Dest");if(!d||0<p.length)if(p=p[0],p=c.It(p))d=c.getAttribute(p,"Page"),q=c.Nt(p),f=c.getAttribute(p,"Top"),g=c.getAttribute(p,"Left"),m=c.getAttribute(p,"Right"),n=c.getAttribute(p,"Bottom"),k=c.getAttribute(p,"Zoom");c=b.V({x:g||0,y:f||0});p=b.V({x:m||0,y:n||0});f=_.isNull(f)?void 0:c.y;g=_.isNull(g)?void 0:c.x;m=_.isNull(m)?void 0:p.x;n=_.isNull(n)?void 0:p.y;this.set({page:_.isNull(d)?void 0:d,fit:_.isNull(q)?void 0:q,top:f,left:g,right:m,bottom:n,zoom:_.isNull(k)?
void 0:k})},fE:function(a){var b=this.Hd||0,c=this.Fd||0,d=this.Cl||1;switch(this.sl){case "XYZ":this.ud&&a.Dv(this.ud);a.Rl(d,b,c);break;case "Fit":case "FitB":case "FitV":case "FitBV":a.xd(d);a.Zu(a.Re.Ov);break;case "FitH":case "FitBH":a.xd(d);a.Zu(a.Re.er);a.Rl(d,b,0);break;case "FitR":var f=this.af&&this.Fd?Math.abs(this.af-this.Fd):null,g=this.Xe&&this.Hd?Math.abs(this.Xe-this.Hd):null,f=f?a.Qb().innerWidth()/f:Infinity,g=g?a.Qb().innerHeight()/g:Infinity,g=Math.min(f,g);Infinity!==g&&a.Dv(g);
a.Rl(d,b,c);break;default:a.xd(d)}}};Object.defineProperties(g.Se.ar.prototype,{page:{get:function(){return this.Cl},set:function(a){this.set({page:a})}},fit:{get:function(){return this.sl}},top:{get:function(){return _.isNull(this.Hd)?void 0:this.Hd}},left:{get:function(){return _.isNull(this.Fd)?void 0:this.Fd}},bottom:{get:function(){return _.isNull(this.Xe)?void 0:this.Xe}},right:{get:function(){return _.isNull(this.af)?void 0:this.af}},zoom:{get:function(){return _.isNull(this.ud)?void 0:this.ud}}});
g.qj=function(a){g.Action.call(this,a);this.Gl="";_.isObject(a)&&_.isString(a.uri)&&(this.Gl=a.uri)};g.qj.prototype={elementName:"URI",onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,a,b,c);a=this.Gl;0!==a.indexOf("http://")&&0!==a.indexOf("https://")&&0!==a.indexOf("ftp://")&&0!==a.indexOf("mailto:")&&0!==a.indexOf("tel:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a);window.open(a)},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea,
d=c.getAttribute(a,"Target");_.isNull(d)&&(d=c.It(a),d=c.getAttribute(d,"Name"));this.Gl=d},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.Gl);return a}};g.qj.prototype=$.extend(Object.create(g.Action.prototype),g.qj.prototype);Object.defineProperties(g.qj.prototype,{uri:{get:function(){return this.Gl}}});g.gj=function(a){g.Action.call(this,a);this.rj="";_.isObject(a)&&_.isString(a.action)&&(this.rj=a.action)};g.gj.prototype={elementName:"Named",onTriggered:function(a,
b,c){g.Action.prototype.onTriggered.call(this,a,b,c);switch(this.rj){case "NextPage":c.xd(c.mi()+1);break;case "PrevPage":c.xd(c.mi()-1);break;case "FirstPage":c.xd(1);break;case "LastPage":c.xd(c.wc());break;default:console.warn("Invalid named action name: "+this.rj)}},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea,d=c.getAttribute(a,"N");_.isNull(d)&&0<a.getElementsByTagName("Named").length&&(d=c.getAttribute(a.getElementsByTagName("Named")[0],"Name"));
this.rj=d},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);a.setAttribute("Name",this.rj);return a}};g.gj.prototype=$.extend(Object.create(g.Action.prototype),g.gj.prototype);Object.defineProperties(g.gj.prototype,{action:{get:function(){return this.rj}}});g.dj=function(a){g.Action.call(this,a);this.Ir=this.fo=null;this.set(a)};g.dj.prototype={elementName:"JavaScript",set:function(a){_.isObject(a)&&_.isString(a.javascript)&&(this.fo=a.javascript)},onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,
a,b,c);a=c.getDocument().wl;this.Ir||(this.Ir=a.Pj(this.fo,c));a.Ak(this.Ir,b,c)},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea.getAttribute(a,"JavaScript");c||(c=a.getElementsByTagName("JavaScript")[0].textContent);this.set({javascript:c})},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);$(a).text(this.fo);return a}};g.dj.prototype=$.extend(!0,new g.Action,g.dj.prototype);Object.defineProperties(g.dj.prototype,{javascript:{get:function(){return this.fo||
""}}});g.Fh=function(a){g.Action.call(this,a);this.Jg=!1;this.$a=null;_.isObject(a)&&(_.isArray(a.fields)&&(this.$a=a.fields.slice()),_.isUndefined(a.exclude)||(this.Jg=!!a.exclude))};g.Fh.prototype={elementName:"ResetForm",onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,a,b,c);var d=this,f=c.bd().oi();this.Jg||_.isNull(this.$a)?f.kn({Lm:function(b,a,f){d.$a&&-1!==d.$a.indexOf(b)||f.MA()}}):this.$a.forEach(function(b){var a=f.kb(b);a?a.MA():console.warn("Missing field during reset:",
b)})},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea,d=[],f=!0;_.isNull(c.getAttribute(a,"ResetFields"))?_.isNull(c.getAttribute(a,"ResetExcludedFields"))?0<a.getElementsByTagName("ResetForm").length&&(a=a.getElementsByTagName("ResetForm")[0],(d=c.getAttribute(a,"Fields"))&&(d=d.split(",")),c=parseInt(c.getAttribute(a,"Flags"),10),_.isNull(d)||_.isUndefined(d)?(d=[],f=!0):f=1===c?!0:!1):(d=c.getAttribute(a,"ResetExcludedFields").split(","),f=!0):(d=c.getAttribute(a,
"ResetFields").split(","),f=!1);this.$a=d;this.Jg=!!f},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);this.$a&&a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",this.Jg?1:0);return a}};g.Fh.prototype=$.extend(Object.create(g.Action.prototype),g.Fh.prototype);Object.defineProperties(g.Fh.prototype,{fields:{get:function(){return this.$a}},exclude:{get:function(){return this.Jg}}});g.Hh=function(d){g.Action.call(this,d);this.zo="";this.$a=[];this._format="xfdf";this.Yn=
!1;this._method="POST";this.Jg=!1;this.Cb=new a.Annotations.Ig({mask:"IncludeNoValueFields IncludeAppendSaves IncludeAnnotations CanonicalFormat WxclNonUserAnnots ExclFKey EmbedForm".split(" ")});this.set(d)};g.Hh.prototype={elementName:"SubmitForm",set:function(a){_.isObject(a)&&(a.url&&(this.zo=String(a.url)),_.isArray(a.fields)&&(this.$a=a.fields.slice()),a.format&&(this._format=a.format),a.includeEmpty&&(this.Yn=!!a.includeEmpty),a.flags&&this.Cb.set(a.flags),a.method&&(this._method=String(a.method)),
a.exclude&&(this.Jg=!!a.exclude))},onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,a,b,c);var d=this,f=[],l=c.bd(),m=l.oi();0<this.$a.length?this.$a.forEach(function(b){f.push(m.kb(b))}):m.yt(function(b){_.isNull(b.value)&&!d.Yn||f.push(b)});a="";"xfdf"===this._format?a=l.$h.PC(f):("fdf"===this._format&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),a=l.$h.QC(f));$.ajax({type:"POST",url:this.zo,data:a,success:function(b){if(l.pB)l.pB(b);else{var a=
window.open();_.isNull(a)||_.isUndefined(a)?console.warn("Form popup blocked"):a.document.write(b)}},error:function(){console.warn("Failed to submit form data to server.")}})},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea,d=a.getElementsByTagName("SubmitForm"),f="SubmitURL",l="SubmitFields",m="SubmitFlag";0<d.length&&(a=d[0],f="URL",l="Fields",m="Flags");d=c.getAttribute(a,f);f=null;_.isNull(c.getAttribute(a,l))||(f=c.getAttribute(a,l).split(","));l=
0;_.isNull(c.getAttribute(a,m))||(l=parseInt(c.getAttribute(a,m),10));c="fdf";l&4&&(c="html");l&32&&(c="xfdf");this.set({url:d,fields:f||void 0,format:c,flags:0!==(l&2)?["IncludeNoValueFields"]:[]})},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.$a.join(","));a.setAttribute("Flags",("xfdf"===this._format?32:0)|("html"===this._format?4:0)|(this.Yn?2:0));a.setAttribute("URL",this.zo);return a}};g.Hh.prototype=$.extend(Object.create(g.Action.prototype),
g.Hh.prototype);Object.defineProperties(g.Hh.prototype,{url:{get:function(){return this.zo}},fields:{get:function(){return this.$a}},format:{get:function(){return this._format}},includeEmpty:{get:function(){return this.Yn}},flags:{get:function(){return this.Cb},set:function(a){this.Cb.set(a)}},method:{get:function(){return this._method}},exclude:{get:function(){return this.Jg}}});g.cj=function(a){g.Action.call(this,a);this.$a=[];this._hide=!0;this.set(a)};g.cj.prototype={elementName:"Hide",set:function(a){_.isObject(a)&&
(_.isArray(a.fields)&&(this.$a=a.fields.slice()),_.isUndefined(a.hide)||(this._hide=!!a.hide))},onTriggered:function(a,b,c){g.Action.prototype.onTriggered.call(this,a,b,c);var d=c.bd().oi(),f=this;this.$a.forEach(function(a){d.kb(a).me(!f.hide)})},deserialize:function(a,b){g.Action.prototype.deserialize.call(this,a,b);var c=Annotations.ea,d=!0,f;_.isNull(c.getAttribute(a,"HideField"))?0<a.getElementsByTagName("Hide").length?(a=a.getElementsByTagName("Hide")[0],f=c.getAttribute(a,"Fields").split(","),
d="false"===c.getAttribute(a,"Hide")?!1:!0):(f=[c.getAttribute(a,"ShowField")],d=!1):f=[c.getAttribute(a,"HideField")];this._hide=d;this.$a=f},serialize:function(a){a=g.Action.prototype.serialize.call(this,a);a.setAttribute("Fields",this.hL.join(","));a.setAttribute("Hide",this.hide?"true":"false");return a}};g.cj.prototype=$.extend(Object.create(g.Action.prototype),g.cj.prototype);Object.defineProperties(g.cj.prototype,{fields:{get:function(){return this.$a}},hide:{get:function(){return this._hide}}});
g.Nv=function(){this.Ex={GoTo:g.Se,URI:g.qj,Named:g.gj,JavaScript:g.dj,ResetForm:g.Fh,SubmitForm:g.Hh,Hide:g.cj}};g.Nv.prototype={zG:function(a){if(_.isObject(a)){var b=this.Ex[a.name];return b?new b(a):null}},AG:function(a,b){var c=Annotations.ea.pF(a);return(c=this.Ex[c])?(c=new c,c.deserialize(a,b),c):null}};var d=new g.Nv;g.nL=function(){return d};g.Bf=function(a){this.Oh={};this.Mr=null;_.isObject(a)&&_.isObject(a.actions)&&this.Ao(a.actions)};g.Bf.prototype={Ao:function(a){if(_.isObject(a))for(var b in a)if(a.hasOwnProperty(b))for(var c=
a[b].length,d=0;d<c;++d)this.ai(b,a[b][d])},ai:function(a,b){var c=this.Oh[a]||[];if(b instanceof g.Action)-1===c.indexOf(b)&&c.push(b);else if(_.isObject(b)){var h=d.zG(b);h&&c.push(h)}this.Oh[a]=c},li:function(){return this.Oh},yd:function(a,b){var c=this.Oh[a];if(c)for(var d=c.length,f=0;f<d;++f)c[f].onTriggered(this,b,this.Mr)},yf:function(a){this.Mr=a},ni:function(){return this.Mr},cI:function(a,b,c){function d(a,k){k.forEach(function(k){var c=document.createElementNS("","Action");c.setAttribute("Trigger",
a);var d=$(c);if(k=k.serialize(b))d.append(k),g=!0;$(f).append(c)})}var f;f=c?c:document.createElementNS("","OnActivation");var g=!1,m;for(m in this.Oh)this.Oh.hasOwnProperty(m)&&d(m,this.Oh[m]);g&&!c&&$(a).append(f)},Sx:function(a,b){for(var c=Annotations.ea,g=c.oF(a),f=g.length,l=0;l<f;++l){var m=g[l],n=c.getAttribute(m,"Trigger")||"U";(m=d.AG(m,b))&&this.ai(n,m)}}}})(window);
(function(a){function g(a,b){return a-b}function d(b,f){a.Actions.Bf.call(this);this.width=b;this.height=f;this.text=null;this.qq=[];this.links=[];this.ed=null}function e(b,f,c,d,e,g){var h={getZoom:function(){return 1},getPageRotation:function(){return a.o.ra.xe},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){},onError:function(){}};_.isObject(b)?(h=
$.extend(h,b),h.zoom&&(h.getZoom=function(){return h.zoom}),h.pageRotation&&(h.getPageRotation=function(){return h.pageRotation})):h=$.extend(h,{pageIndex:b,getZoom:function(){return f},getPageRotation:function(){return c},drawProgressive:e,drawComplete:d,canvasNum:g});return h}function b(){console.warn("Function not implemented.")}function c(a){a in this.ek?(clearTimeout(this.ek[a]),delete this.ek[a]):this.La.Fs(a)}var h=window.o,f=a.o.W.nl,l=a.o.W.br;a.ci=a.ci||{};a.o.Cn={oC:0,pC:1,DC:2};d.prototype=
$.extend({wI:function(a){this.height=a.height;this.width=a.width;this.ed=a.matrix;this.rotation=a.rotation;this.id=a.id;this.fb=a.pageNum}},Object.create(a.Actions.Bf.prototype));var m=1E3;a.o.aB=function(a){m=a};a.o.or=function(b){a.Zi=524288*b*b;a.Jv=524288*b*b;a.bj=3*b;switch(b){case 0:a.bj=0;a.Zi=0;a.Jv=0;break;case 1:a.bj=0,a.Zi=0}};a.o.dw=function(b){a.Sp=1+2*(b-1);a.Tp=b-1;0>a.Sp&&(a.Sp=0);0>a.Tp&&(a.Tp=0)};a.o.or(6);a.o.dw(5);h.oe=function(a,b,f,c,d,e,g){this.children=a;this.name=b;this.Gi=
f;this.parent=c;this.Ok=d||0;this.dk=e||0;this.url=g};h.oe.prototype={gz:function(){return this.children},getName:function(){return this.name},Hb:function(){return this.Gi},xp:function(){return this.url},getParent:function(){return this.parent},jG:function(){return this.Ok},EF:function(){return this.dk},isValid:function(){return!!this.url||_.isNumber(this.Gi)}};var n=Backbone.Model.extend({defaults:{title:"",SK:null,oM:null,HL:null,RK:null,tu:null,description:null,cM:null}});h.Document=function(b,
f){a.Actions.Bf.call(this);this.wl=a.Annotations.N.hb.FE();_.isUndefined(f)?this.v=new h.ml(b):"pdf"===f&&(this.v=new h.fl);var c=this;this.v.vI(function(a){c.trigger(a.type,[a.data])});this.UC=20;this.rk=[];this.pv={}};h.Document.prototype={Nj:function(a){return this.v.Nj.apply(this.v,arguments)},mH:function(a){this.wl.JJ(a)},Vf:function(a){return this.v.Vf.apply(this.v,arguments)},hn:function(a){return this.v.hn.apply(this.v,arguments)},No:function(){return this.v.No.apply(this.v,arguments)},bm:function(){return this.v.bm.apply(this.v,
arguments)},mp:function(a){this.v.mp.apply(this.v,arguments)},pp:function(){return this.v.pp.apply(this.v,arguments)},wc:function(){return this.v.wc.apply(this.v,arguments)},Kc:function(a){var b={};b.width=this.v.K[a].width;b.height=this.v.K[a].height;return b},rp:function(a,b,f){return this.v.rp.apply(this.v,arguments)},Vt:function(a,b,f,c){return this.v.Vt.apply(this.v,arguments)},Ap:function(a,b,f){return this.v.Ap.apply(this.v,arguments)},Zt:function(a,b,f){return this.v.Zt.apply(this.v,arguments)},
fk:function(){return this.v.fk.apply(this.v,arguments)},zm:function(a){return this.v.zm.apply(this.v,arguments)},ik:function(){return this.v.ik()},nh:function(a,b,f){var c=this;return this.v.nh.call(this.v,a,function(a){for(var f=c.qb(),k=f.length,d=c.ni(),e=0;e<k;++e)f[e].yf(d);b(a)},f)},lg:function(a,b,f,c,d,e){return this.v.lg.apply(this.v,arguments)},qu:function(a,b){return this.v.qu.apply(this.v,arguments)},$l:function(a){return this.v.$l.apply(this.v,arguments)},Im:function(a){return this.v.Im.apply(this.v,
arguments)},lk:function(a,b){return this.v.lk.apply(this.v,arguments)},fq:function(a){return this.v.fq.apply(this.v,arguments)},sq:function(a){return this.v.sq.apply(this.v,arguments)},$j:function(){return this.v.$j.apply(this.v,arguments)},Bq:function(a){return this.v.Bq.apply(this.v,arguments)},Gq:function(a,b){return this.v.Gq.apply(this.v,arguments)},Ke:function(){this.wl.Jc();return this.v.Ke.apply(this.v,arguments)},kk:function(a,b){return this.v.kk.apply(this.v,arguments)},Pp:function(a,b){return this.v.Pp.apply(this.v,
arguments)},Jp:function(){return this.v.Jp.apply(this.v,arguments)},fi:function(a){return this.v.fi.apply(this.v,arguments)},JA:function(){var a=this.rk.shift();this.v.K[a].text=null;delete this.pv[a]},QH:function(){for(var a=this.rk.length-1;0<=a;--a)this.JA()},ge:function(a,b){this.pv[a]?this.rk.splice(this.rk.indexOf(a),1):(this.rk.length===this.UC&&this.JA(),this.pv[a]=!0);this.rk.push(a);return this.v.ge.apply(this.v,arguments)},kf:function(a){return this.v.kf.apply(this.v,arguments)},gk:function(a,
b,f){return this.v.gk.apply(this.v,arguments)},Jm:function(a,b){return this.v.Jm.apply(this.v,arguments)},uk:function(a){return this.v.uk.apply(this.v,arguments)},Uj:function(){return this.v.Uj.apply(this.v,arguments)},zk:function(a,b){return this.v.zk.apply(this.v,arguments)},Vj:function(a,b){return this.v.Vj.apply(this.v,arguments)},Rj:function(a,b,f,c,d){return this.v.Rj.apply(this.v,arguments)},Zj:function(){return this.v.Zj.apply(this.v,arguments)},zq:function(a){return this.v.zq.apply(this.v,
arguments)},Cq:function(a){return this.v.Cq.apply(this.v,arguments)},get numPages(){return this.v.K.length},Pb:function(a){return this.v.K[a].width},Ob:function(a){return this.v.K[a].height},lf:function(a){return this.v.K[a].ed},sp:function(a){return this.v.sp.apply(this.v,arguments)},km:function(){return this.v.km.apply(this.v,arguments)},lm:function(a){return this.v.K[a].rotation},xz:function(a){return this.v.K[a].text},EI:function(a,b){this.v.K[a].text=b},QF:function(a){return this.v.K[a].Go},
qb:function(){var a=this;this.v.K.forEach(function(b){b.yf(a.ni())});return this.v.K},Am:function(a,b,f){return this.v.Am.apply(this.v,arguments)},Oi:function(a){this.v.Oi.apply(this.v,arguments)}};$.extend(h.Document.prototype,Object.create(a.Actions.Bf.prototype),a.utils.eventHandler);h.rn=function(){throw Error("Cannot initialize BaseDocument");};h.rn.prototype={Nj:b,Vf:b,hn:b,No:b,bm:b,mp:b,pp:b,wc:b,Kc:b,vI:function(a){this.Py=a},ep:function(a){this.Py&&this.Py(a)},rp:function(a,b,f){b={x:b,
y:f};return this.K[a].ed.inverse().V(b)},Vt:function(a,b,f,c){if(f<=b)return console.error("End index must be greater than start index");this.ge(a,function(a){a=a.Od();var d=8*b,k=8*f;if(d>a.length||k>a.length)return console.error("Index out of bounds");for(var e=[];d<k;d+=8)e.push({x1:a[d],y1:a[d+1],x2:a[d+2],y2:a[d+3],x3:a[d+4],y3:a[d+5],x4:a[d+6],y4:a[d+7]});c(e)})},Ap:b,Zt:function(a,b,f){return this.K[a].ed.V({x:b,y:f})},fk:b,zm:b,ik:b,nh:b,lg:b,$l:b,Im:b,qu:function(a,b){this.ge(a,function(a){b(a.eb)})},
lk:b,fq:b,sq:b,Bq:b,Gq:b,Ke:b,kk:b,Pp:b,fi:b,Jp:function(){return!1},Ws:function(b,f){var c=this.K[b],c=a.Dc(1,(4-c.rotation/90)%4,c,{x:0,y:0},!1);f.dE(c)},ge:b,kf:b,gk:b,uk:b,zk:b,Uj:b,bn:b,Vj:b,Rj:b,Oi:function(){},print:function(){},sp:function(a){return String(a)},km:function(){return _.range(0,this.K.length).map(String)},$j:b,Zj:b,zq:b,Cq:b,Cs:function(){for(var b=1,f=this.K.length,c=a.utils.getCanvasMultiplier(),c=c*c,d=0;d<f;++d)var e=this.K[d],b=Math.max(b,e.width*e.height*c);return Math.sqrt(8E6/
b)},Lo:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90},Bs:function(a,b){var f=this.Lo(a),c=b.w,d=b.fe;if(90===f||270===f)var e=c,c=d,d=e;switch(f){case 0:return f=-a.m_h,e=a.m_v,{x1:f,y1:e-d,x2:e-d,y2:e};case 90:return e=-a.m_h,f=-a.m_v,{x1:f,y1:e,x2:f+c,y2:e+d};case 180:return f=a.m_h,e=-a.m_v,{x1:f-c,y1:e,x2:f,y2:e+d};case 270:return e=a.m_h,f=a.m_v,{x1:f-c,y1:e-d,x2:f,y2:e}}return null}};h.ml=function(b){this.sj=this.xb=null;this.ds=new a.Te.cw;this.id=b;this.Zp=!1;this.Sd=
null;this.Tg={};this.Au=_.bind(this.Au,this);this.bp=null;this.xg=1};h.ml.prototype=Object.create(h.rn.prototype);h.ml.prototype.constructor=h.ml;$.extend(h.ml.prototype,{Qe:"Document/FixedDocument.fdoc",zf:"Document/DocProps/core.xml",Oe:"Document/Structure/DocStruct.struct",WB:"Struct/font.xml",WC:"Struct/",VC:"Text/",nh:function(b,f,c){this.xb=b;this.di=[];this.Up=new n;this.K=[];this.Ac={};this.Ac[this.Qe]=0;this.Ac[this.zf]=0;this.Ac[this.Oe]=0;this.xb.$m()&&(this.Sm={});var d=this,e;e=c&&c.annotsLoadedCallback?
c.annotsLoadedCallback:function(){};b.bind("partReady",this.Au);this.bind("documentReady",function(a){1.2===d.xg?(d.ED(),f(a),e()):d.tb.mf("Annots.xfdf",function(b){b=b.data;var c="",k=0,g,h,p;for(2<=b.length&&"{"===b.charAt(0)&&"}"===b.charAt(1)&&(b=b.substr(2));k<b.length;)g=b.charCodeAt(k),9===g?(c+=String.fromCharCode(10),k++):128>g?(c+=String.fromCharCode(g),k++):191<g&&224>g?(h=b.charCodeAt(k+1),c+=String.fromCharCode((g&31)<<6|h&63),k+=2):(h=b.charCodeAt(k+1),p=b.charCodeAt(k+2),c+=String.fromCharCode((g&
15)<<12|(h&63)<<6|p&63),k+=3);b=c;d.K[0].Go=b;d.FD(b);f(a);e(b)})});b instanceof a.o.W.kl?(this.Zp=!0,this.zm(function(){b.db=d.Sd;b.oq(f)})):b.oq(f)},Pp:function(b,f,c){var d=this;if(!this.tb)throw Error("Document is not initialized!");1.2===this.xg&&(this.tb.zu=!0);this.tb.wz(b,f,function(f,e){var g=new a.Te.GC(d.K[b],e,d.ds);c(f,g)})},kk:function(a,b){if(!this.tb)throw Error("Document is not initialized!");return this.tb.mf(a,b)},SG:function(a){var b=this;null===b.bp?b.kk(b.WB,function(f){if(f.error)throw Error("SELECT: Error getting part "+
f.qa+": "+f.error);var c=new XODText.fr;c.Lu(f.data);b.bp=c.xt;a(b.bp)}):a(b.bp)},ge:function(a,b){var f=this;1.4>f.xg?null===f.K[a].text?f.kk(f.VC+(a+1)+".xml",function(c){if(c.error)throw Error("SELECT: Error getting part "+c.qa+": "+c.error);var d=new XODTextOld.Ff;d.xG(c.data);c=new XODText.Ff;c.tA(d);f.Ws(a,c);f.K[a].text=c;b(c)}):b(f.K[a].text):f.SG(function(c){null===f.K[a].text?f.kk(f.WC+(a+1)+".xml",function(d){var e=new XODText.Ff,g=new XODText.Oa;g.Xa(1,0,0,1,0,0);var h=new XODText.nr(c);
f.tb.wz(a,_.uniqueId(),function(c,l){var r=l.gf.clone(),m=!1;try{do m=r.run(h,g,!0);while(!m)}catch(n){console.warn("Custom Canvas has encountered an error: "+n.message);return}e.Lu(d.data,h);f.Ws(a,e);f.K[a].text=e;b(e)})}):b(f.K[a].text)})},Jp:function(){return 1.2>=this.xg},fk:function(){return this.um},lg:function(a,b,f,c,d,g){var h=this,l=e(a,b,f,c,d,g),m=_.uniqueId();h.Tg[m]={zi:null,paused:!1,Mc:l.pageIndex};h.Pp(l.pageIndex,m,function(a,b){if(a)throw Error("Error loading page %d:",l.pageIndex);
_.isUndefined(h.Tg[m])||(h.Tg[m].zi=b,h.Tg[m].paused&&b.pause(),l.finishedLoading(a,b)&&b.VG(function(){l.resourcesLoaded()&&b.BE(l.getZoom(),l.getPageRotation(),function(a){l.drawComplete(a,l.pageIndex)},function(a){l.drawProgressive(a,l.pageIndex)},l.canvasNum,l.getPageTransform(),l.renderRect)},void 0,l.acquireResources()))});return m},fq:function(a){if(a=this.Tg[a])a.paused=!0,a.zi&&a.zi.pause()},sq:function(a){if(a=this.Tg[a])a.paused=!1,a.zi&&a.zi.resume&&a.zi.resume()},hn:function(a){this.Vf(a)},
Vf:function(a){var b=this.Tg[a];b&&(this.Fs(b.Mc,a),b=b.zi)&&(b.Ke(),b.abort&&b.abort());this.fi(a)},fi:function(a){delete this.Tg[a]},lk:function(a,b){if(!this.tb)throw Error("Document is not initialized!");var f=this,c;if(this.um)c=_.uniqueId(),this.tb.Wt(a,c,function(a){var c=new Image;a=l&&f.xb instanceof l?f.xb.path+a.data:"data:image/png;base64,"+btoa(a.data);c.onload=function(){b(c);c=c.onload=null};c.src=a},name);else{var d=this.K[a];c=this.lg({pageIndex:a,zoom:d.width>d.height?150/d.width:
150/d.height,drawComplete:function(a){a.style.backgroundColor="white";f.hn(c);b(a)}})}return c},zm:function(b){if(null===this.Sd){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var f=a.top.location.hash.substring(1).split("&"),c=0;c<f.length;c++){var d=f[c].split("=");if("d"===d[0]){this.id=d[1];break}}}var e=this;this.Sd=new a.o.rC(this.id);this.Sd.open(b,function(a){e.Sd=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),b()},Gq:function(b,
f){function c(a){d.xb.Gs(a)}if(!this.tb)throw b(),Error("Document is not initialized!");if(!this.Sd)throw b(),Error("Offline DB is not initialized!");if(this.xb instanceof a.o.W.kl)throw b(),Error("Can't download file while in offline mode!");var d=this;d.xb.yz(function(a){d.Sd.fJ(d.tb,a,b,f,c)})},ik:function(){if(!this.Sd)throw Error("Offline DB is not initialized!");return this.Sd.ik()},No:function(){if(!this.Sd)throw Error("Offline DB is not initialized!");this.Sd.qE()},pp:function(){return this.Zp},
Bq:function(b){if(!this.Sd)throw Error("Offline DB is not initialized!");this.Zp!==b&&(!(this.Zp=b)||this.sj instanceof a.o.W.kl||(this.sj=new a.o.W.kl(this.Sd),this.sj.bind("partReady",this.tb.aq)),this.iJ())},iJ:function(){if(null!==this.sj){var a=this.sj;this.sj=this.xb;this.xb=a;this.tb.hd=this.xb}},Fs:function(a,b){if(!this.tb)throw Error("Document is not initialized!");this.tb.rE(a,b)},Nj:function(a){this.um?this.tb.tE(a):this.Vf(a)},HJ:function(a,b){if(!b)return a;for(var f="",c=0,d,e,g;c<
a.length;)d=a.charCodeAt(c),128>d?(f+=String.fromCharCode(d),c++):191<d&&224>d?(e=a.charCodeAt(c+1),f+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),g=a.charCodeAt(c+2),f+=String.fromCharCode((d&15)<<12|(e&63)<<6|g&63),c+=3);return f},Au:function(b){if(b.error)return this.Ac[b.qa]=3,this.Ow();var c;c=this.xb.decrypt?this.xb.xy?this.xb.decrypt(b.data,this.xb.To,b.qa):a.o.Cf.Cy(b.data,this.xb.To,b.qa):b.data;this.xb.$m()&&(this.Sm[b.qa]={data:c,$b:b.$b});b.$b&&(c=f.inflate(c));switch(b.qa){case this.Qe:c=
new a.Vd(c);c.ja();c.advance();b=c.J("JPGThumbs");this.mu="true"===b;b=c.J("IncludesThumbs");this.um=null===b||"false"!==b;b=c.J("Version");this.xg=parseFloat(b);if(1.2>this.xg)throw this.Ac[this.Qe]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.4<this.xg)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");for(b=this.Ac[this.Qe]=1;c.advance();++b){var d=
new a.Yv(parseFloat(c.J("Width")),parseFloat(c.J("Height")));d.qq=["Pages/"+b+".xaml","Annot/"+b+".xml","Pages/_rels/"+b+".xaml.rels"];this.K.push(d)}this.ru=this.Cs();break;case this.zf:this.Ac[this.zf]=1;c=new a.Vd(c);c.ja();for(this.Up=new n;c.advance();)b=c.la().split(":"),this.Up.attributes[1===b.length?b[0]:b[1]]=c.cd();break;case this.Oe:this.Ac[this.Oe]=1;this.di=[];c=new a.Vd(c);c.ja();c.advance();c.ja();c.advance();c.ja();for(var e=0,g=null;c.advance();){var d=parseInt(c.J("OutlineLevel"),
10),h=new a.CoreControls.Bookmark;h.children=[];h.name=this.HJ(c.J("Description"),b.$b);if(e<d)h.parent=g;else for(h.parent=g.parent;e>d;)h.parent=h.parent.parent,--e;h.Ok=c.J("trn:Vpos");h.Ok=null===h.Ok?0:parseFloat(h.Ok);h.dk=c.J("trn:Hpos");h.dk=null===h.dk?0:parseFloat(h.dk);e=c.J("OutlineTarget").split("#");1===e.length||0===e[1].length?h.url=e[0]:h.Gi=parseInt(e[1],10);null!==h.parent?h.parent.children[h.parent.children.length]=h:this.di[this.di.length]=h;e=d;g=h}break;default:if(this.Ac[this.Qe])return this.Ac[this.zf]=
this.Ac[this.zf]||2,this.Ac[this.Oe]=this.Ac[this.Oe]||2,this.Vw(b)}this.Ow()},bm:function(){return Promise.resolve(this.di)},mp:function(a){return 1.2===this.xg?this.K[a].Go:this.K[a].links},wc:function(){return this.K.length},Kc:function(a){var b={};b.width=this.K[a].width;b.height=this.K[a].height;return b},rp:function(a,b,f){b={x:b,y:f};return this.K[a].ed.inverse().V(b)},Ap:function(a,b,f){return this.K[a].ed.V({x:b,y:f})},Ke:function(){if(document.fonts)for(var b in a.Bg)a.Bg[b].remove();a.ci=
{};a.Bg={};b=a.Bh.FontFace.prototype.ov;null!==b&&(document.head.removeChild(b),a.Bh.FontFace.prototype.styleSheet=null,a.Bh.FontFace.prototype.ov=null);this.ds=new a.Te.cw;this.xb instanceof a.o.W.hw&&this.xb.abort();this.Tw()},Tw:function(){this.xb.unbind("partReady");this.tb=new a.o.W.qC(this.xb,this.K,this.ds);this.tb.mu=this.mu},Ow:function(){this.Ac[this.Qe]&&this.Ac[this.zf]&&this.Ac[this.Oe]&&this.Vw()},Vw:function(a){this.Tw();if(this.xb.$m()){for(var b in this.Sm)this.tb.cache.setItem(b,
this.Sm[b].data,this.Sm[b].$b);delete this.Sm}this.trigger("documentReady",3===this.Ac[this.Qe]);a&&this.xb.trigger("partReady",a)},ED:function(){var a=new XODText.Oa;a.Xa(4/3,0,0,-4/3,0,this.K[0].height);for(var b=this.K.length,f=0;f<b;++f)this.K[f].ed=a,this.K[f].rotation=0},FD:function(a){"string"===typeof a&&(a=(new DOMParser).parseFromString(a,"text/xml"));if(a&&a.querySelector("xfdf > pages")){var b=a.querySelector("xfdf > pages"),f,c,d;for(a=0;a<b.childNodes.length;++a){var e=b.childNodes[a].localName;
if(e&&(d=b.childNodes[a],"defmtx"===e&&(c=d.getAttribute("matrix").split(","),f=new XODText.Oa,f.Xa(parseFloat(c[0]),parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3]),parseFloat(c[4]),parseFloat(c[5])),c=this.Lo(f)),"pgmtx"===e)){e=parseInt(d.getAttribute("page"),10);d=d.getAttribute("matrix").split(",");var g=new XODText.Oa;g.Xa(parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),parseFloat(d[4]),parseFloat(d[5]));var h=this.Lo(g);d=this.Bs(g,{w:this.K[e].width,fe:this.K[e].height});
this.K[e].rotation=h;g.Xa(4/3,0,0,-4/3,-d.x1,d.y2);this.K[e].ed=g}}b=this.K.length;for(a=0;a<b;++a)null===this.K[a].ed&&(e=new XODText.Oa,d=this.Bs(f,{w:this.K[a].width,fe:this.K[a].height}),e.Xa(4/3,0,0,-4/3,-d.x1,d.y2),this.K[a].ed=e,this.K[a].rotation=c)}}});h.fl=function(){this.di=[];this.Up=new n;this.K=[];this.qA={};this.um=!1;this.ek={};this.en={};this.Ra=null;this.Eu=2};h.fl.prototype=Object.create(h.rn.prototype);h.fl.prototype.constructor=h.fl;$.extend(h.fl.prototype,{bK:function(b){var f=
new a.Yv(b.width,b.height);f.ed=new XODText.Oa;b=b.matrix;f.ed.Xa(b[0],b[1],b[2],b[3],b[4],b[5]);b=this.Lo(f.ed);f.ed=this.RA({w:f.width,fe:f.height});f.rotation=b;return f},RA:function(a,b){var f=new XODText.Oa;f.Xa.apply(f,a);var c=this.Bs(f,b);f.Xa(1,0,0,-1,-c.x1,c.y2);return f},Uy:function(a,b,f){this.ey({pageDimensions:a});this.ru=this.Cs();f&&(this.sm||this.La.aA(this.Ra).then(function(a){f(a.xfdfString)}));this.sm||this.trigger("documentComplete");b()},NF:function(a){var b=createPromiseCapability(),
f=new XMLHttpRequest;f.open("GET",a);f.setRequestHeader("Range","bytes=1-150");f.responseType="arraybuffer";f.onreadystatechange=function(){if(this.readyState===this.DONE){var a=f.response.byteLength;200===f.status?b.reject({message:"Byte ranges are not supported by the server.",data:new Uint8Array(f.response)}):206!==f.status?b.reject({message:"Received http error code "+f.status}):150!==a&&b.reject({message:"Received incorrect number of bytes."});var a=new Uint8Array(f.response),c=[76,105,110,101,
97,114,105,122,101,100],d=f.getResponseHeader("Content-Range");if(d){var d=d.split("/")[1],k=0;do{a:{for(var e=a.length;k<e;++k)if(a[k]===c[0])break a;k=-1}k+=1;for(e=1;10>e;++e)if(a[k]===c[e])++k;else break;if(10===e){b.resolve(parseInt(d));return}}while(0!==k);b.reject({message:"The file is not linearized."})}else b.reject({message:"Could not retrieve Content-Range header."})}};f.onerror=function(){b.reject({message:"Network or Cross Domain Access Error."})};f.send();return b.promise},nh:function(b,
f,c){function d(a){y.di=[];y.Up=new n;y.K=[];y.um=!1;y.sm=!1;y.bind("documentReady",f);var b,c;K.then(function(f){y.La=f;f=H&&a.url===H;y.La&&"ems"===y.La.getWorkerType()&&G&&(a=G);if(f)b="url",c=a,y.sm=!0;else if("string"===typeof a)b="filepath",c=a;else if("object"===typeof a&&null!==a&&void 0!==a.byteLength)b="array",c=a.buffer;else{f=a;var d=Object.prototype.toString.call(f);"object"!==typeof f||null===f||"[object File]"!==d&&"[object Blob]"!==d?console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"):
(b="file",c=a)}m(b,c,D)})}function e(a,b){console.warn("Could not use incremental download for url "+a+". Reason: "+b)}function g(a){I=a;y.La.BJ(y.Ra,a).then(function(a){a.success?l(a.pageDimensions):A(g)})}function h(){y.Xo=new Promise(function(a){y.bind("documentComplete",function(){y.unbind("documentComplete");a()})});y.La.addEventListener(y.Ra,function(a){y.DH(a)})}function l(a){y.sm?y.La.EG(y.Ra).then(function(c){c?y.Uy(a,f,C):(e(H,"Linearization data is invalid."),y.Ke(),b.kf(d))}):y.Uy(a,f,
C)}function m(a,b,c){y.La.gF(a,b,c).then(function(a){y.Ra=a.docId;h();l(a.pageDimensions)},function(a){"NeedsPassword"===a.type&&A?(y.Ra=a.docId,h(),I?g(I):A(g)):(y.Xo=Promise.reject(a),f(a))})}var C=c.annotsLoadedCallback,A=c.getPassword,D=c.extension,K=c.workerTransportPromise,y=this,G=b.getFile(),H=b.xp();a.utils.isJSWorker&&a.jsworker?(G=a.jsworker.worker.getPlatformFormatFilePath(G),d(G)):H?this.NF(H).then(function(a){d({url:H,size:a})},function(a){e(H,a.message);a.data?d(a.data):b.kf(d)}):G&&
!a.utils.isChrome?d(G):b.kf(d);var I=null},ey:function(a){var b=this;a=a.pageDimensions;var f=Object.keys(a),c=this.K=[],e=this.qA,g=[],h={};f.forEach(function(f){var p=a[f],p={width:p.width,height:p.height,matrix:b.RA(p.matrix,{w:p.width,fe:p.height}),rotation:90*p.rotation,id:p.id,pageNum:f,contentChanged:!!p.contentChanged};e[p.id]&&g.push({before:e[p.id],after:p});e[p.id]=new d(p.width,p.height);var l=e[p.id];l.wI(p);c[f-1]=l;h[p.id]=!0});this.ru=this.Cs();Object.keys(e).forEach(function(a){a in
h||delete e[a]});return g},DH:function(a){switch(a.type){case "pagesUpdated":a=this.ey(a.data);this.ep({type:"pagesDiff",data:a});this.ep({type:"pagesUpdated",data:a.map(function(a){return a.after})});break;case "bookmarksUpdated":this.ep({type:"bookmarksUpdated",data:a.data});break;case "documentComplete":this.trigger("documentComplete");this.ep({type:"documentComplete",data:a.data});break;default:console.warn("Unknown event type: ",a.type)}},vM:function(){return this.Xo},bm:function(){function a(b){var f=
[];b.children.forEach(function(b){f.push(a(b))});return new h.oe(f,b.name,b.pageNumber,b.parent,b.verticalOffset,b.horizontalOffset,b.url)}return this.La.QG(this.Ra).then(function(b){var f=[];b.bookmarks.forEach(function(b){f.push(a(b))});return f})},ge:function(b,f){var c=this;null!==c.K[b].text?f(c.K[b].text):b in c.en?c.en[b].push(f):(c.La.ge(c.Ra,b).then(function(a){var f=new XODText.Ff;f.tA({Sa:a.struct,eb:a.str,kc:a.offsets,Aa:a.quads,lc:!0});c.Ws(b,f);c.K[b].text=f;c.en[b].forEach(function(a){a(f)});
delete c.en[b]},function(b){a.utils.log("Text generation failed: "+b)}),c.en[b]=[f])},$l:function(a){return this.La.aA(this.Ra,a)},Im:function(a){return this.La.Im(this.Ra,a)},kf:function(a){var b=this,f=!1,c=!1,d,e;a&&("finishedWithDocument"in a&&(f=a.finishedWithDocument),"printDocument"in a&&(c=a.printDocument),"xfdfString"in a&&(d=a.xfdfString),"filePath"in a&&(e=a.filePath));return e?b.Xo.then(function(){return b.La.eI(b.Ra,e,d)}):b.Xo.then(function(){return b.La.dI(b.Ra,d,f,c)}).then(function(a){return a.fileData})},
wc:function(){return this.K.length},Mz:function(b,f,c,d,e,g,h){var l=this,m=a.o.Uk===a.o.Uk.sr;if(m){f=a.innerWidth;c=a.innerHeight;var n=a.utils.getCanvasMultiplier(f,c,d.Pm),A=d.Pm,D={x:h.x,y:h.y};a.Dc(A,d.bq,{x1:d.page.x1,x2:d.page.x2,y1:d.page.y1,y2:d.page.y2,width:d.page.width,height:d.page.height},D,!0,n);D.x=D?Math.round(D.x):0;D.y=D?Math.round(D.y):0;n=a.o.Ja.Rd;a.o.Ja.El(n,f,c,A);var K=D.x>=n.width/2;console.log("imagePathReceived for: "+b);console.log("tCanvas.width: "+n.width);console.log("translation.x: "+
D.x);console.log("isRightPage: "+K);"undefined"===typeof l.Fm&&(l.Fm=!1);if(K&&!l.Fm){l.mt=function(){var f=a.o.Ja.cn(d.page,d.Pm,d.bq,h,g).canvas,c=h?Math.round(h.x):0,p=h?Math.round(h.y):0;console.log("Drawing: "+b);var l=new Image;$(l).css("width",d.pA);$(l).css("height",d.mA);var q=b;0!==q.indexOf("file://")&&(q="file://"+q);l.onload=function(){var b=f.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(l,c,p);e||$(f).addClass("progressive");d.kt(f);e&&d.jt(f);l=null;a.utils.isJSWorker&&
(console.log("[WebViewer|JSWorker]: Deleting file: "+q),a.jsworker.worker.deleteGeneratedImageRenderFile(q))};l.src=q};return}}var y=a.o.Ja.cn(d.page,d.Pm,d.bq,h,g,d.wk).canvas,G=h?Math.round(h.x):0,H=h?Math.round(h.y):0;console.log("Drawing: "+b);var I=new Image;$(I).css("width",d.pA);$(I).css("height",d.mA);var B=b;0!==B.indexOf("file://")&&(B="file://"+B);I.onload=function(){var b=y.getContext("2d");b.setTransform(1,0,0,1,0,0);b.drawImage(I,G,H);e||$(y).addClass("progressive");d.kt(y);e&&d.jt(y);
I=null;a.utils.isJSWorker&&(console.log("[WebViewer|JSWorker]: Deleting file: "+B),a.jsworker.worker.deleteGeneratedImageRenderFile(B));m&&(K?l.Fm=!1:(l.Fm=!0,"function"===typeof l.mt&&(l.mt(),l.mt=void 0,l.Fm=!1)))};I.src=B},jy:function(b,f,c,d,e,g,h){function l(){var a=Math.min(G,H),b=c-H,k=a*f*4;I.data.set(K.subarray(B,B+k));B+=k;y.putImageData(I,A,D+b,0,0,f,a);H-=a;0===H?(e||$(n).addClass("progressive"),d.kt(n),e&&d.jt(n),e&&delete m.ek[d.id]):(a=setTimeout(l,0),e&&(m.ek[d.id]=a))}var m=this,
n=a.o.Ja.cn(d.page,d.Pm,d.bq,h,g,d.wk).canvas,A=h?Math.round(h.x):0,D=h?Math.round(h.y):0,K=new Uint8ClampedArray(b),y=n.getContext("2d"),G=Math.ceil(1E6/f),H=c,I=y.createImageData(f,Math.min(G,c)),B=0;l()},lg:function(b,f,c,d,g,h){var l=this,n=e(b,f,c,d,g,h);b=n.pageIndex;f=n.getZoom();c=n.getPageRotation();d=n.renderRect;var z=c===a.o.ra.ad||c===a.o.ra.Ld,C=a.utils.getCanvasMultiplier();"undefined"===typeof d?(g=(z?l.K[b].height:l.K[b].width)*f,z=(z?l.K[b].width:l.K[b].height)*f):(g=(z?d.y2-d.y1:
d.x2-d.x1)*f,z=(z?d.x2-d.x1:d.y2-d.y1)*f);g=Math.round(g);var z=Math.round(z),A=Math.floor(g*C),D=Math.floor(z*C);if(!A||!D)return c=l.La.im(),this.ek[c]=setTimeout(function(){var a=document.createElement("canvas");a.width=A?A:1;a.height=D?D:1;n.drawComplete(a)},0),c;var K;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders()?(K=a.jsworker.worker.generateImageRenderFilePath(b),K=a.jsworker.worker.getPlatformFormatFilePath(K),console.log("imageRenderFilePath for page "+b+' is: "'+K+'".'),
C=l.La.uF(l.Ra,b,A,D,c,l.ou,l.Eu,d,K)):C=l.La.tF(l.Ra,b,A,D,c,l.ou,l.Eu,d);var y=C.hy,G={kt:n.drawProgressive,jt:n.drawComplete,pA:g,mA:z,Pm:f,bq:c,page:l.K[b],wk:d,id:y},H=1,I;n.useProgress&&(I=setInterval(function(){var b;a.utils.isJSWorker&&a.jsworker.worker.useFilePathForImageRenders?(b=a.jsworker.worker.generateNextImageRenderFilePath(K,H++),b=a.jsworker.worker.getPlatformFormatFilePath(b),b=l.La.fz(y,b)):b=l.La.fz(y);b.then(function(a){"undefined"!==typeof a.filePath?l.Mz(a.filePath,a.pageWidth,
a.pageHeight,G,!1,h):l.jy(a.pageBuf,a.pageWidth,a.pageHeight,G,!1,h)},function(b){"type"in b&&"Queued"===b.type||(a.utils.log("Get canvas progressivegeneration failed: "+b.message+" CID "+y),clearInterval(I))})},m));C.promise.then(function(a){clearInterval(I);"undefined"!==typeof a.filePath?l.Mz(a.filePath,a.pageWidth,a.pageHeight,G,!0,h,n.getPageTransform()):l.jy(a.pageBuf,a.pageWidth,a.pageHeight,G,!0,h,n.getPageTransform())},function(b){"Cancelled"!==b.type&&a.utils.log("Canvas generation failed: "+
b.message);clearInterval(I);n.onError(b)});return y},fi:function(){},Ke:function(){this.Ra&&(this.La.wE(this.Ra),this.La.NE(this.Ra),this.Ra=null)},Am:function(a,b,f){return this.La.Am(this.Ra,a,b||612,f||792)},gk:function(a,b,f){a instanceof h.Document&&(a=a.v.Ra);return this.La.gk(this.Ra,a,b,f,!0)},Jm:function(a,b){return this.La.Jm(this.Ra,a,b)},uk:function(a){a.sort(g);return this.La.uk(this.Ra,a)},Uj:function(){return this.La.Uj(this.Ra,this.ou)},zk:function(a,b){a.sort(g);return this.La.zk(this.Ra,
a,b)},Vj:function(a,b){return this.La.Vj(this.Ra,a,b).then(function(a){return a.fileData})},Rj:function(a,b,f,c,d){a.sort(g);return this.La.Rj(this.Ra,a,b,f,c,d)},sp:function(a){return this.K[a].id},km:function(){return Object.keys(this.qA)},$j:function(){if("undefined"===typeof a.PDFNet)throw Error("getPDFDoc called without PDFNet being loaded. Are you running a lean version of PDFNetJS?");return this.La.$j(this.Ra).then(function(b){return new a.PDFNet.PDFDoc(b)})},Zj:function(){return this.La.Zj(this.Ra).then(function(a){return a})},
zq:function(a){this.ou=a},Cq:function(a){this.Eu=a},lk:function(b,f,c){var d=this.K[b];c="page"===c?2E3:150;var e=a.utils.getCanvasMultiplier(),g=d.width>d.height?c/d.width:c/d.height,g=g/e;return this.lg({pageIndex:b,getZoom:function(){return g},getPageRotation:function(){return a.o.ra.xe},drawComplete:function(a){f(a)},drawProgressive:function(){},useProgress:!1})},Nj:c,Vf:c,fk:function(){return!1},Oi:function(a){this.sm&&this.La.Oi(this.Ra,a)}});_(h.rn.prototype).extend(Backbone.Events);a.Yv=d})(window);
(function(a){a.Annotations=a.Annotations||{};var g=a.Annotations;g.Color=function(a,e,b,c){this.A=this.B=this.G=this.R=0;a instanceof g.Color?(this.R=a.R,this.G=a.G,this.B=a.B,this.A=a.A):_.isArray(a)?1===a.length?(this.B=this.G=this.R=a=Math.round(255*(a[0]||0)),this.A=1):3===a.length?(this.R=Math.round(255*(a[0]||0)),this.G=Math.round(255*(a[1]||0)),this.B=Math.round(255*(a[2]||0)),this.A=1):4===a.length&&(e=a[1]||0,b=a[2]||0,c=a[3]||0,this.R=Math.round(255*(1-(a[0]||0))*(1-c)),this.G=Math.round(255*
(1-e)*(1-c)),this.B=Math.round(255*(1-b)*(1-c)),this.A=1):_.isString(a)&&"#"===a[0]?(a=g.ea.ii(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(_.isUndefined(a)||(this.R=Number(a)),_.isUndefined(e)||(this.G=Number(e)),_.isUndefined(b)||(this.B=Number(b)),_.isUndefined(c)?_.isUndefined(a)&&_.isUndefined(e)&&_.isUndefined(b)||(this.A=1):this.A=Number(c))};g.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},
toHexString:function(){return g.ea.Pi(this)},mJ:function(){return g.ea.toFixed(this.R/255,3)+" "+g.ea.toFixed(this.G/255,3)+" "+g.ea.toFixed(this.B/255,3)+" rg"},xi:function(){return 0===this.R&&0===this.G&&0===this.B&&1===this.A},Xz:function(){return 0===this.A}};g.Point=function(a,e){this.x=a;this.y=e;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof e&&(this.y=parseFloat(e))};g.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};g.gb=function(a,e,b,c,g,
f,l,m){this.x1=a;this.y1=e;this.x2=b;this.y2=c;this.x3=g;this.y3=f;this.x4=l;this.y4=m};g.gb.prototype={normalize:function(){}};g.Rect=function(a,e,b,c){a instanceof g.Rect?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):_.isArray(a)?(this.x1=a[0],this.y1=a[1],this.x2=a[2],this.y2=a[3]):_.isObject(a)?(this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2):(this.x1=a,this.y1=e,this.x2=b,this.y2=c)};g.Rect.prototype={xa:function(){return this.x2-this.x1},ua:function(){return this.y2-this.y1},translate:function(a,
e){this.x1+=a;this.y1+=e;this.x2+=a;this.y2+=e},st:function(a){var e=0,b=0;if(this.xa()<a.xa()){var c=a.x2-this.x2;0>c&&(e=c);c=a.x1-this.x1;0<c&&(e=c)}this.ua()<a.ua()&&(c=a.y2-this.y2,0>c&&(b=c),a=a.y1-this.y1,0<a&&(b=a));this.translate(e,b)},normalize:function(){var a;0>this.xa()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.ua()&&(a=this.y1,this.y1=this.y2,this.y2=a)},Ry:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=
a)}};g.Math={};g.Math.cH=function(a,e){return a instanceof g.Point&&e instanceof g.Point?new g.Point((a.x+e.x)/2,(a.y+e.y)/2):null};g.Math.distance=function(a,e){if(!(a instanceof g.Point&&e instanceof g.Point))return null;var b=a.x-e.x,c=a.y-e.y;return Math.sqrt(b*b+c*c)};g.ControlHandle=function(a,e,b,c){this.x=a;this.y=e;this.width=b;this.height=c};g.ControlHandle.handleWidth=12;g.ControlHandle.handleHeight=12;g.ControlHandle.selectionAccuracyPadding=1;g.ControlHandle.prototype={testSelection:function(a,
e,b,c,h){a=this.getDimensions(a,e,b);e=0;1<g.ControlHandle.selectionAccuracyPadding&&(e=g.ControlHandle.selectionAccuracyPadding);return c>=a.x1-e&&c<=a.x1+a.xa()+e&&h>=a.y1-e&&h<=a.y1+a.ua()+e},draw:function(a,e,b,c){"undefined"===typeof c&&(c=1);this.Cc(a,c);var g=this.getDimensions(e,b,c);e=g.x1;b=g.y1;c=g.xa();g=g.ua();a.beginPath();a.arc(e+c/2,b+g/2,c/2,0,2*Math.PI);a.stroke();a.fill()},Cc:function(a,e){a.strokeStyle=g.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";
a.lineWidth=g.SelectionModel.selectionOutlineThickness/e},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new g.Rect(0,0,0,0)}};g.Td=function(a,e,b,c){this.width=a;this.height=e;this.xm=b;this.jn=c};g.Td.prototype={getDimensions:function(a,e,b){a=e.x1;var c=e.y1,h=this.width/b;b=this.height/b;this.xm===g.va.Ad.left?a+=-(h/2):this.xm===g.va.Ad.Js?a+=(e.xa()-h)/2:this.xm===g.va.Ad.right?
a+=e.xa()-h/2:console.warn("Invalid HorizonalAlignment");this.jn===g.va.Cd.top?c+=-(b/2):this.jn===g.va.Cd.su?c+=(e.ua()-b)/2:this.jn===g.va.Cd.bottom?c+=e.ua()-b/2:console.warn("Invalid VerticalAlignment");return new g.Rect(a,c,a+h,c+b)},move:function(a,e,b,c,h){e=!1;b=a.ee();this.jn===g.va.Cd.bottom&&(e=b.y2!==h.y,b.y2=h.y);this.jn===g.va.Cd.top&&(e=b.y1!==h.y,b.y1=h.y);this.xm===g.va.Ad.right&&(e=b.x2!==h.x,b.x2=h.x);this.xm===g.va.Ad.left&&(e=b.x1!==h.x,b.x1=h.x);e&&a.resize(b);return e}};g.Td.prototype=
$.extend(!0,new g.ControlHandle,g.Td.prototype);g.nj=function(a,e,b,c,g){this.x=a;this.y=e;this.width=b;this.height=c;this.yi=g};g.nj.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;return this.yi?new g.Rect(this.x-.5*a,this.y,this.x+.5*a,this.y+b):new g.Rect(this.x-.5*a,this.y-b,this.x+.5*a,this.y)},move:function(a,e,b,c,g,f){b=a.Od();e=b[0];if("undefined"===typeof e)return!1;b=b[b.length-1];f=new window.Ca.qd(f);f.annotation=a;f.pageCoordinates[0]=g;c=Math.min(e.x1,e.x2,
e.x3,e.x4);a=Math.max(b.x1,b.x2,b.x3,b.x4);e=Math.min(e.y1,e.y2,e.y3,e.y4);b=Math.max(b.y1,b.y2,b.y3,b.y4);this.yi?e={x:c+1,y:e,pageIndex:g.pageIndex}:(e=g,g={x:a-1,y:b,pageIndex:g.pageIndex});if(g.y<e.y)return!1;(e.x<g.x||e.y<g.y)&&f.select(e,g);return!0},draw:function(a,e,b,c){var h,f,l,m;this.Cc(a,c);h=e.Od();this.yi?(m=h[h.length-1],h=m.x2,f=m.y2,l=m.x3,m=m.y3):(m=h[0],h=m.x1,f=m.y1,l=m.x4,m=m.y4);a.beginPath();a.moveTo(h,f);a.lineTo(l,m);a.stroke();g.ControlHandle.prototype.draw.call(this,a,
e,b,c)}};g.nj.prototype=$.extend(!0,new g.ControlHandle,g.nj.prototype);g.We=function(a,e,b,c,g){this.x=a;this.y=e;this.width=b;this.height=c;this.Rb=g};g.We.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;e=this.x-.5*a;var c=this.y-.5*b;return new g.Rect(e,c,e+a,c+b)},move:function(a,e,b){var c=a.fg(this.Rb);a.le(this.Rb,c.x+e,c.y+b);return!0}};g.We.prototype=$.extend(!0,new g.ControlHandle,g.We.prototype);g.En=function(a,e,b,c,h){g.We.apply(this,arguments)};g.En.prototype=
{move:function(a,e,b,c,h){g.We.prototype.move.apply(this,arguments);if(0===this.Rb){var f=a.fg(0);a.le(a.getPath().length-1,f.x,f.y)}return!0}};g.En.prototype=$.extend(!0,new g.We,g.En.prototype);g.sn=function(a,e,b,c,g){this.x=a;this.y=e;this.width=b;this.height=c;this.Rb=g};g.sn.prototype={move:function(a,e,b){var c=a.fg(2),h=a.fg(3),f=a.fg(4);if(3===this.Rb){if(f.y<h.y+b||f.x<h.x+e)return}else if(4===this.Rb&&(f.y+b<h.y||f.x+e<h.x))return;e=g.We.prototype.move.call(this,a,e,b);3===this.Rb&&(f.y<
h.y&&a.le(3,h.x,f.y),f.x<h.x&&a.le(3,f.x,h.y),a.le(2,h.x,h.y+.5*(f.y-h.y)),e=!0);4===this.Rb&&(f.y<h.y&&a.le(3,f.x,h.y),f.x<h.x&&a.le(3,h.x,f.y),a.le(2,c.x,h.y+.5*(f.y-h.y)),e=!0);var l=a.Ct()/2;b=a.fg(1);var m=g.Math.cH(h,f),h=[new g.Point(h.x+l,m.y),new g.Point(f.x-l,m.y),new g.Point(m.x,h.y+l),new g.Point(m.x,f.y-l)],f=[g.Math.distance(b,h[0]),g.Math.distance(b,h[1]),g.Math.distance(b,h[2]),g.Math.distance(b,h[3])],f=f.indexOf(Math.min.apply(Math,f));if(c.x!==h[f].x||c.y!==h[f].y)a.le(2,h[f].x,
h[f].y),e=!0;return e}};g.sn.prototype=$.extend(!0,new g.We,g.sn.prototype);g.ej=function(a,e,b,c,g){this.x=a;this.y=e;this.width=b;this.height=c;this.yi=g};g.ej.prototype={getDimensions:function(a,e,b){a=this.width/b;b=this.height/b;e=this.x-.5*a;var c=this.y-.5*b;return new g.Rect(e,c,e+a,c+b)},move:function(a,e,b){this.yi?(a.End.x+=e,a.End.y+=b):(a.Start.x+=e,a.Start.y+=b);a.adjustRect();return!0}};g.ej.prototype=$.extend(!0,new g.ControlHandle,g.ej.prototype);g.SelectionModel=function(a,e,b){this.$c=
[];this.Er=e;this.Ur=b};g.SelectionModel.selectionOutlineThickness=2;g.SelectionModel.selectionAccuracyPadding=2;g.SelectionModel.defaultSelectionOutlineColor=new g.Color(0,0,255);g.SelectionModel.defaultNoPermissionSelectionOutlineColor=new g.Color(255,0,0);g.SelectionModel.selectionOutlineDashSize=4;g.SelectionModel.prototype={testSelection:function(a,e,b){return g.Vb.Mj(a,e,b)},Iq:function(a,e,b,c){for(var g=this.$c.length-1;0<=g;g--){var f=this.$c[g];if(f.testSelection(a,this.getDimensions(a),
e,b,c))return f}},wF:function(){return this.$c},getDimensions:function(a){return new g.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)},qc:function(){return this.Er},draw:function(a,e,b){a.save();this.drawSelectionOutline(a,e,b);a.restore();for(var c=0;c<this.$c.length;c++)this.$c[c]&&this.$c[c].draw(a,e,this.getDimensions(e),b)},drawSelectionOutline:function(a,e,b){a.save();e=this.getDimensions(e);"undefined"===typeof b&&(b=1);a.lineWidth=g.SelectionModel.selectionOutlineThickness/b;this.qc()?a.strokeStyle=
g.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=g.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(e.x1,e.y1);a.lineTo(e.x2,e.y1);a.lineTo(e.x2,e.y2);a.lineTo(e.x1,e.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=g.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(e.x1,
e.y1);a.lineTo(e.x2,e.y1);a.lineTo(e.x2,e.y2);a.lineTo(e.x1,e.y2);a.closePath();a.stroke();a.restore()},drawPopupTail:function(d,e,b,c,g){e=0;b=Math.abs(c.x1-c.x2);var f=Math.abs(c.y1-c.y2);g.x>=c.x1+.5*b&&g.y<c.y1+.5*f?e={x:c.x1+b,y:c.y1}:g.x<c.x1+.5*b&&g.y<c.y1+.5*f?e={x:c.x1,y:c.y1}:g.x<c.x1+.5*b&&g.y>=c.y1+.5*f?e={x:c.x1,y:c.y1+f}:g.x>=c.x1+.5*b&&g.y>=c.y1+.5*f&&(e={x:c.x1+b,y:c.y1+f});c=a.Fa.Math.gp(e,g);b=a.Fa.Math.Ot(e,g);g={x:e.x+b,y:e.y-5};b={x:e.x+b,y:e.y+5};g=a.Fa.Math.sh(g,c,e);b=a.Fa.Math.sh(b,
c,e);d.save();d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(g.x,g.y);d.lineTo(b.x,b.y);d.closePath();d.shadowColor="#bbb";d.shadowBlur=10;d.shadowOffsetX=5;d.shadowOffsetY=5;d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(g.x,g.y);d.lineTo(b.x,b.y);d.closePath();d.fill();d.restore()}};g.Bn=function(){g.SelectionModel.call(this,0,!1,!1)};g.Bn.prototype={testSelection:function(){return!1},getDimensions:function(){return new g.Rect(0,
0,0,0)},draw:function(){},drawSelectionOutline:function(){},drawPopupTail:function(){}};g.Bn.prototype=$.extend(!0,new g.SelectionModel,g.Bn.prototype);g.va=function(a,e,b){g.SelectionModel.call(this,0,e,b);a=g.ControlHandle.handleWidth;b=g.ControlHandle.handleHeight;this.$c=(this.Er=e)?[new g.Td(a,b,g.va.Ad.left,g.va.Cd.top),new g.Td(a,b,g.va.Ad.left,g.va.Cd.su),new g.Td(a,b,g.va.Ad.left,g.va.Cd.bottom),new g.Td(a,b,g.va.Ad.Js,g.va.Cd.top),new g.Td(a,b,g.va.Ad.Js,g.va.Cd.bottom),new g.Td(a,b,g.va.Ad.right,
g.va.Cd.top),new g.Td(a,b,g.va.Ad.right,g.va.Cd.su),new g.Td(a,b,g.va.Ad.right,g.va.Cd.bottom)]:[]};g.va.Ad={left:1,Js:2,right:4};g.va.Cd={top:16,su:32,bottom:64};g.va.prototype={testSelection:function(a,e,b){return this.Ur?g.Vb.Mj(a,e,b):g.Vb.Pl(a,e,b)},getDimensions:function(a){return new g.Rect(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};g.va.prototype=$.extend(!0,new g.SelectionModel,g.va.prototype);g.hj=function(a,e,b){g.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length;e++)b=a[e],
this.$c.push(new g.We(b.x,b.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,e))};g.hj.prototype={testSelection:function(a,e,b){return this.Ur?g.Vb.Mj(a,e,b):g.Vb.Pl(a,e,b)},draw:function(a,e,b){g.SelectionModel.prototype.draw.call(this,a,e,b)}};g.hj.prototype=$.extend(!0,new g.SelectionModel,g.hj.prototype);g.kr=function(a,e,b){g.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length-1;e++)b=a[e],this.$c.push(new g.En(b.x,b.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,
e))};g.kr.prototype=$.extend(!0,new g.SelectionModel,g.kr.prototype);g.dl=function(a,e,b){g.SelectionModel.call(this,0,e,b);this.$c=e?[new g.ej(a.Start.x,a.Start.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,0),new g.ej(a.End.x,a.End.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,1)]:[]};g.dl.prototype={testSelection:function(a,e,b){return g.Vb.Pl(a,e,b)},drawSelectionOutline:function(a,e,b){"undefined"===typeof b&&(b=1);a.lineWidth=g.SelectionModel.selectionOutlineThickness/
b;var c=Math.atan((e.End.y-e.Start.y)/(e.End.x-e.Start.x)),h=Math.max(.5*e.StrokeThickness,1)*Math.sin(c),c=Math.max(.5*e.StrokeThickness,1)*Math.cos(c);this.qc()?a.strokeStyle=g.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=g.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(e.Start.x+h,e.Start.y-c);a.lineTo(e.End.x+h,e.End.y-c);a.stroke();a.beginPath();a.moveTo(e.Start.x-h,e.Start.y+c);a.lineTo(e.End.x-h,e.End.y+c);a.stroke();"undefined"!==
typeof a.setLineDash||"undefined"!==typeof a.mozDash?(b=g.SelectionModel.selectionOutlineDashSize/b,b=[b,b],a.setLineDash?a.setLineDash(b):a.mozDash=b):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(e.Start.x+h,e.Start.y-c);a.lineTo(e.End.x+h,e.End.y-c);a.stroke();a.beginPath();a.moveTo(e.Start.x-h,e.Start.y+c);a.lineTo(e.End.x-h,e.End.y+c);a.stroke()},drawPopupTail:function(d,e,b,c,h){e=g.Math.distance(e.Start,h)>g.Math.distance(e.End,h)?e.End:e.Start;e={x:e.x,y:e.y};b=
a.Fa.Math.gp(e,h);c=a.Fa.Math.Ot(e,h);h={x:e.x+c,y:e.y-5};c={x:e.x+c,y:e.y+5};h=a.Fa.Math.sh(h,b,e);c=a.Fa.Math.sh(c,b,e);d.strokeStyle="rgba(0,0,0,0.8)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(h.x,h.y);d.lineTo(c.x,c.y);d.closePath();d.stroke();d.fillStyle="rgba(255, 255, 0, 0.7)";d.beginPath();d.moveTo(e.x,e.y);d.lineTo(h.x,h.y);d.lineTo(c.x,c.y);d.closePath();d.fill()}};g.dl.prototype=$.extend(!0,new g.va,g.dl.prototype);g.$k=function(a,e,b){g.va.apply(this,arguments)};g.$k.prototype={getDimensions:function(a){return g.SelectionModel.prototype.getDimensions.apply(this,
arguments)},testSelection:function(a,e,b){return g.Vb.Mj(a,e,b)}};g.$k.prototype=$.extend(!0,new g.va,g.$k.prototype);g.tn=function(a,e,b){g.SelectionModel.call(this,0,e,b);if(e)for(a=a.getPath(),e=0;e<a.length;e++)2!==e&&(b=a[e],this.$c.push(new g.sn(b.x,b.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,e)))};g.tn.prototype={testSelection:function(a,e,b){if(this.Ur)return g.Vb.Mj(a,e,b);var c=a.getPath(),h=c[3],c=c[4];return e<h.x||e>c.x||b<h.y||b>c.y?g.Vb.Pl(a,e,b):!0}};g.tn.prototype=
$.extend(!0,new g.SelectionModel,g.tn.prototype);g.Ih=function(a,e,b,c,h){g.SelectionModel.call(this,0,e,b);this.Er=e;if(a=a.Od())_.isUndefined(c)&&(c=!0),_.isUndefined(h)&&(h=!0),this.$c=[],e&&(e=a[0],a=a[a.length-1],e&&(this.$c=[],c&&this.$c.push(new g.nj(e.x1,e.y3,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,!1)),h&&this.$c.push(new g.nj(a.x3,a.y1,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,!0))))};g.Ih.prototype={testSelection:function(a,e,b){return g.Vb.uB(a,e,b)},getDimensions:function(a){var e=
a.X-2,b=a.Y-2;return new g.Rect(e,b,e+(a.Width+4),b+(a.Height+4))}};g.Ih.prototype=$.extend(!0,new g.SelectionModel,g.Ih.prototype);g.Hn=function(a,e,b){g.SelectionModel.call(this,0,e,b)};g.Hn.prototype={testSelection:function(a,e,b,c){c=a.NoZoom?c:1;a=new g.Rect(a.dh(),a.gh(),a.dh()+a.xa()/c,a.gh()+a.ua()/c);return e>=a.x1&&e<=a.x2&&b>=a.y1&&b<=a.y2}};g.Hn.prototype=$.extend(!0,new g.SelectionModel,g.Hn.prototype);g.Vb={Mj:function(a,e,b){a=a.ee();return e>=a.x1&&e<=a.x2&&b>=a.y1&&b<=a.y2},Pl:function(a,
e,b){var c;g.Vb.Lz?c=g.Vb.Lz:(c=document.createElement("canvas"),g.Vb.Lz=c);var h=c.getContext("2d");c.width=100;c.height=100;h.setTransform(1,0,0,1,-(e-a.ti()),-(b-a.vi()));e=a.StrokeThickness;a.Nh=e+g.Vb.canvasVisibilityPadding;h.translate(-1*a.ti(),-1*a.vi());a.draw(h);b=1<h.getImageData(0,0,1,1).data[3];h.setTransform(1,0,0,1,0,0);h.clearRect(0,0,2,2);a.Nh=e;return b},uB:function(a,e,b){a=a.Quads;for(var c=0;c<a.length;c++){var g=a[c],f=Math.min(g.y1,g.y2,g.y3,g.y4),l=Math.max(g.y1,g.y2,g.y3,
g.y4),m=Math.max(g.x1,g.x2,g.x3,g.x4);if(e>=Math.min(g.x1,g.x2,g.x3,g.x4)&&e<=m&&b>=f&&b<=l)return!0}return!1}};g.Vb.canvasVisibilityPadding=5})(window);
(function(a){var g=XODText;a.Ca=function(){};var d=a.Ca;d.pK={};d.Tool=function(a){this.ub=this.Lc=null;this.u=this.docViewer=a;this.pageCoordinates=[]};d.Tool.prototype={eh:function(a){var c={},d=this.u.Qb();a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],c.x=d.scrollLeft()+a.clientX,c.y=d.scrollTop()+a.clientY):(c.x=d.scrollLeft()+a.pageX,c.y=d.scrollTop()+a.pageY);return c},mouseLeftDown:function(a){var c=
this.eh(a);this.Lc={x:c.x,y:c.y};this.ub={x:c.x,y:c.y};this.pageCoordinates[0]=this.de(this.Lc);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[0]}},mouseLeftUp:function(a){var c=this.eh(a);this.ub=c;this.pageCoordinates[1]=this.de(this.ub);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var c=this.eh(a);this.ub=c;if(null!==this.Lc){var d=this.de(this.Lc);if(null===d)return;
var f=d.pageIndex,d=this.u.Pb(f),e=this.u.Ob(f),f=this.de(this.ub,f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);f.x>d&&(f.x=d);f.y>e&&(f.y=e);this.pageCoordinates[1]=f}else this.pageCoordinates[1]=this.de(this.ub);a.data={mouseCoordinate:{x:c.x,y:c.y},pageCoordinate:this.pageCoordinates[1]}},mouseDoubleClick:function(a){var c=this.eh(a);this.Lc={x:c.x,y:c.y};this.ub={x:c.x,y:c.y};var c=this.u.oa,d=this.de(this.ub);d&&(this.Gj=d.x,this.Hj=d.y,!(a=c.Et(a))||a.Fe()||a.Hidden||(d=c.Kq(a),c.trigger("annotationDoubleClicked",
a),d&&c.vt(a)))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.u.el.css("cursor","default");this.u.oa.Kd()},ni:function(){return this.u},de:function(a,c){var d=this.docViewer.dm().vp(a,a);if("undefined"===typeof c){if(d=null===d.first?d.last:d.first,null===d)return null}else d=c;d=this.docViewer.dm().Wi(a,d);return{pageIndex:d.pageIndex,x:d.x,y:d.y}}};var e=d.Tool;d.AnnotationSelectTool=function(a){e.call(this,
a);this.Hj=this.Gj=0;this.Pg={x:0,y:0};this.Vg=this.Mb=null;this.state=d.AnnotationSelectTool.ob.NONE;this.Jd=NaN;this.mousedown=!1;this.cursor="default";this.overrideSelection=!1};d.AnnotationSelectTool.ob={NONE:0,$q:1,aw:2,zn:3,Zq:4};d.AnnotationSelectTool.PAGE_PADDING=new Annotations.Rect(2,2,2,2);d.AnnotationSelectTool.prototype=$.extend(new e,{mouseLeftDown:function(a){e.prototype.mouseLeftDown.call(this,a);if(this.overrideSelection)this.state=d.AnnotationSelectTool.ob.NONE;else{this.mousedown=
!0;this.state=d.AnnotationSelectTool.ob.NONE;var c=this.u.oa,g=this.de(this.ub);if(g){this.Jd=g.pageIndex;this.Gj=g.x;this.Hj=g.y;this.Pg.x=this.Gj;this.Pg.y=this.Hj;for(var f=c.qf(),l=0;l<f.length;l++){var m=f[l];if("undefined"!==typeof m.selectionModel){var n=(new m.selectionModel(m,c.qc(m))).Iq(m,this.u.lb(m.Va()),g.x,g.y);if(n){this.Mb=m;this.Vg=n;!this.Mb.NoResize&&c.qc(this.Mb)?this.state=d.AnnotationSelectTool.ob.Zq:(this.state=d.AnnotationSelectTool.ob.NONE,c.Kd());return}}else if(console.warn("no selection model for annotation"),
this.Vg=c.hz(this.Jd,g)){this.Mb=this.Vg.jb;!this.Mb.NoResize&&c.qc(this.Mb)?this.state=d.AnnotationSelectTool.ob.aw:(this.state=d.AnnotationSelectTool.ob.NONE,c.Kd());return}}g=c.bz(a);if(0<g.length){this.Mb=null;for(f=0;f<g.length;++f)if(c.hk(g[f])){this.Mb=g[f];break}this.Mb||(this.Mb=g[0]);g=c.hk(this.Mb);!this.Mb.NoMove&&c.qc(this.Mb)&&g?this.state=d.AnnotationSelectTool.ob.$q:a.ctrlKey?this.state=d.AnnotationSelectTool.ob.zn:(this.state=d.AnnotationSelectTool.ob.NONE,c.Kd())}else c.Kd()}else c.Kd()}},
mouseMove:function(a){e.prototype.mouseMove.call(this,a);!this.isSelecting()&&this instanceof d.jr||a.preventDefault();if(!this.overrideSelection&&this.state!==d.AnnotationSelectTool.ob.NONE){a=this.u.oa;var c=this.pageCoordinates[1];if(c&&this.Jd===c.pageIndex){var g=c.x-this.Pg.x,f=c.y-this.Pg.y;if(this.state===d.AnnotationSelectTool.ob.$q&&this.Mb){"move"!==this.u.el.css("cursor")&&this.u.el.css("cursor","move");var l=a.qf(),m,n,k,q,p,r,u,w=!1;for(m=0;m<l.length;m++)k=l[m],a.qc(k)&&!k.NoMove&&
(n=k.ee(),w?(n.x1<q&&(q=n.x1),n.y1<p&&(p=n.y1),n.x2>r&&(r=n.x2),n.y2>u&&(u=n.y2)):(q=n.x1,p=n.y1,r=n.x2,u=n.y2,w=!0));n=this.u.Pb(this.Jd);k=this.u.Ob(this.Jd);m=new Annotations.Rect;this.u.lb(this.Mb.Va());m.x1=1*d.AnnotationSelectTool.PAGE_PADDING.x1;m.y1=1*d.AnnotationSelectTool.PAGE_PADDING.y1;m.x2=n-1*d.AnnotationSelectTool.PAGE_PADDING.x2;m.y2=k-1*d.AnnotationSelectTool.PAGE_PADDING.y2;q=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.x1,q);p=Math.max(0+d.AnnotationSelectTool.PAGE_PADDING.y1,
p);r=Math.min(r,n-d.AnnotationSelectTool.PAGE_PADDING.x2);u=Math.min(u,k-d.AnnotationSelectTool.PAGE_PADDING.y2);if(w){q=q+g>=m.x1?g:m.x1-q;p=p+f>=m.y1?f:m.y1-p;r=r+g<=m.x2?g:m.x2-r;u=u+f<=m.y2?f:m.y2-u;g=0<=g?Math.min(q,r):Math.max(q,r);f=0<=f?Math.min(p,u):Math.max(p,u);this.Pg.x=c.x;this.Pg.y=c.y;c={};for(m=0;m<l.length;m++)if(k=l[m],a.qc(k)&&!k.NoMove&&(n=k.ee(),n.x1+=g,n.y1+=f,n.x2+=g,n.y2+=f,0!==g||0!==f))k.resize(n),k.ay=!0,c[k.Hb()]=!0;for(var v in c)this.u.oa.ac(v)}}else this.state===d.AnnotationSelectTool.ob.Zq&&
this.Vg&&this.Mb&&(v=this.Vg.move(this.Mb,g,f,this.de(new Annotations.Point(this.Lc.x,this.Lc.y)),c,this.u),this.Pg.x=c.x,this.Pg.y=c.y,v&&this.u.oa.Bc(this.Mb))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.mousedown=!1;var a=this.u.oa,c=a.qf();if(this.state===d.AnnotationSelectTool.ob.$q)for(var e=0;e<c.length;e++){var f=c[e];f.ay&&(f.ay=void 0,a.trigger("annotationChanged",[[f],"modify"]))}else this.state===d.AnnotationSelectTool.ob.aw?(e=this.Vg.jb,this.Vg&&a.trigger("annotationChanged",
[[e],"modify"])):this.state===d.AnnotationSelectTool.ob.Zq&&this.Mb&&a.trigger("annotationChanged",[[this.Mb],"modify"]);0<c.length?this.u.el.css("cursor","default"):this.u.el.css("cursor",this.cursor);this.state=d.AnnotationSelectTool.ob.NONE}},Ru:function(){this.u.oa.hi(this.annotation);this.annotation=null},keyDown:function(b){27===b.which&&void 0!==this.annotation&&null!==this.annotation&&this.Ru();46!==b.which&&8!==b.which||a.utils.isEditableElement($(b.target))||(b=this.u.bd().qf(),this.u.bd().bt(b))},
tap:function(a){if(!this.overrideSelection){var c=this.u.bd(),d=c.Et(a);if(d){var f=c.hk(d);a.originalEvent.ctrlKey?f?c.Ql(d):c.Ck(d):f||(c.Kd(),c.Ck(d));a.preventDefault()}}},isSelecting:function(){return this.state!==d.AnnotationSelectTool.ob.NONE}});d.jr=function(a){d.AnnotationSelectTool.call(this,a);this.js={x:0,y:0};this.co=!1;this.cursor="url(Resources/hand.png), url(Resources/hand.cur), pointer"};d.jr.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",
this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.js=this.eh(a),this.co=!0,this.u.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer"))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(this.co=!1)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.co){var c=this.u.Qb(),e=this.eh(a);
a=this.js.x-e.x;e=this.js.y-e.y;this.u.scrollTo(c.scrollLeft()+a,c.scrollTop()+e)}},mouseLeave:function(){this.co=!1;this.u.el.css("cursor",this.cursor)}});d.Bb=function(a){e.call(this,a);this.he=!1;this.cursor="text"};d.Bb.SELECTION_MODE="structural";d.Bb.prototype={switchIn:function(){this.ky(null,this.u.jf());this.u.on("rotationUpdated.textTool",_.bind(this.ky,this))},switchOut:function(a){e.prototype.switchOut.call(this,a);this.u.off("rotationUpdated.textTool")},ky:function(b,c){this.cursor=c===
a.o.ra.ad||c===a.o.ra.Ld?"vertical-text":"text";this.u.el.css("cursor",this.cursor)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&(d.Bb.SELECTION_MODE="rectangular"),this.he=!0,this.u.Ss())},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||!0!==this.he||(1!==a.which&&0!==a.which?this.he=!1:(a.data&&(this.pageCoordinates[1]=this.de(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],
this.pageCoordinates[1])))},select:function(a,c){var d=this.u;if(a&&c){var f,e;c.pageIndex>=a.pageIndex?(f=a,e=c):(f=c,e=a);var m=f.pageIndex,n=e.pageIndex;if(null!==m&&null!==n){var k=new g.Ba,q=d.v.Kc(m);1<=n-m?k.Xa(f.x,f.y,q.width,q.height):k.Xa(f.x,f.y,e.x,e.y);this.u.Dk(m,k,_.bind(this.textSelected,this));for(f=m+1;f<n;f++)q=d.v.Kc(f),k=new g.Ba,k.Xa(0,0,q.width,q.height),d.Dk(f,k,_.bind(this.textSelected,this));m!==n&&(k=new g.Ba,k.Xa(0,0,e.x,e.y),d.Dk(n,k,_.bind(this.textSelected,this)))}}},
textSelected:function(){},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(a.altKey&&"rectangular"===d.Bb.SELECTION_MODE&&(d.Bb.SELECTION_MODE="structural"),this.he=!1)}};d.Bb.prototype=$.extend(new d.AnnotationSelectTool,d.Bb.prototype);d.kw=function(a){d.Bb.call(this,a);this.ve={};this.Zw=this.Mx=this.tj=null};d.kw.prototype=$.extend(new d.Bb,{select:function(){this.u.ny();this.ve={};d.Bb.prototype.select.apply(this,arguments)},mouseLeftDown:function(a){this.tj=
null;var c=this.de(this.eh(a));if(c){var e=c.pageIndex,f=this.wD(e),g=this;f.Od=function(){return g.ve[e]};var m=!1,n=!1,k=this.Pr();0<k.length&&(e===k[0]&&(m=!0),e===k[k.length-1]&&(n=!0));if(c=(new Annotations.Ih(f,!0,!1,m,n)).Iq(f,this.u.lb(e),c.x,c.y))this.tj=c,this.tj.yi?this.Mx=this.yD():this.Zw=this.xD()}this.tj||(d.Bb.prototype.mouseLeftDown.apply(this,arguments),this.ve={});this.he=!0},mouseMove:function(a){if(this.he&&this.tj){var c=this.de(this.eh(a));if(c){var e;this.tj.yi?e=this.Mx:(e=
c,c=this.Zw);this.ve={};this.select(e,c)}}else d.Bb.prototype.mouseMove.apply(this,arguments)},mouseLeftUp:function(){d.Bb.prototype.mouseLeftUp.apply(this,arguments);0<Object.keys(this.ve).length?(this.u.el.css("cursor","default"),this.ms()):0===this.u.bd().qf().length&&this.u.el.css("cursor",this.cursor)},textSelected:function(a,c,d){this.u.iq(a,c,d);0<c.length&&(this.u.el.css("cursor","default"),this.ve[a]=c.map(function(a){return a.nf()}));this.he||this.ms()},mouseDoubleClick:function(){var a=
this.pageCoordinates[0];if(a){var c=this;this.u.jI(a.pageIndex,a,function(){c.textSelected.apply(c,arguments);c.ms()})}},ms:function(){var a=this.kx();a.quad&&this.trigger("selectionComplete",[a,this.ve])},Pr:function(){return Object.keys(this.ve).map(function(a){return parseInt(a,10)}).sort(function(a,c){return a-c})},kx:function(){var a=this.Pr()[0],c=this.ve[a];return{quad:c?c[0]:null,pageIndex:a}},yD:function(){var a=this.kx(),c=a.quad;return{x:c.x1,y:(c.y1+c.y3)/2,pageIndex:a.pageIndex}},xD:function(){var a=
this.Pr(),a=a[a.length-1],c=this.ve[a],c=c[c.length-1];return{x:c.x3,y:(c.y1+c.y3)/2,pageIndex:a}},wD:function(a){var c=Infinity,d=Infinity,f=0,e=0;if(a=this.ve[a])for(var g=0;g<a.length;++g)var n=a[g],c=Math.min(c,n.x1,n.x2,n.x3,n.x4),d=Math.min(d,n.y1,n.y2,n.y3,n.y4),f=Math.max(f,n.x1,n.x2,n.x3,n.x4),e=Math.max(e,n.y1,n.y2,n.y3,n.y4);return{X:c,Y:d,Width:f-c,Height:e-d}}},a.utils.eventHandler);d.nb=function(a,c,e){d.AnnotationSelectTool.call(this,a);this.annotation=null;this.us=c;this.CE=e;this.cursor=
"crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,0),StrokeThickness:1,Opacity:1}};d.nb.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor",this.cursor);this.u.jd({annotMode:!0})},switchOut:function(a){null!==this.annotation&&void 0!==this.annotation&&(this.u.oa.hi(this.annotation),this.annotation=null);d.AnnotationSelectTool.prototype.switchOut.call(this,a);this.u.jd({annotMode:!1})},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&!this.annotation&&(a=this.pageCoordinates[0])){var c=this.u.oa;this.annotation=new this.us(this.CE);this.annotation.X=a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=c.Xj();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&
(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=
this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(a=new Annotations.Rect(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.tg(a),this.u.oa.Bc(this.annotation))}},finish:function(){if(this.annotation){var a=this.annotation.xa(),c=this.annotation.ua(),d=2*(this.annotation.getRectPadding()+1);a<=d&&c<=d?this.u.oa.hi(this.annotation):(this.u.oa.Qg(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},a.utils.eventHandler);new d.nb;d.Fv=function(a){d.AnnotationSelectTool.call(this,
a);this.oh=this.uu=null};d.Fv.prototype=$.extend(new d.AnnotationSelectTool,{switchIn:function(){this.u.el.css("cursor","default")},switchOut:function(a){e.prototype.switchOut.call(this,a)},mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){this.mousedown=!0;this.state=d.AnnotationSelectTool.ob.NONE;a=this.u.oa;var c=this.de(this.ub);c&&(this.Jd=c.pageIndex,a.Kd(),this.state=(this.uu=this.u.$g(this.Jd))?d.AnnotationSelectTool.ob.zn:d.AnnotationSelectTool.ob.NONE)}},
mouseMove:function(b){d.AnnotationSelectTool.prototype.mouseMove.call(this,b);if(this.state===d.AnnotationSelectTool.ob.zn&&(b=this.pageCoordinates[1])&&this.Jd===b.pageIndex){var c=b.x,e=b.y;b=0>c-this.Gj?c:this.Gj;var f=0>e-this.Hj?e:this.Hj,c=Math.abs(c-this.Gj),e=Math.abs(e-this.Hj),g=$("#annoteditselectrect");0===g.length&&(g=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.u.el));var m=this.ub.x-this.Lc.x,n=this.ub.y-this.Lc.y,k=this.u.Qb(),q=this.Lc.x-k.scrollLeft(),
p=this.Lc.y-k.scrollTop(),r=this.ub.x-k.scrollLeft(),u=this.ub.y-k.scrollTop(),w=this.u.Pb(this.Jd),v=this.u.Ob(this.Jd),p=Math.min(u,p),q=Math.min(r,q),r=this.docViewer.dm().fd({x:0,y:0},this.Jd),x=this.docViewer.dm().fd({x:w,y:v},this.Jd),w=Math.min(r.x,x.x),v=Math.min(r.y,x.y),u=Math.max(r.x,x.x),r=Math.max(r.y,x.y),w=w-k.scrollLeft(),v=v-k.scrollTop();v>p&&(n+=v-p,p=v);w>q&&(m+=w-q,q=w);u-=k.scrollLeft();r-=k.scrollTop();g.css({width:a.Fa.Math.Po(Math.abs(m),0,u-q),height:a.Fa.Math.Po(Math.abs(n),
0,r-p),top:p,left:q,"z-index":"44",position:"absolute",border:"1px dotted black",display:"inline"});this.oh=a.Fa.fA(b,f,c,e)}},mouseLeftUp:function(a){this.state!==d.AnnotationSelectTool.ob.zn?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(this.mousedown=!1,this.oh&&(this.oh.x1===this.oh.x2&&this.oh.y1===this.oh.y2?d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(a=this.uD(this.Jd,this.oh),this.u.bd().Tu(a))),this.oh=this.uu=null,this.state=d.AnnotationSelectTool.ob.NONE,$("#annoteditselectrect").css("display",
"none"))},uD:function(b,c){for(var d,f=[],e=this.u.bd().Fb.filter(function(a){return a.Va()===b&&!a.Fe()&&!a.Hidden}),g=0;g<e.length;g++){d=e[g];var n=1;!0===d.NoZoom&&(n=this.u.lb(d.Va()));a.Fa.NH(c,a.Fa.fA(d.dh(),d.gh(),d.xa()/n,d.ua()/n))&&f.push(d)}return f}});d.cl=function(b){d.nb.call(this,b,a.Annotations.pd)};d.cl.prototype=$.extend(new d.nb,{mouseLeftDown:function(a){d.nb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,
y:this.pageCoordinates[0].y})},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(this.annotation.End={x:c.x,y:c.y},this.annotation.adjustRect(),this.u.oa.Bc(this.annotation))}}});d.Gv=function(a){d.cl.call(this,a)};d.Gv.prototype=$.extend(new d.cl,{mouseLeftDown:function(a){d.cl.prototype.mouseLeftDown.call(this,
a);this.annotation&&this.annotation.Si("OpenArrow")}});d.bw=function(b){d.nb.call(this,b,a.Annotations.kj)};d.bw.prototype=new d.nb;d.Lv=function(b){d.nb.call(this,b,a.Annotations.$i)};d.Lv.prototype=new d.nb;d.FreeHandCreateTool=function(b){d.nb.call(this,b,a.Annotations.FreeHandAnnotation);this.Rb=0;this.Ro=null;this.he=!1;this.pointerType=null};d.FreeHandCreateTool.prototype=$.extend(new d.nb,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(a){d.AnnotationSelectTool.prototype.mouseLeftDown.call(this,
a);if(!this.isSelecting()&&this.pageCoordinates[0]){this.he=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===this.annotation.PageNumber-1){a=this.pageCoordinates[0].x;var c=this.pageCoordinates[0].y,e=!1,f=this.annotation.getPath(this.Rb);f&&0<f.length&&(f=f[f.length-1],f.x===a&&f.y===c&&(e=!0));e||this.annotation.Eb(a,c,this.Rb)}else this.complete(),d.FreeHandCreateTool.prototype.mouseLeftDown.call(this,a);else d.nb.prototype.mouseLeftDown.call(this,a);clearTimeout(this.Ro)}},complete:function(){this.annotation&&
0<this.annotation.si().length?(this.u.oa.Bc(this.annotation),this.annotation.finish(),d.nb.prototype.mouseLeftUp.call(this,null),this.Fx()):this.annotation=null},Vp:function(){this.complete()},switchOut:function(a){this.complete();d.nb.prototype.switchOut.call(this,a)},mouseLeftUp:function(){d.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.he=!1,this.annotation)){var a=this.u.oa,c=this.annotation.getPath(this.Rb);if(c){if(4>c.length)this.annotation.si().pop(),
this.annotation.adjustRect(),a.Bc(this.annotation);else{if("pen"!==this.pointerType||this.simplifyPen)this.annotation.aJ(.75),a.Bc(this.annotation);this.Rb++}this.Ro=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.si().length&&(this.complete(),clearTimeout(this.Ro))}},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);!this.isSelecting()&&!1!==this.he&&this.annotation&&null!==this.pageCoordinates&&null!==this.pageCoordinates[1]&&this.pageCoordinates[0].pageIndex===
this.pageCoordinates[1].pageIndex&&(this.annotation.Eb(this.pageCoordinates[1].x,this.pageCoordinates[1].y,this.Rb),this.u.oa.Bc(this.annotation))},Fx:function(){this.Rb=0;this.he=!1;clearTimeout(this.Ro)},Ru:function(){this.Fx();d.AnnotationSelectTool.prototype.Ru.call(this)},contextMenu:function(a){a.preventDefault()},yA:function(a){this.pointerType=a.originalEvent.pointerType}});d.SignatureCreateTool=function(a){d.Tool.call(this,a);this.Hg=100;this.location=null;this.Tl=!1;this.Lq=this.Rb=0;this.visible=
!1;this.Zs=null;var c=this;$(document).on("mouseup",function(){c.Tl&&(c.visible=!0);c.bx()})};d.SignatureCreateTool.prototype={switchIn:function(){this.u.el.css("cursor","crosshair");this.initAnnot()},hx:function(a){var c,d=this.canvas[0].getBoundingClientRect();a.originalEvent&&a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]);c=a.clientX;a=a.clientY;return{x:c-d.left,y:a-d.top}},Pw:function(){this.ctx.setTransform(1,0,0,
1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},zE:function(){this.Pw();this.drawBackground();this.freeHandAnnot.bF();this.Lq=this.Rb=0},bx:function(){this.Tl&&(this.Rb++,this.visible&&(this.Lq++,this.visible=!1));this.Tl=!1},drawBackground:function(){var a=window.utils.getCanvasMultiplier();this.ctx.scale(a,a);this.ctx.save();var c=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,
c);this.ctx.lineTo(this.ctx.canvas.width/a-10,c);this.ctx.stroke();this.ctx.fillStyle="#000";var d=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(d,this.ctx.canvas.width/a/2,c-20);this.ctx.restore()},Ww:function(){this.Pw();this.drawBackground();this.freeHandAnnot.draw(this.ctx)},initAnnot:function(){var a=this.u.bd();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=
a.Xj();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},Nz:function(a){this.Zs=a},QD:function(a){this.Nz(a);this.trigger("saveDefault",[a])},mG:function(){return this.Zs?!0:!1},nH:function(){this.drawBackground()},VD:function(){var a=this.Zs;if(a){for(var a=$.extend(!0,[],a),c=0;c<a.length;++c)this.freeHandAnnot.setPath(a[c],c);this.Lq=a.length;this.Zx()}},Zx:function(b){if(this.Sz())return!1;
b&&this.QD(this.freeHandAnnot.si());b=this.u.bd();var c=this.location.pageIndex+1;this.freeHandAnnot.PageNumber=c;this.freeHandAnnot.StrokeThickness=1;c=this.u.jf(c);c!==a.o.ra.xe&&this.freeHandAnnot.rotate(c*-Math.PI/2,this.location);var d=this.freeHandAnnot.Width,f=this.freeHandAnnot.Height,e,g;d>f?(c=this.location.x-this.Hg,e=this.location.y-f/d*this.Hg,g=this.location.x+this.Hg,f=this.location.y+f/d*this.Hg):(c=this.location.x-d/f*this.Hg,e=this.location.y-this.Hg,g=this.location.x+d/f*this.Hg,
f=this.location.y+this.Hg);d=this.u.getDocument().Kc(this.location.pageIndex);c=new Annotations.Rect(c,e,g,f);c.st(new Annotations.Rect(0,0,d.width,d.height));this.freeHandAnnot.resize(c);b.Qg(this.freeHandAnnot);b.Bc(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},Sz:function(){return 0===this.Lq},LI:function(a){var c=this;this.canvas=a;this.ctx=a[0].getContext("2d");this.canvas.on("mousedown touchstart",function(a){if(1===a.which||0===a.which)a=
c.hx(a),c.freeHandAnnot.Eb(a.x,a.y,c.Rb),c.Ww(),c.Tl=!0});this.canvas.on("touchmove",function(a){a.preventDefault()});this.canvas.on("mousemove touchmove",_.throttle(function(a){c.Tl&&(a=c.hx(a),c.freeHandAnnot.Eb(a.x,a.y,c.Rb),c.Ww(),c.visible=!0)},20));this.canvas.on("mouseup touchend",function(){c.bx()})},mouseLeftUp:function(a){a.preventDefault();d.Tool.prototype.mouseLeftUp.apply(this,arguments);var c=this.pageCoordinates[1];c&&(this.location=c,this.trigger("locationSelected",c))}};d.SignatureCreateTool.prototype=
$.extend(new d.Tool,d.SignatureCreateTool.prototype,a.utils.eventHandler);d.qd=function(a,c){d.Bb.call(this,a);this.text=this.annotation=null;this.us=c;this.defaults={StrokeColor:new Annotations.Color(255,0,0)}};d.qd.AUTO_SET_TEXT=!0;d.qd.prototype=$.extend(new d.Bb,{switchIn:function(a){d.Bb.prototype.switchIn.call(this,a);this.u.jd({annotMode:!0})},switchOut:function(a){d.Bb.prototype.switchOut.call(this,a);this.u.jd({annotMode:!1})},mouseLeftDown:function(a){d.Bb.prototype.mouseLeftDown.call(this,
a);this.isSelecting()||this.annotation||!this.pageCoordinates||(a=this.u.oa,this.annotation=new this.us,this.annotation.Author=a.Xj(),a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.trigger("annotationCreated",[this.annotation]))},textSelected:function(a,c,e){this.annotation&&this.pageCoordinates[0].pageIndex===a&&0<c.length&&(this.annotation.gv(c.map(function(a){return a.nf()})),this.annotation.PageNumber=a+1,this.text=e,d.qd.AUTO_SET_TEXT&&this.annotation.Qi(this.text),
this.u.oa.Bc(this.annotation))},mouseLeftUp:function(a){d.Bb.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&(a=this.u.oa,!this.text||1>this.text.length?a.hi(this.annotation):(a.Qg(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null)}},a.utils.eventHandler);d.jw=function(b){d.qd.call(this,b,a.Annotations.Hf);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};d.jw.prototype=new d.qd;d.ow=function(b){d.qd.call(this,b,a.Annotations.pj)};
d.ow.prototype=new d.qd;d.mw=function(b){d.qd.call(this,b,a.Annotations.Jh)};d.mw.prototype=$.extend(new d.qd,{mouseLeftUp:function(){d.qd.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,c=this.u.oa;a&&c.ih(a)&&(c.vt(a),c.Bc(a))}}});d.lw=function(b){d.qd.call(this,b,a.Annotations.oj)};d.lw.prototype=new d.qd;d.fw=function(a){e.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1}};d.fw.prototype=$.extend(new d.Tool,
{switchIn:function(){this.u.el.css("cursor","crosshair")},mouseLeftDown:function(a){if(!this.annotation){e.prototype.mouseLeftDown.call(this,a);var c=this.pageCoordinates[0];if(c){var d=this.u.oa;this.annotation=new Annotations.Gf;this.annotation.X=c.x;this.annotation.Y=c.y;this.annotation.PageNumber=c.pageIndex+1;this.annotation.Author=d.Xj();c=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",
[this.annotation]);d.Qg(this.annotation);this.trigger("annotationAdded",[this.annotation]);d.Bc(this.annotation);var f=this.annotation;setTimeout(function(){d.vt(f)},500);this.annotation=null;a.preventDefault()}}}},a.utils.eventHandler);d.il=function(b){d.nb.call(this,b,a.Annotations.jj);this.annotation=null;this.Ki=!1};d.il.prototype=$.extend(new d.nb,{mouseLeftDown:function(a){var c;d.nb.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&this.annotation&&((c=a.data.pageCoordinate,c&&c.pageIndex===
this.annotation.Va())?null!==c.x&&null!==c.y&&(0===this.annotation.ca.length?this.annotation.Eb(c.x,c.y):this.Ki||(this.annotation.sk(),this.annotation.Eb(c.x,c.y)),this.Ki=!0):this.mouseDoubleClick(a))},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.annotation&&!this.isSelecting()&&a.data&&(a=a.data.pageCoordinate,null!==a&&null!==a.x&&null!==a.y&&a.pageIndex===this.annotation.Va())){this.Ki||
this.annotation.sk();var c=this.annotation.getPath();0===c.length?(this.annotation.Eb(a.x,a.y),this.Ki=!1):0<c.length&&(c[c.length-1].x!==a.x||c[c.length-1].y!==a.y)&&(this.annotation.Eb(a.x,a.y),this.Ki=!1);this.annotation.X=this.annotation.Ma.x;this.annotation.Y=this.annotation.Ma.y;this.u.oa.Bc(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},Vp:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},
tap:function(){}});d.ij=function(b){d.nb.call(this,b,a.Annotations.Eg);this.annotation=null;this.Ki=!1};d.ij.prototype={};d.ij.prototype=$.extend(new d.il,d.ij.prototype);d.Dn=function(b){d.nb.call(this,b,a.Annotations.Eg);this.annotation=null;this.Ki=!1};d.Dn.prototype={mouseLeftDown:function(){d.ij.prototype.mouseLeftDown.apply(this,arguments);this.annotation&&(this.annotation.Style="cloudy",this.annotation.Intent="PolygonCloud")}};d.Dn.prototype=$.extend(new d.ij,d.Dn.prototype);d.Xq=function(b){d.nb.call(this,
b,a.Annotations.Ka,Annotations.Ka.Bd.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.Xq.prototype={};$.extend(d.Xq.prototype,d.il.prototype,{mouseLeftDown:function(a){d.il.prototype.mouseLeftDown.call(this,a);if(null!==this.annotation&&3<=this.annotation.getPath().length){4===this.annotation.getPath().length&&this.annotation.sk();var c=this.annotation.getPath()[2],e=90*this.u.jf(this.annotation.PageNumber),f=this.u.Pb(this.annotation.Va()),g=
this.u.Ob(this.annotation.Va());c.x+150>f&&(c.x-=150);c.y+15>g?c.y-=15:0>c.y-15&&(c.y+=15);90===e||270===e?(this.annotation.Eb(c.x-15,c.y),this.annotation.Eb(c.x+15,c.y+150)):(this.annotation.Eb(c.x,c.y-15),this.annotation.Eb(c.x+150,c.y+15));this.annotation.Rotation=e;c=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(c.R,c.G,c.B,c.A);this.annotation.FontSize=this.defaults.FontSize;this.u.oa.Bc(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||
d.Tool.prototype.mouseDoubleClick.call(this,a)},Vp:function(){if(null!==this.annotation){var a=this.annotation.Hb();this.annotation=null;this.u.oa.ac(a)}},contextMenu:function(a){a.preventDefault()}});d.Pv=function(b){d.nb.call(this,b,a.Annotations.Ka);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};d.Pv.prototype=$.extend(new d.nb,{initialText:"Insert text here",mouseLeftDown:function(a){d.nb.prototype.mouseLeftDown.call(this,a);
!this.isSelecting()&&this.annotation&&(this.annotation.StrokeThickness=Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,.2),this.annotation.Fk(Annotations.Ka.Bd.FreeText),this.annotation.Qi(this.initialText),this.annotation.Rotation=90*this.u.jf(this.annotation.PageNumber),a=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=this.defaults.FontSize)},mouseMove:function(a){d.AnnotationSelectTool.prototype.mouseMove.call(this,
a);if(!this.isSelecting()&&this.annotation&&"undefined"!==typeof this.pageCoordinates){a=this.pageCoordinates[0];var c=this.pageCoordinates[1];null!==c&&null!==a&&a.pageIndex===c.pageIndex&&(a=new Annotations.Rect(a.x,a.y,c.x,c.y),a.normalize(),this.annotation.tg(a),this.annotation.Hk(new Annotations.Rect(0,0,0,0)),this.u.oa.Bc(this.annotation))}},mouseLeftUp:function(a){d.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&this.annotation&&(this.annotation.StrokeThickness=
this.defaults.StrokeThickness,a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A),a=this.annotation.getRectPadding(),this.annotation.Hk(new Annotations.Rect(a,a,a,a)),this.u.oa.Bc(this.annotation),this.finish())}})})(window);
(function(a){function g(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function d(a,b,f){var c=$("#text-width-tester");a=a.split("\n").join("<br>&nbsp;").split(" ").join("&nbsp;");c.length?c.css({"font-family":f,"font-size":b}).html(a):(c="display:none;",_.isString(f)&&(c+="font-family:"+f+";"),_.isUndefined(b)||(c+="font-size:"+b+";"),c=$('<span id="text-width-tester" style="'+c+'">'+a+"</span>"),$("body").append(c));
return{width:c.width(),height:c.height()}}function e(b,f,c){if(a.utils.disableFormCharacterProcessing)b.on("change",function(){f({change:this.value,ju:!0})});else b.on("paste",function(a){var c;c=a.originalEvent.clipboardData?(a.originalEvent||a).clipboardData.getData("text/plain"):window.clipboardData?window.clipboardData.getData("Text"):void 0;c&&(a.change=c,a.selectionStart=b.prop("selectionStart"),a.selectionEnd=b.prop("selectionEnd"),f(a))}),b.on("cut",function(a){a.change={type:"backspace"};
a.selectionStart=b.prop("selectionStart");a.selectionEnd=b.prop("selectionEnd");f(a)}),b.on("keypress",function(a){var d;if(d=!c||10!==a.which&&13!==a.which){d="undefined"===typeof a.key;var e=!a.ctrlKey&&!a.metaKey;d=("string"===typeof a.key&&(1===a.key.length||"Spacebar"===a.key||"Enter"===a.key||"Add"===a.key||"Subtract"===a.key||"Multiply"===a.key||"Divide"===a.key||"Del"===a.key)||d)&&e}d&&(a.change=String.fromCharCode(a.which),a.selectionStart=b.prop("selectionStart"),a.selectionEnd=b.prop("selectionEnd"),
f(a))}),b.on("keydown",function(a){a.selectionStart=b.prop("selectionStart");a.selectionEnd=b.prop("selectionEnd");8===a.which?(a.change={type:"backspace"},f(a)):46===a.which&&(a.change={type:"delete"},f(a))})}function b(){m=$("<span>Hg</span>");n=$('<div style="display: inline-block; width: 1px; height: 0px;"></div>');var a=$("<div></div>").css({visibility:"hidden",position:"absolute",top:"-9001px"});a.append(m,n);$("body").append(a)}var c;if(!(c=!Object.defineProperty)){var h;try{Object.defineProperty({},
"x",{}),h=!0}catch(k){h=!1}c=!h}c&&(Object.defineProperty=function(a,b,f){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in f&&Object.prototype.__defineGetter__.call(a,b,f.get);Object.prototype.__defineSetter__&&"set"in f&&Object.prototype.__defineSetter__.call(a,b,f.set);"value"in f&&(a[b]=f.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,b){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");
for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&Object.defineProperty(a,f,b[f]);return a});a.Annotations=a.Annotations||{};var f=a.Annotations,l=1;f.Annotation=function(){this.Subject="Annotation";this.Cw=1;this.vr=this.yr=this.Ar=this.zr=0;this.tw=void 0;this.oK=this.nK=!1;this.Kw=void 0;this.Kr=new Date;this.mx=g();this.Rr=!0;this.wj=this.rx=this.Wh=!1;this.tx=this.es=!0;this.qo=[]};f.Annotation.prototype={elementName:"annotation",selectionModel:f.Bn,jh:!1,pf:function(){return null},draw:function(){},
render:function(){},vv:function(){},lh:function(){return!1},Tz:function(){return!1},tg:function(a){var b=this.ee();a=new f.Rect(a.x1,a.y1,a.x2,a.y2);0>a.xa()&&(a.x1=b.x1,a.x2=b.x2);0>a.ua()&&(a.y1=b.y1,a.y2=b.y2);this.X=a.x1;this.Y=a.y1;this.Width=a.xa();this.Height=a.ua()},adjustRect:function(){},resize:function(a){this.tg(a)},ti:function(){return this.X},TI:function(a){this.X=parseFloat(a)},vi:function(){return this.Y},UI:function(a){this.Y=parseFloat(a)},xa:function(){return this.Width},RI:function(a){this.Width=
parseFloat(a)},ua:function(){return this.Height},av:function(a){this.Height=parseFloat(a)},ee:function(){return new f.Rect(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},Hb:function(){return this.PageNumber},Va:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},YA:function(a){this.PageNumber=parseInt(a,10)},dh:function(){return this.ti()},Cz:function(){return this.dh()+this.Width},gh:function(){return this.vi()},dz:function(){return this.gh()+
this.Height},xF:function(){return this.Custom},rI:function(a){this.Custom=a},ah:function(){return this.yH},Qi:function(a){this.yH=a;this.Ib()},bi:function(a){this.qo.push(a)},ct:function(a){a=this.qo.indexOf(a);-1<a&&this.qo.splice(a,1)},nm:function(){return this.qo},Fe:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},ZH:function(){return this.es},Ib:function(){this.isImporting||(this.Kr=new Date);this.Rr||(this.Wh=!0)},serialize:function(b,c){var d=$(b),e=f.ea,g=this.ee();
g.Ry();g={subject:this.Subject,page:this.Va(),rect:e.wq(g,c),flags:"print"};this.Hidden&&(g.flags+=",hidden");this.Id&&(g.name=this.Id);this.Author&&(g.title=this.Author);this.Rotation&&(g.rotation=this.Rotation);this.DateModified&&(g.date=e.sv(this.DateModified));d.attr(g);if(e=this.ah()){var g=document.createElementNS("","contents-richtext"),h;if(a.utils.xmlSerializerNamespaceSupported){h=document.createElementNS("http://www.w3.org/1999/xhtml","body");var l=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/",
"xfa:spec");l.nodeValue="2.0.2";h.setAttributeNodeNS(l);l=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");l.nodeValue="Acrobat:10.1.3";h.setAttributeNodeNS(l);h=$(h)}else h=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});h.appendTo($(g));h=$('<p dir="ltr"></p>').appendTo(h);l=";font-weight:normal;font-style:normal";l=this instanceof f.Ka?f.ea.lI(this,
c)+l:"font-size:10.0pt;text-align:left;color:#000000"+l;$('<span dir="ltr"></span>').attr("style",l).text(e).appendTo(h);d.append(g);e=$(document.createElementNS("","contents")).text(e);d.append(e)}return b},Uf:function(a){return(a=$(a).prop("nodeName"))&&this.elementName?a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(a,b){var c=$(a),d=f.ea,e=$(a).attr("page"),e=parseInt(e,10);this.PageNumber=e+1;e=c.attr("rect")||"0,0,100,100";e=d.ft(e,b);e.normalize();this.tg(e);this.Id=
c.attr("name");this.Author=c.attr("title");"undefined"!==typeof c.attr("subject")&&(this.Subject=c.attr("subject"));e=c.attr("flags");"undefined"!==typeof e&&(this.NoZoom=-1!==e.indexOf("nozoom"),this.NoRotate=-1!==e.indexOf("norotate"),this.Hidden=-1!==e.indexOf("hidden"));(e=c.attr("rotation"))&&(this.Rotation=e);(c=c.attr("date"))&&(this.DateModified=d.et(c));d="";e=a.getElementsByTagName("contents-richtext");if(0<e.length)if(c=e[0].getElementsByTagName("body"),0<c.length)if(e=c[0].getElementsByTagName("span"),
0<e.length)for(c=0;c<e.length;++c)d+=$(e[c]).text();else d=$(c[0]).text();else d=$(e[0]).text();else c=a.getElementsByTagName("contents"),0<c.length&&(d=$(c[0]).text());this.Qi(d)}};f.Annotation.prototype=$.extend(Object.create(a.utils.eventHandler),f.Annotation.prototype);Object.defineProperties(f.Annotation.prototype,{X:{get:function(){return this.zr},set:function(a){this.zr=parseFloat(a);this.Ib()}},Y:{get:function(){return this.Ar},set:function(a){this.Ar=parseFloat(a);this.Ib()}},Width:{get:function(){return this.yr},
set:function(a){this.yr=parseFloat(a);this.Ib()}},Height:{get:function(){return this.vr},set:function(a){this.vr=parseFloat(a);this.Ib()}},NoMove:{get:function(){return this.Aw},set:function(a){this.Aw=!0===a||"true"===a}},NoResize:{get:function(){return this.Bw},set:function(a){this.Bw=!0===a||"true"===a}},PageNumber:{get:function(){return this.Cw},set:function(a){this.Cw=parseInt(a,10)}},DateModified:{get:function(){return this.Kr},set:function(a){this.Kr=a instanceof Date?a:new Date(a)}},Id:{get:function(){return this.mx},
set:function(a){this.mx=a}},Author:{get:function(){return this.Kw},set:function(a){this.Kw=a}},IsAdded:{get:function(){return this.Rr},set:function(a){this.Rr=a}},IsModified:{get:function(){return this.Wh},set:function(a){this.Wh=a}},IsDeleted:{get:function(){return this.rx},set:function(a){this.rx=a}},Filtered:{get:function(){return this.wj},set:function(a){this.wj=a}},Custom:{get:function(){return this.tw},set:function(a){this.tw=a}},Listable:{get:function(){return this.tx},set:function(a){this.tx=
a?!0:!1}}});f.Tk=function(a){this.Jf=new f.Color;this.Zh=this.Th=this.Ij=0;this.$d=null;this.set(a)};f.Tk.prototype={set:function(a){a instanceof f.Tk?(this.Jf=new f.Color(a.Jf),this.Ij=a.Ij,this.Th=a.Th,this.Zh=a.Zh,this.$d=a.$d):_.isArray(a)?3===a.length||4===a.length?(_.isUndefined(a[0])||(this.Th=Number(a[0])),_.isUndefined(a[1])||(this.Zh=Number(a[1])),_.isUndefined(a[2])||(this.Ij=Number(a[2])),4===a.length&&_.isArray(a[3])&&console.warn("dashed borders are currently unsupported")):console.warn("Invalid border specification ",
a," should be 3 or 4 elements long"):_.isObject(a)&&(_.isArray(a.border)&&this.set(a.border),_.isUndefined(a.color)||(this.Jf=new f.Color(a.color)),_.isUndefined(a.width)||(this.Ij=Number(a.width)),_.isUndefined(a.cornerRadius)?_.isArray(a.cornerRadius)&&(this.Th=a.cornerRadius[0]||0,this.Zh=a.cornerRadius[1]||0):this.Zh=this.Th=Number(a.cornerRadius),_.isString(a.style)&&(this.$d=a.style))},serialize:function(a){var b=$(a),c=f.ea;this.jD&&b.attr("width",this.jD);this.$d&&b.attr("style",this.$d);
b=this.color;a.setAttribute("BC",[b.R/255,b.G/255,b.B/255].map(c.toFixed).join(","))},deserialize:function(a){var b=f.ea,c={};b.getAttribute(a,"width")?c.width=parseInt(b.getAttribute(a,"width"),10):c.width=1;b.getAttribute(a,"style")&&(c.style=b.getAttribute(a,"style"),"bevelled"===c.style&&(c.style="beveled"));b.getAttribute(a,"BC")&&(c.color=b.getAttribute(a,"BC").split(",").map(Number));this.set(c)},rv:function(){var a=_.isNull(this.$d)?"solid":this.$d,b=this.Ij,f=this.Th.toFixed(6)+"px "+this.Zh.toFixed(6)+
"px",c={};"underline"===a?(c["border-bottom-style"]="solid",c["border-top-style"]="hidden",c["border-left-style"]="hidden",c["border-right-style"]="hidden"):(a={solid:"solid",beveled:"outset",inset:"inset"}[a],_.isUndefined(a)&&(a="solid"),c["border-style"]=a);c["border-color"]=this.Jf.toString();c["border-width"]=b;c["border-top-left-radius"]=f;c["border-top-right-radius"]=f;c["border-bottom-left-radius"]=f;c["border-bottom-right-radius"]=f;return c}};Object.defineProperties(f.Tk.prototype,{color:{get:function(){return this.Jf},
set:function(a){this.set({color:a})}},width:{get:function(){return this.Ij},set:function(a){this.set({width:a})}},style:{get:function(){return this.$d},set:function(a){this.set({style:a})}},cornerRadius:{get:function(){return[this.Th,this.Zh]},set:function(a){this.set({cornerRadius:a})}}});f.Ta=function(b){f.Annotation.call(this);a.Actions.Bf.call(this,b);this.Jf=new f.Color(0,0,0,1);this.Nn=new f.Color;this.On=new f.Tk;this.Wn=!1;this.Rf=0;this.Uh=this.Ed=null;this.on("contentRemoved",function(){this.Uh=
this.Ed=null;this.pl=!1});this.xo=!0;_.isObject(b)&&(_.isUndefined(b.border)||this.On.set(b.border),_.isUndefined(b.backgroundColor)||(this.Nn=new f.Color(b.backgroundColor)),_.isUndefined(b.color)||(this.Jf=new f.Color(b.color)),_.isUndefined(b.rect)||(this.rect=new f.Rect(b.rect)));var c=this.qm(),d=this;Object.keys(c).forEach(function(a){var b=c[a];$(d).on(b.internal_name,function(f){d.yd(a,b.getEvent(d,f))})})};f.Ta.prototype={Sj:"",Yt:function(a){return(this.xa()-(this.xo?2*this.border.width:
0))*a},yp:function(a){return(this.ua()-(this.xo?2*this.border.width:0))*a},kB:function(a){this.xo=!!a},serialize:function(){this.Hidden=this.hidden;f.Annotation.prototype.serialize.apply(this,arguments)},deserialize:function(){f.Annotation.prototype.deserialize.apply(this,arguments);this.Hidden&&(this.hidden=!0,this.Hidden=!1)},qm:function(){return{}},Lj:function(){},Be:function(b){var f=this.Rf,c=a.utils.getRotationOffsets(f,this.xa(),this.ua()),d=c.dx*b,c=c.dy*b;return $.extend({left:this.X*b,top:this.Y*
b,width:this.Yt(b),height:this.yp(b),position:"absolute",padding:"0",margin:"0","background-color":this.Nn.toString(),"z-index":"35",display:this.Wn?"none":"",transform:"translate("+d+"px,"+c+"px) rotate("+-f+"deg)","transform-origin":"top left","-webkit-transform":"translate("+d+"px,"+c+"px) rotate("+-f+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+d+"px,"+c+"px) rotate("+-f+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+d+"px,"+c+"px) rotate("+
-f+"deg)","-moz-transform-origin":"top left","-webkit-appearance":"none"},this.xo?this.On.rv(b):{})},Nb:function(a){if(!a)throw"no zoom?";return{position:"absolute","font-size":"inherit","font-family":"inherit",color:"inherit",width:this.Yt(a),height:this.yp(a),border:0,padding:0,margin:0,"background-color":"transparent","vertical-align":"top"}},me:function(a){this.Wn=!a;this.Ed&&this.Ed.css("display",this.Wn?"none":"")},$f:function(){console.warn("missing inner element");return null},pz:function(){return this.Uh},
kz:function(){return this.Ed},render:function(a,b,f){this.Ed||(this.Ed=$('<div class="'+this.Sj+'" />'));this.Ed.css(this.Be(f));a.append(this.Ed);if(this.Uh)this.Uh.css(this.Nb(f)),this.Ed.append(this.Uh),this.pl||(this.Lj(b),this.pl=!0);else if(a=this.$f())this.Uh=a,this.Ed.css(this.Be(f)),a.css(this.Nb(f)),this.Ed.append(this.Uh),this.pl||(this.Lj(b),this.pl=!0)},vv:function(){this.Ed&&(this.Ed.remove(),this.pl=!1)}};f.Ta.prototype=$.extend(Object.create(f.Annotation.prototype),f.Ta.prototype,
a.Actions.Bf.prototype);Object.defineProperties(f.Ta.prototype,{rect:{get:function(){return this.ee()},set:function(a){this.tg(a)}},element:{get:function(){return this.kz()}},innerElement:{get:function(){return this.pz()}},hidden:{get:function(){return this.Wn},set:function(a){this.me(!a)}},color:{get:function(){return this.Jf},set:function(a){this.Jf=new f.Color(a)}},border:{get:function(){return this.On},set:function(a){this.On.set(a)}},backgroundColor:{get:function(){return this.Nn},set:function(a){this.Nn=
new f.Color(a)}},actions:{get:function(){return this.li()}},rotation:{get:function(){return this.Rf},set:function(a){this.Rf=Number(a)}}});f.Df=function(a){this.Rh=this.te="";this._size=0;this.Rn=new f.Color([0,0,0]);this.ls=new f.Color([0,0,0]);this.yo="Type1";this.Ph=0;this.set(a)};f.Df.prototype={set:function(a){_.isObject(a)?(a.name&&(this.te=String(a.name),this.Rh=f.ea.Rm(this.te)),a.size&&(this._size=Number(a.size)),a.fillColor&&(this.Rn=new f.Color(a.fillColor)),a.strokeColor&&(this.ls=new f.Color(a.strokeColor)),
a.type&&(this.yo=a.type)):_.isString(a)&&(this.te=a,this.Rh=f.ea.Rm(this.te))},lF:function(a,b,f){if(0===this._size){var c=b.yp(1);if(0===a.replace(/\s/g,"").length)return this.Ph=c/2;var e=20;f?e=this.kF(a,b,c):(b=.95*b.Yt(1),c*=.95,a=d(a,e,this.Rh?this.Rh:void 0),e*=Math.min(b/a.width,c/a.height));return this.Ph=Math.min(e,12)}},kF:function(a,b,f){if(a=b.innerElement){a.css("font-size",f+"px");b=0;for(var c;b<=f;)c=Math.floor((b+f)/2),a.css("font-size",c+"px"),a[0].scrollHeight>a.outerHeight()?
f=c-1:b=c+1;a[0].scrollHeight>a.outerHeight()&&a.css("font-size","-=2");return parseFloat(a.css("font-size"))}return f/2},deserialize:function(a,b){var c=f.ea;if(c.getAttribute(a,"FontName")){var d=c.getAttribute(a,"FontName");this.te=d;this.Rh=f.ea.Rm(d)}if(c.getAttribute(a,"FontSize")){var d=parseFloat(c.getAttribute(a,"FontSize")),c=b.V({x:0,y:0}),e=b.V({x:d,y:0}),d=c.x-e.x,c=c.y-e.y;this._size=Math.sqrt(d*d+c*c)}},xi:function(){return this.Rn.xi()&&this.ls.xi()},rv:function(a){var b={};""!==this.Rh&&
(b["font-family"]=this.Rh);b["font-size"]=0===this._size&&0!==this.Ph?String(this.Ph*a)+"px":String(this._size*a)+"px";b.color=this.Rn.toString();return b}};Object.defineProperties(f.Df.prototype,{name:{get:function(){return this.te},set:function(a){this.set({name:a})}},size:{get:function(){return this._size},set:function(a){this.set({size:a})}},type:{get:function(){return this.yo}},strokeColor:{get:function(){return this.ls},set:function(a){this.set({strokeColor:a})}},fillColor:{get:function(){return this.Rn},
set:function(a){this.set({fillColor:a})}},calculatedSize:{get:function(){return 0===this._size?this.Ph:this._size}}});f.Ig=function(a){this.Tf={};this.Dj=null;this.Fl=0;_.isObject(a)&&_.isArray(a.mask)&&this.Yl(a.mask)};f.Ig.prototype={Ag:{ReadOnly:1,Required:2,NoExport:4,Multiline:4096,Password:8192,NoToggleToOff:16384,Radio:32768,PushButton:65536,Combo:131072,Edit:262144,DoNotScroll:8388608,RadiosInUnison:33554432},clear:function(){this.Tf={}},Yl:function(a){_.isNull(this.Dj)&&(this.Dj={});for(var b=
a.length,f=0;f<b;++f){var c=a[f];this.Dj[c]=this.Ag[c]||0}},JE:function(a){var b=[],f=this.Dj||this.Ag;Object.keys(f).forEach(function(c){0!==(a&f[c])&&(a&=~f[c],b.push(c))});return{result:b,uJ:a}},get:function(a){return!!this.Tf[a]},nJ:function(){var a=0,b;for(b in this.Tf)this.Tf.hasOwnProperty(b)&&!0===this.Tf[b]&&(a|=this.Ag[b]);return a|this.Fl},toArray:function(){var a=this;return Object.keys(this.Tf).filter(function(b){return a.Tf[b]})},deserialize:function(a){a=f.ea.getAttribute(a,"Ff");this.set(parseInt(a,
10))},serialize:function(a){a.setAttribute("Ff",String(this.nJ()))},set:function(a,b){if(_.isArray(a))for(var f=a.length,c=0;c<f;++c)this.set(a[c]);else _.isNumber(a)?(f=this.JE(a),this.Fl|=f.uJ,this.set(f.result)):_.isString(a)&&(f=!0,_.isUndefined(b)||(f=!!b),this.Dj?_.isUndefined(this.Dj[a])?this.Fl|=this.Ag[a]||0:this.Tf[a]=f:this.Tf[a]=f)}};f.sa=function(a,b){f.Ta.call(this,b);if(!a)throw Error("Please set the field properly in the widget constructor");this._value=null;this.Ia=a;this.xj=null;
a.ZD(this,b?b.index:void 0);this.IsAdded=!1;this.dK=new Date;this.Dx="Left-justified";this.Listable=!1;this.Iw="";this.Dr={};this.Lw={Normal:"",Rollover:"",Down:""};this.Pn=!1;this.Cb=new f.Ig({mask:"Invisible Hidden NoPrint NoZoom NoRotate NoView ReadOnly Locked ToggleNoView LockedContents".split(" ")});this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"];this.set(b);var c=this;this.on("commit",_.bind(this.Us,this));this.on("change",function(a,b){c.VA();c.Ie(b);c.trigger("commit")});this.on("blur",
function(){c.fieldFlags.get("ReadOnly")||c.mb(c.Ia.value);c.refresh()});this.on("focus",function(){c.fieldFlags.get("ReadOnly")||c.Ie(c.Ia.value);c.refresh()})};f.sa.prototype={elementName:"widget",Vi:null,Uf:function(a){if(!f.Annotation.prototype.Uf.call(this,a)||!this.Vi)return!1;a=f.ea.getAttribute(a,"FT");return this.Vi===a},cg:function(){var a="";Object.keys(this.appearances).forEach(function(b){"Off"!==b&&(a=b)});return a},De:function(a){this.Ie(a)},VA:function(){this.Pn=!0},set:function(a){if(_.isObject(a)){_.isUndefined(a.value)||
(this.value=String(a.value));_.isUndefined(a.flags)||(this.Cb.set(a.flags),this.Cb.get("Hidden")&&this.me(!1),this.Cb.get("NoView")&&this.me(!1));if(!_.isUndefined(a.captions)){var b=a.captions,f=this.Lw;Object.keys(b).forEach(function(a){f[a]=b[a]})}_.isUndefined(a.page)||(this.PageNumber=a.page);_.isUndefined(a.quadding)||(this.quadding=a.quadding);_.isUndefined(a.appearances)||(this.Dr=a.appearances);_.isUndefined(a.appearance)||(this.appearance=a.appearance);_.isUndefined(a.rotation)||(this.rotation=
a.rotation);_.isUndefined(a.font)||(this.font=a.font)}},Be:function(a){var b=f.Ta.prototype.Be.apply(this,arguments);return $.extend(b,this.font.rv(a))},Nb:function(){var a=f.Ta.prototype.Nb.apply(this,arguments);return $.extend(a,{"text-align":{"Left-justified":"left",Centered:"center","Right-justified":"right"}[this.quadding]})},lh:function(){return!0},Na:function(){return this._value},mb:function(b){b=a.Annotations.N.hb.Events.ba.create("Format",this.Ia,{value:b});this.Ia.yd("F",b);this.Ie(b.value)},
me:function(a){this.Cb.set("Hidden",!a);f.Ta.prototype.me.call(this,a)},render:function(a,b,c){l=c;var d=!1;this.innerElement&&this.element||(d=!0);f.Ta.prototype.render.apply(this,arguments);d&&(this.element.attr("id",this.yK),this.refresh())},Ie:function(a){this._value=a;this.refresh()},refresh:function(){var a=this.fieldFlags.get("Multiline");this.font.lF(this._value?String(this._value):"",this,a);if(a=this.element)a.attr("id",this.Ia.name),a.css(this.Be(l))},gg:function(){return null},deserialize:function(a,
b){f.Ta.prototype.deserialize.call(this,a,b);var c=f.ea;this.Ia.dB(c.getAttribute(a,"FT"));c.getAttribute(a,"creationdate")&&(this.DateCreated=c.et(c.getAttribute(a,"creationdate")));this.border.deserialize(a);this.fieldFlags.deserialize(a);this.font.deserialize(a,b);var d=c.hp(a,"V","value");this.De(d);this.Ia.De(d);this.defaultValue=c.hp(a,"DV","defaultvalue");d=c.sA(a);c.getAttribute(a,"color")?this.color=c.getAttribute(a,"color").split(","):d.color&&(this.color=d.color);c.getAttribute(a,"BG")&&
(this.backgroundColor=c.getAttribute(a,"BG").split(","));this.rotation=c=(c=c.getAttribute(a,"rotation"))?parseInt(c,10):0;if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c;this.Sx(a,b)},serialize:function(){},kb:function(){return this.Ia},XA:function(a){this.Ia=a;this.Ie(this.Ia.value)},yf:function(a){f.Ta.prototype.yf.call(this,a);this.Ia&&this.Ia.yf(a)},WD:function(a,b){this.Ia.ai(a,b)},ai:function(a,b){-1!==["K","V","F","C"].indexOf(a)?this.WD(a,b):f.Ta.prototype.ai.call(this,
a,b)},Us:function(){this.Ia.trigger("commit",this.Na(),this)},qm:function(){var b=a.Annotations.N.hb.Events,c=this;return $.extend(f.Ta.prototype.qm.call(this),{E:{triggers:"mouseenter",internal_name:"mouseenter",getEvent:function(){return b.ba.create("Mouse Enter",c.kb())}},X:{triggers:"mouseleave",internal_name:"mouseleave",getEvent:function(){return b.ba.create("Mouse Leave",c.kb())}},D:{triggers:"mousedown",internal_name:"mousedown",getEvent:function(){return b.ba.create("Mouse Down",c.kb())}},
U:{triggers:a.utils.mouseUpEventBug?"touchend":"mouseup",internal_name:"mouseup",getEvent:function(){return b.ba.create("Mouse Up",c.kb())}},Bl:{triggers:"focusout",internal_name:"blur",getEvent:function(){var a=c.kb();return b.ba.create("Blur",a,{value:a.value})}},Fo:{triggers:"focusin",internal_name:"focus",getEvent:function(){return b.ba.create("Focus",c.kb())}}})},nG:function(){return!!this.xj},Lj:function(){f.Ta.prototype.Lj.apply(this,arguments);var b=this,c=this.innerElement;c&&(c.on("focusout",
function(){b.Pn&&(b.Pn=!1,b.trigger("commit"));b.trigger("blur")}),c.on("focusin",function(){b.trigger("focus")}),c.on("mouseenter",function(){b.trigger("mouseenter")}),c.on("mouseleave",function(){b.trigger("mouseleave")}),c.on("mousedown",function(){b.trigger("mousedown")}),c.on(b.DB?"click":a.utils.mouseUpEventBug?"touchend":"mouseup",function(){b.trigger("mouseup")}))}};f.sa.prototype=$.extend(!0,Object.create(f.Ta.prototype),f.sa.prototype);Object.defineProperties(f.sa.prototype,{fieldName:{get:function(){return this.Ia.name}},
value:{get:function(){return this.Na()},set:function(a){this.mb(a)}},defaultValue:{get:function(){return this.Ia.defaultValue},set:function(a){this.Ia.defaultValue=a}},fieldFlags:{get:function(){return this.Ia.flags}},flags:{get:function(){return this.Cb}},font:{get:function(){return this.xj||this.Ia.font},set:function(b){this.xj=new a.Annotations.Df(b)}},fieldActions:{get:function(){return this.Ia.actions}},appearance:{get:function(){return this.Iw},set:function(a){this.Dr[a]?this.Iw=a:console.log("Unknown appearance: "+
a)}},quadding:{get:function(){return this.Dx},set:function(a){this.Dx=a}},appearances:{get:function(){return this.Dr}},captions:{get:function(){return this.Lw}}});f.Sc=function(a){f.Ta.call(this,a);this.Listable=!1};f.Sc.prototype=Object.create(f.Ta.prototype);f.Sc.prototype.elementName="link";f.Sc.prototype.$f=function(){return $('<span class="link" tabindex="0" />')};f.Sc.prototype.Lj=function(){f.Ta.prototype.Lj.apply(this,arguments);var a=this;this.innerElement.on("tap",function(){a.trigger("mouseup")})};
f.Sc.prototype.Tz=function(){return!0};f.Sc.prototype.qm=function(){var b=a.Annotations.N.hb.Events;return $.extend(f.Ta.prototype.qm.call(this),{U:{triggers:"tap",internal_name:"mouseup",getEvent:function(){return b.Sc.create("Mouse Up")}}})};f.Sc.prototype.deserialize=function(a,b,c){f.Ta.prototype.deserialize.call(this,a,b,c);(c=f.ea.getAttribute(a,"color"))&&(this.color=c);this.Sx(a,b)};f.Sc.prototype.serialize=function(a,b){f.Ta.prototype.serialize.call(this,a,b);a.setAttribute("color",this.color.toHexString());
this.cI(a,b)};f.Kh=function(a,b){f.sa.call(this,a,b);this.fieldFlags.Yl(["Multiline","DoNotScroll","Password"]);this.Pn=!1;this.Of=this.Ia.maxLen};f.Kh.prototype={Vi:"Tx",Sj:"text",refresh:function(){f.sa.prototype.refresh.call(this);var a=this.innerElement;a&&(this.fieldFlags.get("ReadOnly")?a.text(this.value):this.innerElement.val(this.value))},Be:function(){var a=f.sa.prototype.Be.apply(this,arguments);return $.extend(a,{})},Nb:function(){var a=f.sa.prototype.Nb.apply(this,arguments);return $.extend(a,
{"word-wrap":"break-word",resize:"none","background-color":"transparent","overflow-y":this.fieldFlags.get("Multiline")?"auto":"hidden","overflow-x":"hidden"})},gg:function(){var a=this.innerElement;if(a)return this.fieldFlags.get("ReadOnly")?a.text():a.val()},$f:function(){var b=this,f=this.fieldFlags,c=f.get("Multiline"),g=f.get("ReadOnly"),h=f.get("DoNotScroll"),l;g?l=$('<div class="text" />'):(l=c?$("<textarea />"):$('<input type="text" />'),-1!==this.Of&&l.attr("maxlength",this.Of));e(l,function(f){var e=
a.Annotations.N.hb.Events,g=e.ba.create("Keystroke",b.kb(),{value:f.ju?"":b.Na()||"",change:f.change,selStart:f.ju?0:f.selectionStart,selEnd:f.ju?0:f.selectionEnd,willCommit:!1});b.Ia.yd("K",g);g.rc?(e=e.Yj(g),g=!0,h&&!c&&(g=d(e||"",l.css("font-size"),l.css("font-family")).width<l.width()),g?(b._value=e,b.VA()):f.preventDefault()):f.preventDefault()},!c);return l}};f.Kh.prototype=$.extend(Object.create(f.sa.prototype),f.Kh.prototype);f.zg=function(b,c){var d=this;d.on("change",function(b,f){var c=
a.Annotations.N.hb.Events.ba.create("Keystroke",d.Ia,{value:f,change:"",willCommit:!1,selStart:-1,selEnd:-1});d.Ia.yd("K",c)});f.sa.call(this,b,c)};f.zg.prototype={Vi:"Ch",Uf:function(a){if(f.sa.prototype.Uf.call(this,a)){var b=new f.Ig({mask:["Combo"]});b.deserialize(a);if(b.get("Combo"))return!0}return!1},deserialize:function(a,b,c){f.sa.prototype.deserialize.call(this,a,b,c);b=f.ea;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Ia.options=a.split(",").map(function(a){return{value:a,displayValue:a}}),
this.kb().De(this.Na()),this.De(this.kb().Na()))},Be:function(){return $.extend(f.sa.prototype.Be.apply(this,arguments),{"overflow-y":"visible","overflow-x":"hide","z-index":"36"})},Nb:function(a){return $.extend(f.sa.prototype.Nb.apply(this,arguments),{resize:"none","min-height":"",height:this.yp(a)})},refresh:function(){f.sa.prototype.refresh.apply(this,arguments);var a=this.innerElement,b=this.Na();a&&a.val(b)},gg:function(){var a=this.innerElement;if(a)return a.val()},$f:function(){var a,b;this.fieldFlags.get("Edit")?
(b='<input list="'+this.fieldName+'_list" /><datalist id="'+this.fieldName+'_list">',this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"}),b+="</datalist>",a=$(b)):(a=$("<select />"),b="",this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"}),a.append(b));var f=this;a.on("change",function(){f.trigger("change",[f.gg()])});return a}};f.zg.prototype=
$.extend(Object.create(f.sa.prototype),f.zg.prototype);Object.defineProperties(f.zg.prototype,{options:{get:function(){return this.Ia.options}}});f.Cg=function(a,b){f.sa.call(this,a,b)};f.Cg.prototype={Vi:"Ch",refresh:function(){f.sa.prototype.refresh.apply(this,arguments);var a=this.innerElement;a&&a.val(this.Na())},Uf:function(a){if(f.sa.prototype.Uf.call(this,a)){var b=new f.Ig({mask:"Combo"});b.deserialize(a);if(!b.get("Combo"))return!0}return!1},deserialize:function(a,b,c){f.sa.prototype.deserialize.call(this,
a,b,c);b=f.ea;b.getAttribute(a,"Opt")&&(a=b.getAttribute(a,"Opt"),this.Ia.options=a.split(",").map(function(a){return{value:a,displayValue:a}}),this.kb().De(this.Na()),this.De(this.kb().Na()))},Be:function(){return $.extend(f.sa.prototype.Be.apply(this,arguments),{"overflow-y":"auto","overflow-x":"hidden"})},gg:function(){var a=this.innerElement;return a?a.val():null},Nb:function(){return $.extend(f.sa.prototype.Nb.apply(this,arguments),{"overflow-y":"scroll","overflow-x":"hidden"})},$f:function(){var a=
$('<select name="'+this.fieldName.replace(/\.|\s/g,"_")+'" size="'+this.options.length+'" />'),b="";this.options.forEach(function(a){b+='<option value="'+a.value+'">'+(_.isUndefined(a.displayValue)?a.value:a.displayValue)+"</option>"});a.append(b);var f=this;a.on("change",function(){f.trigger("change",[f.gg()])});return a}};f.Cg.prototype=$.extend(Object.create(f.sa.prototype),f.Cg.prototype);Object.defineProperties(f.Cg.prototype,{options:{get:function(){return this.Ia.options}}});f.Kb=function(a,
b){f.sa.call(this,a,b)};f.Kb.prototype={Vi:"Btn",Jo:null,Uf:function(a){if(f.sa.prototype.Uf.call(this,a)){var b=new f.Ig({mask:["PushButton","Radio"]}),c="C";b.deserialize(a);b.get("PushButton")?c="P":b.get("Radio")&&(c="R");return c===this.Jo}return!1}};f.Kb.prototype=$.extend(Object.create(f.sa.prototype),f.Kb.prototype);f.Dh=function(a,b){f.Kb.call(this,a,b)};f.Dh.prototype={Jo:"P",Sj:"pButton",Nb:function(){return $.extend(f.Kb.prototype.Nb.apply(this,arguments),{"background-color":"transparent"})},
deserialize:function(a,b,c){var d=f.ea;f.Kb.prototype.deserialize.call(this,a,b,c);(a=d.getAttribute(a,"ButtonLabel"))&&(this.captions.Normal=a)},gg:function(){return null},$f:function(){var a=$('<button tabindex="0" />');a.append(this.captions.Normal);return a}};f.Dh.prototype=$.extend(!0,Object.create(f.Kb.prototype),f.Dh.prototype);f.yg=function(a,b){f.Kb.call(this,a,b);this.kB(!1);var c=this;this.DB=!0;this.on("click",function(){"Off"===this.Na()?c.trigger("change",c.cg()):c.trigger("change",
"Off")})};f.yg.prototype={Jo:"C",Sj:"checkBox",refresh:function(){f.sa.prototype.refresh.call(this);var a=this.innerElement;a&&(a.prop("checked",this.Na()===this.cg()),a.css(this.Nb(l)))},Ie:function(a){a===this.cg()?(this.appearance=a,f.Kb.prototype.Ie.call(this,a)):(this.appearance="Off",f.Kb.prototype.Ie.call(this,"Off"))},Nb:function(){var a=f.Kb.prototype.Nb.apply(this,arguments);a.left=Math.round(a.left);a.top=Math.round(a.top);return $.extend(a,{border:"none","-moz-appearance":"none",margin:0})},
gg:function(){var a=this.innerElement;if(a)return a.prop("checked")?this.cg():"Off"},$f:function(){var a=$('<input type="checkbox" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&a.prop("disabled",!0);var b=this;a.on("click",function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=f.ea.getAttribute(a,"N");d&&(this.appearances.Off={},this.appearances[d]={});f.Kb.prototype.deserialize.call(this,a,b,c)}};f.yg.prototype=$.extend(!0,Object.create(f.Kb.prototype),f.yg.prototype);Object.defineProperties(f.yg.prototype,
{buttonName:{set:function(a){this.kD=a},get:function(){return this.kD}}});f.Eh=function(a,b){f.Kb.call(this,a,b);this.kB(!1);var c=this;this.DB=!0;this.on("click",function(){"Off"===this.Na()?c.trigger("change",c.cg()):c.trigger("change","Off")})};f.Eh.prototype={Jo:"R",Sj:"radioButton",gg:function(){return this.cg()},refresh:function(){var a=this.innerElement;a&&(a.prop("checked",this.Ia.Na()===this.gg()),a.css(this.Nb(l)))},Nb:function(){var a=f.Kb.prototype.Nb.apply(this,arguments);a.left=Math.round(a.left);
a.top=Math.round(a.top);return $.extend(a,{border:"none","-moz-appearance":"none",margin:0})},Ie:function(a){"Off"!==a&&-1!==Object.keys(this.appearances).indexOf(a)?(this.appearance=a,f.Kb.prototype.Ie.call(this,a)):(this.appearance="Off",f.Kb.prototype.Ie.call(this,"Off"))},$f:function(){var a=$('<input type="radio" tabindex="0" />');this.fieldFlags.get("ReadOnly")&&a.prop("disabled",!0);var b=this;a.on("click",function(){b.trigger("click")});return a},deserialize:function(a,b,c){var d=f.ea.getAttribute(a,
"N");d&&(this.appearances.Off={},this.appearances[d]={});f.Kb.prototype.deserialize.call(this,a,b,c)}};f.Eh.prototype=$.extend(!0,Object.create(f.Kb.prototype),f.Eh.prototype);f.Gh=function(a,b){f.sa.call(this,a,b)};f.Gh.prototype={Vi:"Sig",Sj:"signature",deserialize:function(a,b,c){f.sa.prototype.deserialize.call(this,a,b,c);if(a=a.querySelector("imagedata"))this.appearances._DEFAULT={Normal:a.textContent},this.appearance="_DEFAULT"},Nb:function(){var b=f.sa.prototype.Nb.apply(this,arguments),c=
b.width,d=b.height,e=this.rotation;if(90===e||270===e)var g=c,c=d,d=g;var h=a.utils.getRotationOffsets((360-e)%360,c,d),g=h.dx,h=h.dy;return $.extend(b,{transform:"translate("+g+"px,"+h+"px) rotate("+e+"deg)","transform-origin":"top left","-webkit-transform":"translate("+g+"px,"+h+"px) rotate("+e+"deg)","-webkit-transform-origin":"top left","-ms-transform":"translate("+g+"px,"+h+"px) rotate("+e+"deg)","-ms-transform-origin":"top left","-moz-transform":"translate("+g+"px,"+h+"px) rotate("+e+"deg)",
"-moz-transform-origin":"top left",width:c,height:d})},$f:function(){var a=new Image,b=this.appearances[this.appearance];b&&(a.src=b.Normal||"");return $(a)}};f.Gh.prototype=$.extend(Object.create(f.sa.prototype),f.Gh.prototype);f.Fg=function(){f.Annotation.call(this);this._isOpen=!1};f.Fg.prototype={isOpen:function(){return this._isOpen},Gk:function(a){this._isOpen=a},deserialize:function(a,b){f.Annotation.prototype.deserialize.apply(this,arguments);var c=a.getAttribute("open");this.Gk(c&&"yes"===
c)}};f.Fg.prototype=$.extend(new f.Annotation,f.Fg.prototype);f.ma=function(){f.Annotation.call(this);this.Vc=new f.Color(0,0,0,0);this.Mh=new f.Color(0,0,0);this._opacity=this.Nh=1;this.Uw=new Date;this.Dl=null};f.ma.prototype={Cc:function(a){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===this.StrokeThickness?.001:this.Ct()},pf:function(){return this.Dl},
fv:function(a){this.Dl=a},Ct:function(){return this.StrokeThickness},serialize:function(a,b){var c=f.Annotation.prototype.serialize.apply(this,arguments),d=f.ea,e={},g=d.Pi(this.StrokeColor);null!==g&&(e.color=g);d=d.Pi(this.FillColor);null!==d&&(e["interior-color"]=d);_.isUndefined(this.StrokeThickness)||_.isNull(this.StrokeThickness)||(e.width=f.If.Kj(b,this.StrokeThickness));_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||(e.opacity=this.Opacity);this.fringe&&(e.fringe=f.ea.Vu(this.fringe,
b));this.DateCreated&&(e.creationdate=f.ea.sv(this.DateCreated));$(c).attr(e);this.Dl&&(e=this.Dl.isOpen()?"yes":"no",d=$(document.createElementNS("","popup")),g=this.Dl.ee(),g.Ry(),d.attr({flags:"print,nozoom,norotate",page:this.Va(),rect:f.ea.wq(g,b)}).appendTo($(c)),d[0].setAttribute("open",e));return c},deserialize:function(a,b){f.Annotation.prototype.deserialize.apply(this,arguments);var c=$(a),d=f.ea,e=c.attr("opacity");"undefined"!==typeof e&&(this.Opacity=parseFloat(e));e=c.attr("width");
"undefined"!==typeof e&&(this.Nh=f.If.Kj(b,parseFloat(e)));e=c.attr("fringe");"undefined"!==typeof e&&(this.fringe=d.Ey(e,b));e=d.ii(c.attr("color"));null!==e&&(this.StrokeColor=e);e=d.ii(c.attr("interior-color"));this.FillColor=null!==e?e:new f.Color(0,0,0,0);(e=c.attr("creationdate"))&&(this.DateCreated=d.et(e));c=c.find("popup");d=this.pf()||new f.Fg;0<c.length?d.deserialize(c[0],b):(d.PageNumber=this.PageNumber,d.tg(new f.Rect(0,0,150,100)));this.fv(d)},selectionModel:f.va,jh:!0};f.ma.prototype=
$.extend(!0,new f.Annotation,f.ma.prototype);Object.defineProperties(f.ma.prototype,{FillColor:{get:function(){return this.Vc},set:function(a){a instanceof f.Color&&(this.Vc=a,this.Ib())}},StrokeColor:{get:function(){return this.Mh},set:function(a){a instanceof f.Color&&(this.Mh=a,this.Ib())}},StrokeThickness:{get:function(){return this.Nh},set:function(a){this.Nh=parseFloat(a);this.Ib();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=parseFloat(a);
this.Ib()}},DateCreated:{get:function(){return this.Uw},set:function(a){this.Uw=a instanceof Date?a:new Date(a)}}});f.pd=function(){f.ma.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.Fj=this.Qn=this.End=this.Start=this.Vc=null};f.pd.prototype={elementName:"line",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,f=a-this.Y;if(0!==c||0!==f)this.Start.x+=c,this.Start.y+=f,this.End.x+=c,this.End.y+=f,this.X=b,this.Y=a},adjustRect:function(){if(!_.isNull(this.Start)||
!_.isNull(this.End)){var a=this.getRectPadding();this.X=Math.min(this.Start.x,this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},cB:function(a,b){this.Start=new f.Point(a,b)},eG:function(){return this.Start},setEndPoint:function(a,b){this.End=new f.Point(a,b)},zF:function(){return this.End},Si:function(a){this.Fj=a},pm:function(){return this.Fj||
"None"},WA:function(a){this.Qn=a},nz:function(){return this.Qn||"None"},draw:function(a){this.Cc(a);if(this.Start&&this.End){a.beginPath();a.moveTo(this.Start.x,this.Start.y);a.lineTo(this.End.x,this.End.y);var b=!1;_.isNull(this.Fj)||"None"===this.Fj||(f.If.it(a,this.Start,this.End,this.StrokeThickness),b=!0);_.isNull(this.Qn)||"None"===this.Qn||(f.If.it(a,this.End,this.Start,this.StrokeThickness),b=!0);b||a.stroke()}else a.beginPath(),a.moveTo(0,0),a.lineTo(this.xa(),this.ua()),a.stroke()},serialize:function(a,
b){a=f.ma.prototype.serialize.apply(this,arguments);var c=new f.Point(this.Start.x,this.Start.y),d=new f.Point(this.End.x,this.End.y),e=f.ea;$(a).attr({start:e.vq(c,b),end:e.vq(d,b),head:this.pm(),tail:this.nz()});return a},deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,arguments);var c=f.ea,d=$(a),e=c.Fy(d.attr("start"),b);null!==e&&this.cB(e.x,e.y);c=c.Fy(d.attr("end"),b);null!==c&&this.setEndPoint(c.x,c.y);this.Si(d.attr("head")||"None");this.WA(d.attr("tail")||"None");this.adjustRect();
this.Vc=null},selectionModel:f.dl};f.pd.prototype=$.extend(new f.ma,f.pd.prototype);f.kj=function(){f.ma.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var a=this.getRectPadding();this.fringe=new f.Rect(a,a,a,a)};f.kj.prototype={elementName:"square",draw:function(a){this.Cc(a);a.lineWidth*=2;a.beginPath();var b=this.ee();b.x1+=this.fringe.x1;b.y1+=this.fringe.y1;b.x2-=this.fringe.x2;b.y2-=this.fringe.y2;a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y1);a.lineTo(b.x2,
b.y2);a.lineTo(b.x1,b.y2);a.closePath();a.clip();a.fill();a.stroke()},getRectPadding:function(){return 0}};f.kj.prototype=$.extend(new f.ma,f.kj.prototype);f.Vk=function(){f.ma.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.StrokeThickness=0;this.Vc=null};f.Vk.prototype={elementName:"caret",draw:function(b){this.Cc(b);var c=this.Width,d=this.Height,e=Number(this.Rotation);if(90===e||270===e)e=c,c=d,d=e;b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/
180);e=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-e.dx,-e.dy);b.translate(-this.X,-this.Y);b.beginPath();b.fillStyle=this.StrokeColor.toString();c=new f.Rect(this.X,this.Y,this.X+c,this.Y+d);e=(c.x1+c.x2)/2;d=c.y1+3*d/4;b.moveTo(e,c.y1);b.quadraticCurveTo(e,d,c.x1,c.y2);b.lineTo(c.x2,c.y2);b.quadraticCurveTo(e,d,e,c.y1);b.closePath();b.fill();b.stroke()},selectionModel:f.va,deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,arguments);var c=
Number(this.Rotation);if(90===c||270===c)c=this.Width,this.Width=this.Height,this.Height=c},serialize:function(a,b){var c=Number(this.Rotation),d;if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=d;f.ma.prototype.serialize.apply(this,arguments);if(90===c||270===c)d=this.Width,this.Width=this.Height,this.Height=d}};f.Vk.prototype=$.extend(new f.ma,f.Vk.prototype);f.$i=function(){f.ma.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var a=this.getRectPadding();
this.fringe=new f.Rect(a,a,a,a)};f.$i.prototype={elementName:"circle",draw:function(a){this.Cc(a);var b=this.X+this.fringe.x1,c=this.Y+this.fringe.y1,f=this.xa()-this.fringe.x1-this.fringe.x2,d=this.ua()-this.fringe.y1-this.fringe.y2,e=Math.min(f,d);a.lineWidth>=e&&(a.lineWidth=e-1);e=(f-a.lineWidth)/(d-a.lineWidth);isNaN(e)||Infinity===e||(a.save(),a.translate(b+(1-e)*f/2,c),a.scale(e,1),a.beginPath(),a.arc(.5*f,.5*d,Math.max(.5*d-a.lineWidth/2,0),0,2*Math.PI,!1),a.restore(),a.fill(),a.stroke())},
getRectPadding:function(){return 0},selectionModel:f.va};f.$i.prototype=$.extend(new f.ma,f.$i.prototype);f.mj=function(){f.ma.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");this.Icon="Draft";this.Mh=this.Vc=null;this.ME="bold italic "+this.rB+"px Verdana"};f.mj.prototype={elementName:"stamp",padding:20,rB:30,Ys:10,draw:function(b){this.Cc(b);b.translate(this.X,this.Y);b.rotate(-this.Rotation*Math.PI/180);var c=a.utils.getRotationOffsets((360-this.Rotation)%360,
this.Width,this.Height);b.translate(-c.dx,-c.dy);if(this.image){var c=this.Width,f=this.Height;if(this.Rotation&&(90===Number(this.Rotation)||270===Number(this.Rotation)))var d=c,c=f,f=d;b.drawImage(this.image,0,0,c,f)}else if("SHAccepted"===this.Icon)b.lineWidth=.2*Math.min(this.Width,this.Height),b.strokeStyle="#426922",b.beginPath(),b.moveTo(.05*this.Width,.5*this.Height),b.lineTo(.4*this.Width,.85*this.Height),b.lineTo(.95*this.Width,.05*this.Height),b.stroke();else if("SBRejected"===this.Icon)b.lineWidth=
.2*Math.min(this.Width,this.Height),b.strokeStyle="#8F110F",b.beginPath(),b.moveTo(.05*this.Width,.05*this.Height),b.lineTo(.95*this.Width,.95*this.Height),b.moveTo(.95*this.Width,.05*this.Height),b.lineTo(.05*this.Width,.95*this.Height),b.stroke();else{c=this.vF();b.fillStyle=c.fill;b.strokeStyle=c.Rp;b.lineWidth=1;f=this.Ys;if(this.xa()<=2*this.Ys||this.ua()<=2*this.Ys)f=Math.min(this.xa()/2,this.ua()/2);this.$E(b,0,0,this.xa(),this.ua(),f);b.font=this.ME;b.fillStyle=c.Rp;c=this.nB.toUpperCase();
f=b.measureText(c).width+2*this.padding;b.save();f=this.xa()/f;d=this.ua()/(1.5*this.rB);b.scale(f,d);b.textBaseline="middle";b.textAlign="center";b.fillText(c,this.xa()/(2*f),this.ua()/(2*d));b.restore()}},iG:function(){var a=this.Icon;if(this.cc[a])return this.cc[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var b=this.cc[a.substring(2)];if(b)return b}return a},vF:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),b={Rp:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+
.7*a+")"},c={Rp:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+.7*a+")"},a={Rp:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+.7*a+")"};switch(this.nB){case this.cc.Approved:case this.cc.Completed:case this.cc.Final:return c;case this.cc.Asis:case this.cc.Confidential:case this.cc.Departmental:case this.cc.Draft:case this.cc.Experimental:case this.cc.ForComment:case this.cc.ForPublicRelease:case this.cc.NotForPublicRelease:case this.cc.Sold:case this.cc.TopSecret:return a;case this.cc.Expired:case this.cc.NotApproved:case this.cc.Void:return b;
default:return a}},cc:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",TopSecret:"Top Secret",Void:"Void"},$E:function(a,b,c,f,d,e){a.beginPath();
a.moveTo(b+e,c);a.lineTo(b+f-e,c);a.quadraticCurveTo(b+f,c,b+f,c+e);a.lineTo(b+f,c+d-e);a.quadraticCurveTo(b+f,c+d,b+f-e,c+d);a.lineTo(b+e,c+d);a.quadraticCurveTo(b,c+d,b,c+d-e);a.lineTo(b,c+e);a.quadraticCurveTo(b,c,b+e,c);a.closePath();a.fill();a.stroke()},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments),d=$(c);d.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(d);return c},deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,
arguments);var c=$(a),d=c.attr("icon");d?this.Icon=d:this.Subject&&(this.Icon=this.Subject);c=c.find("imagedata");0<c.length&&(this.ImageData=c.text())}};f.mj.prototype=$.extend(new f.ma,f.mj.prototype,a.utils.eventHandler);Object.defineProperties(f.mj.prototype,{Icon:{get:function(){return this.gD},set:function(a){this.gD=a;this.nB=this.iG();this.Ib()}},ImageData:{get:function(){return this.image.src},set:function(a){this.image||(this.image=new Image);this.es=!1;this.image.src=a;var b=this;this.image.onload=
function(){b.es=!0;b.trigger("resourcesLoaded")};this.Ib()}},FillColor:{get:function(){return this.Vc},set:function(){}},StrokeColor:{get:function(){return this.Mh},set:function(){}}});f.Rc=function(){f.ma.call(this);this.ca=[];this.Ma={x:0,y:0};this.ib={x:0,y:0}};f.Rc.prototype={Eb:function(a,b){var c=this.getRectPadding();this.ca.push(new f.Point(a,b));1===this.ca.length?(this.Ma={x:a,y:b},this.ib={x:a,y:b},this.X=a-c,this.Y=b-c):(a>this.ib.x&&(this.Width=a-this.Ma.x+2*c,this.ib.x=a),b>this.ib.y&&
(this.Height=b-this.Ma.y+2*c,this.ib.y=b),a<this.Ma.x&&(this.Width=this.ib.x-a+2*c,this.X=a-c,this.Ma.x=a),b<this.Ma.y&&(this.Height=this.ib.y-b+2*c,this.Y=b-c,this.Ma.y=b))},le:function(a,b,c){this.ca&&this.ca.length>a?(this.ca[a].x=b,this.ca[a].y=c,this.adjustRect()):this.ca&&this.ca.length===a&&this.Eb(b,c)},fg:function(a){return this.ca&&this.ca.length>a?this.ca[a]:null},sk:function(){var a=this.ca.pop();this.adjustRect();return a},getPath:function(){return this.ca},setPath:function(a){this.ca=
a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.ca.length){this.Ma={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.ca.length;a++)if(null!==this.ca[a]){var b=this.ca[a].x,c=this.ca[a].y;b>this.ib.x&&(this.ib.x=b);c>this.ib.y&&(this.ib.y=c);b<this.Ma.x&&(this.Ma.x=b);c<this.Ma.y&&(this.Ma.y=c)}a=this.getRectPadding();this.X=this.Ma.x-a;this.Y=this.Ma.y-a;this.Width=Math.max(0,this.ib.x-
this.Ma.x)+2*a;this.Height=Math.max(0,this.ib.y-this.Ma.y)+2*a}},selectionModel:f.hj};f.Rc.prototype=$.extend(new f.ma,f.Rc.prototype);f.FreeHandAnnotation=function(){f.ma.call(this);this.za=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Ma={x:0,y:0};this.ib={x:0,y:0};this.bo=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.Vc=null};f.FreeHandAnnotation.prototype={elementName:"ink",shouldSimplifyPath:!0,Eb:function(a,
b,c){"undefined"===typeof c&&(c=0);if(c===this.za.length)this.za.push([]);else if(c>this.za.length){console.warn("FreeHandAnnotation addPathPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,b);this.BottomMost=Math.max(this.BottomMost,b);var d=this.getRectPadding();this.zr=this.LeftMost-d;this.Ar=this.TopMost-d;this.yr=this.RightMost-this.LeftMost+2*d;this.vr=this.BottomMost-this.TopMost+2*d;
this.za[c].push(new f.Point(a,b))},le:function(a,b,c,f){"undefined"===typeof f&&(f=0);var d;this.za.length>f?(d=this.za[f],d.length>a?(d[a].x=b,d[a].y=c,this.adjustRect()):d.length===a&&this.Eb(b,c,f)):this.za.length===f?this.Eb(b,c,f):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},fg:function(a,b){"undefined"===typeof b&&(b=0);return this.za&&this.za.length>b&&this.za[b].length>a?this.za[b][a]:null},sk:function(a){"undefined"===typeof a&&(a=0);var b=null;this.za.length>
a&&(b=this.za[a].pop(),this.adjustRect());return b},getPath:function(a){"undefined"===typeof a&&(a=0);return this.za.length>a?this.za[a]:null},setPath:function(a,b){"undefined"===typeof b&&(b=0);this.za.length<b?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.za.length>b?this.za[b]=a:this.za.length===b&&this.za.push(a);this.adjustRect()},bF:function(){this.za=[]},finish:function(){this.bo||(this.Ib(),this.bo=!0)},resize:function(a){var b=a.x1,c=a.y1,f=a.xa(),d=a.ua();a=c-
this.Y;if(!(0===b-this.X&&0===a&&f===this.Width&&d===this.Height||1>f||1>d)){var e=a=1;"undefined"!==typeof f&&"undefined"!==typeof d&&(a=d/this.Height,e=f/this.Width,this.Width=f,this.Height=d);for(f=0;f<this.za.length;f++)for(d=0;d<this.za[f].length;d++)this.za[f][d].x=(this.za[f][d].x-this.X)*e+b,this.za[f][d].y=(this.za[f][d].y-this.Y)*a+c;this.X=b;this.Y=c}},draw:function(a){this.Cc(a);a.beginPath();for(var b=this.si(),c=0;c<b.length;c++)this.ZE(a,b[c]);a.lineCap="round";a.lineJoin="round";a.stroke()},
si:function(){return this.za},aJ:function(a,b){if(this.shouldSimplifyPath)for(var c=0;c<this.za.length;c++){var f=window.simplify(this.getPath(c),a,b);this.setPath(f,c)}},ZE:function(a,b){var c="undefined"===typeof b?0:b.length;if(3<=c){a.moveTo(b[0].x,b[0].y);for(c=1;c<b.length-2;c++)a.quadraticCurveTo(b[c].x,b[c].y,(b[c].x+b[c+1].x)/2,(b[c].y+b[c+1].y)/2);c+1<b.length&&a.quadraticCurveTo(b[c].x,b[c].y,b[c+1].x,b[c+1].y)}else 2===c&&(a.moveTo(b[0].x,b[0].y),a.lineTo(b[1].x,b[1].y))},rotate:function(b,
c){this.za.forEach(function(f){for(var d=0;d<f.length;++d)f[d]=a.Fa.Math.sh(f[d],b,c)});this.adjustRect()},adjustRect:function(){if(0!==this.za.length){this.Ma={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.ib={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,b;for(a=0;a<this.za.length;a++)for(b=0;b<this.za[a].length;b++)if(null!==this.za[a][b]){var c=this.za[a][b].x,f=this.za[a][b].y;c>this.ib.x&&(this.ib.x=c);f>this.ib.y&&(this.ib.y=f);c<this.Ma.x&&(this.Ma.x=c);f<this.Ma.y&&(this.Ma.y=f)}a=this.getRectPadding();
this.X=this.Ma.x-a;this.Y=this.Ma.y-a;this.Width=Math.max(0,this.ib.x-this.Ma.x)+2*a;this.Height=Math.max(0,this.ib.y-this.Ma.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},serialize:function(a,b){for(var c=f.ma.prototype.serialize.apply(this,arguments),d=$(document.createElementNS("","inklist")),e=this.si(),g=0;g<e.length;g++)if(!(1>e[g].length)){var h=f.ea.Ek(e[g],b);$(document.createElementNS("","gesture")).text(h).appendTo(d)}$(c).append(d);return c},deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,
arguments);var c=this;c.za=[];$(a).find("inklist gesture").each(function(){var a=$(this).text(),a=f.ea.ji(a,b),a=this.shouldSimplifyPath?window.simplify(a,.5):a;c.za.push(a)});this.adjustRect();this.Vc=null},selectionModel:f.va};f.FreeHandAnnotation.prototype=$.extend(new f.ma,f.FreeHandAnnotation.prototype);f.Eg=function(){f.ma.call(this);this.ca=[];this.bo=!1;this.$d="solid";this.ao=2;this["_xsi:type"]="Polygon";this.Subject=i18n.t("annotations.types.polygon");this.Ma={x:0,y:0};this.ib={x:0,y:0}};
f.Eg.prototype={elementName:"polygon",resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,f=a-this.Y;if(0!==c||0!==f){for(var d=0;d<this.ca.length;d++)this.ca[d].x+=c,this.ca[d].y+=f;this.X=b;this.Y=a}},finish:function(){a.Fa.Math.Iu(this.ca)&&(this.ca[this.ca.length]={x:this.ca[0].x,y:this.ca[0].y});this.adjustRect()},draw:function(a){this.Cc(a);if("cloudy"===this.Style&&"PolygonCloud"===this.Intent)this.YE(a);else for(var b=0;b<this.ca.length;b++){var c=this.ca[b];0===b?(a.beginPath(),a.moveTo(c.x,
c.y)):a.lineTo(c.x,c.y)}1<this.ca.length&&(a.closePath(),a.lineJoin="round",a.fill(),a.stroke())},YE:function(b){b.beginPath();var c=a.Fa.Math.AE(this.ca);a.Fa.Math.Iu(this.ca)&&(c[c.length]={x:c[0].x,y:c[0].y});if(!(2>=c.length)){var f=this.ao;0===f&&(f=2);for(var d=1/8092,e=a.Fa.Math.WF(c),g=1!==Math.round(e),h=0,l=6.5*f,m=c[0],n=l,A=l,D={x:c[1].x-c[0].x,y:c[1].y-c[0].y},K={x:c[0].x-c[c.length-2].x,y:c[0].y-c[c.length-2].y},f=!0,y=!1,G=0,H,I=0;I<c.length-1;++I){var B=c[I],L=c[I+1],L={x:L.x-B.x,
y:L.y-B.y},J=Math.sqrt(L.x*L.x+L.y*L.y);if(!(J<=d)){var M={x:L.x/J,y:L.y/J},P=Math.max(Math.floor(J/l),1),J=J/P,h=a.Fa.Math.qF(M.x,M.y);if(0===I&&3>=c.length){var F=Math.sqrt(D.x*D.x+D.y*D.y);if(F<l){b.arc(c[0].x,c[0].y,F,0,2*Math.PI);return}if(F<2*J){g=F/2;b.arc(c[0].x,c[0].y,g,0,2*Math.PI);b.moveTo(c[1].x+g,c[1].y);b.arc(c[1].x,c[1].y,g,0,2*Math.PI);b.moveTo(c[0].x+g,c[0].y);return}b.arc(c[0].x,c[0].y,J/2,0,2*Math.PI);b.moveTo(c[1].x+J/2,c[1].y);b.arc(c[1].x,c[1].y,J/2,0,2*Math.PI);b.moveTo(c[0].x+
J/2,c[0].y)}0===I&&(G=J,H={x:M.x,y:M.y});B.x-=M.x*J*.5;B.y-=M.y*J*.5;K=a.Fa.Math.HE(K,L);F=0;y||(++F,A=J,f=0>K*e,B.x+=M.x*J,B.y+=M.y*J,m=B,b.moveTo(m.x,m.y),this.Eq=m.x,this.Fq=m.y,y=!0);for(n=.25*(n+J);F<P;++F)1===F&&(n=.5*J),B.x+=M.x*J,B.y+=M.y*J,this.arcTo(b,n,n,h,0===F&&0>K*e,g,B.x,B.y);K=L;n=J}}y||(b.moveTo(m.x,m.y),this.Eq=m.x,this.Fq=m.y);d=.25*(A+n);this.arcTo(b,d,d,h,f,g,c[c.length-1].x+.5*G*H.x,c[c.length-1].y+.5*G*H.y)}},arcTo:function(b,c,f,d,e,g,h,l){var m=[],n=[];a.Fa.Math.gE(this.Eq,
this.Fq,m,n,c,f,d,e,g,h,l);for(f=c=0;f<n.length;++f)"c"===n[f]?(b.bezierCurveTo(m[c],m[c+1],m[c+2],m[c+3],m[c+4],m[c+5]),this.Eq=m[c+4],this.Fq=m[c+5],c+=6):(b.lineTo(m[c],m[c+1]),this.Eq=m[c],this.Fq=m[c+1],c+=2)},Fk:function(a){this.Intent=a},pi:function(){return this.Intent},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments);"cloudy"===this.Style&&"PolygonCloud"===this.Intent&&(c.setAttribute("intensity",this.Intensity),c.setAttribute("style",this.Style),c.setAttribute("IT",
this.Intent));var d=this.getPath();d&&0<d.length&&$(document.createElementNS("","vertices")).text(f.ea.Ek(d,b)).appendTo($(c));return c},deserialize:function(b,c){f.ma.prototype.deserialize.apply(this,arguments);var d=$(b),e=d.find("vertices");0<e.length&&(e=e.text(),this.ca=f.ea.ji(e,c));a.Fa.Math.Iu(this.ca)&&(this.ca[this.ca.length]={x:this.ca[0].x,y:this.ca[0].y});this.$d=d.attr("style");this.ao=d.attr("intensity");this.ox=d.attr("IT");this.adjustRect()},selectionModel:f.kr};f.Eg.prototype=$.extend(new f.Rc,
f.Eg.prototype);Object.defineProperties(f.Eg.prototype,{Intensity:{get:function(){return this.ao},set:function(a){this.ao=a;this.Ib()}},Style:{get:function(){return this.$d},set:function(a){this.$d=a;this.Ib()}},Intent:{get:function(){return this.ox},set:function(a){this.ox=a;this.Ib()}}});f.jj=function(){f.ma.call(this);this.ca=[];this.bo=!1;this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.Ma={x:0,y:0};this.ib={x:0,y:0};this.Vc=null};f.jj.prototype={elementName:"polyline",
resize:function(a){var b=a.x1;a=a.y1;var c=b-this.X,f=a-this.Y;if(0!==c||0!==f){for(var d=0;d<this.ca.length;d++)this.ca[d].x+=c,this.ca[d].y+=f;this.X=b;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a){this.Cc(a);for(var b=0;b<this.ca.length;b++){var c=this.ca[b];0===b?(a.beginPath(),a.moveTo(c.x,c.y)):a.lineTo(c.x,c.y)}1<this.ca.length&&(a.lineJoin="round",a.stroke())},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments),d=this.getPath();d&&0<d.length&&$(document.createElementNS("",
"vertices")).text(f.ea.Ek(d,b)).appendTo($(c));return c},deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,arguments);var c=$(a).find("vertices");0<c.length&&(c=c.text(),this.ca=f.ea.ji(c,b));this.adjustRect();this.Vc=null},selectionModel:f.hj};f.jj.prototype=$.extend(new f.Rc,f.jj.prototype);var m,n;f.Ka=function(a){f.Rc.call(this);this.ca=[];this.Ma={x:0,y:0};this.ib={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.Fk(a);
this.Lp="left";this.Hw=new f.Color(255,0,0);this.vw="Verdana";this.ww="9pt";this.Gw="left";this.Ew=0};f.Ka.Bd={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};f.Ka.prototype={elementName:"freetext",pi:function(){return this.intent},Fk:function(a){this.intent=a||f.Ka.Bd.FreeText;a!==f.Ka.Bd.FreeTextCallout?(this.selectionModel=f.$k,this.Subject=i18n.t("annotations.types.freetext")):(this.Si("OpenArrow"),this.selectionModel=f.tn,this.Subject=i18n.t("annotations.types.callout"))},
Si:function(a){this.Fj=a},pm:function(){return this.Fj},Eb:function(a,b){5>this.ca.length&&f.Rc.prototype.Eb.call(this,a,b)},adjustRect:function(){this.pi()===f.Ka.Bd.FreeTextCallout&&f.Rc.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.pi()===f.Ka.Bd.FreeTextCallout){var b=a.y1-this.Y,c=a.xa()/this.Width,d=a.ua()/this.Height;if(0!==a.x1-this.X||0!==b||1!==c||1!==d){for(b=0;b<this.ca.length;b++)null!==this.ca[b]&&(this.ca[b].x=(this.ca[b].x-this.X)*c+a.x1,this.ca[b].y=(this.ca[b].y-
this.Y)*d+a.y1);this.adjustRect()}}else this.tg(a),a=this.getRectPadding(),this.Hk(new f.Rect(a,a,a,a))},getRectPadding:function(){return this.pi()===f.Ka.Bd.FreeTextCallout?this.StrokeThickness/2:0},Hk:function(a){for(var b=this.getPath();5>b.length;)b.push(null);5<=b.length&&(b[3]=new f.Point(this.X+a.x1,this.Y+a.y2),b[4]=new f.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1))},vz:function(){var a=this.ca[3],b=this.ca[4];return new f.Rect(a.x-this.X,this.Y+this.Height-b.y,this.X+this.Width-
b.x,a.y-this.Y)},Kt:function(){return this.FontSize.slice(-2)||"px"},Jt:function(){var a=parseFloat(this.FontSize);"px"===this.Kt(a)&&(a*=.75);return a},NJ:function(a,b,c,f,d,e,g){for(var h,l=f,m=a.measureText(".").width,m=2*Math.ceil(d/m),n=b.split("\n"),D=0;D<n.length;D++){for(var K=n[D].split(" "),y="",G=0;G<K.length;G++){b=K[G];h=a.measureText(b);if(h.width>d){for(var H=1,I=m,B;H<=I;)if(B=Math.floor((I+H)/2),h=a.measureText(b.slice(0,B),a),h.width<d)H=B+1;else if(h.width>d)I=B-1;else break;b=
b.slice(0,Math.max(1,I))}K[G]!==b&&(K.splice(G+1,0,K[G].substr(b.length)),K[G]=b);b=y+K[G];h=a.measureText(b);if(h.width>d&&0<G){a.fillText(y,c,f);y=K[G]+" ";if(f-l>=e)return;f+=g}else y=b+" "}a.fillText(y.slice(0,-1),c,f);if(f-l>=e)break;f+=g}},draw:function(c){m||b();var d;this.Cc(c);if(this.pi()===f.Ka.Bd.FreeTextCallout){c.lineJoin="miter";for(var e=Math.min(3,this.ca.length),g=0;g<e;g++)d=this.ca[g],0===g?(c.beginPath(),c.moveTo(d.x,d.y)):c.lineTo(d.x,d.y);2<=this.ca.length&&f.If.it(c,this.ca[0],
this.ca[1],this.StrokeThickness)}if(5===this.ca.length){d=this.ca[3];var h=this.ca[4],e=d.x,g=d.y,l=h.x-d.x,v=h.y-d.y;c.save();c.beginPath();c.rect(e,g,l,v);c.closePath();c.fill();0<this.StrokeThickness&&(c.clip(),c.lineWidth*=2,c.strokeRect(e,g,l,v));c.restore();d=this.ah();if("undefined"!==typeof d){c.textBaseline="top";c.fillStyle=this.TextColor.toString();var x=c.lineWidth,h=0+x;c.save();c.beginPath();c.rect(e+x,g+x,Math.max(l-2*x,0),Math.max(v-2*x));c.closePath();c.clip();c.textAlign=this.TextAlign;
if(this.Rotation){c.translate(e,g);c.rotate(-(Math.PI/180*this.Rotation));c.translate(-e,-g);if(90===this.Rotation||270===this.Rotation)x=l,l=v,v=x;90===this.Rotation?c.translate(-l,0):270===this.Rotation?c.translate(0,-v):180===this.Rotation&&c.translate(-l,-v)}var x=l-2*h,v=v-2*h,z=parseFloat(this.FontSize),C=this.Kt();"pt"===C&&(z*=.75);if(0===z){var z=x,A=d.split("\n").reduce(function(a,b){return b.length>a.length?b:a}),D=function(a){m.css({font:a});a={};n.css({verticalAlign:"baseline"});a.jE=
n.offset().top-m.offset().top;n.css({verticalAlign:"bottom"});a.height=n.offset().top-m.offset().top;a.bL=a.height-a.jE;return a};do z--,c.font=z+"px "+this.Font;while((c.measureText(A).width>x||D(c.font).height>v)&&0<z)}A=z+4;a.utils.ie&&(A=z);D=e+h;"center"===this.TextAlign?D=e+l/2:"right"===this.TextAlign&&(D=e+l-h);c.font=z+C+" "+this.Font;this.NJ(c,d,D,g+h,x,v,A);c.restore()}}},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments),d=$(c),e=this.getPath(),g={},h=this.vz(),
h=f.ea.Vu(h,b);g.fringe=h;h=f.ea.Pi(this.FillColor);null!==h?g.color=h:d.removeAttr("color");d.removeAttr("interior-color");var h=f.If.Kj(b,this.Jt()),l=$(document.createElementNS("","defaultappearance"));l.text(this.StrokeColor.mJ()+" "+f.ea.nI(this.Font,h));d.append(l);var l=$(document.createElementNS("","defaultstyle")),m=f.ea.mI(this,b);l.text(m);d.append(l);this.Lp&&"left"!==this.Lp&&(g.justification=this.Lp);l=f.ea.Pi(this.TextColor);null!==l&&c.setAttribute("TextColor",l);c.setAttribute("FontSize",
h);c.setAttribute("rotation",this.Rotation);h=this.pi();h===f.Ka.Bd.FreeTextCallout&&(e=f.ea.Ek(e.slice(0,3),b),g.callout=e,g.head=this.pm(),c.setAttribute("IT",h));d.attr(g);return c},deserialize:function(a,b){function c(a){var d=a.slice(-2);a=parseFloat(a);return String(f.If.Kj(b,a))+d}this.TextColor=new f.Color(0,0,0);var d=f.ea,e=$(a);f.ma.prototype.deserialize.apply(this,arguments);null!==d.ii(e.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=new f.Color(0,0,0,0);var g=d.sA(a);
g.color&&(this.StrokeColor=d.ii(g.color));g.font&&(this.Font=g.font.name,this.FontSize=c(g.font.size));g=d.pH(a);g.font&&(this.Font=g.font.name,this.FontSize=c(g.font.size));g.textAlign&&(this.TextAlign=g.textAlign);g.color&&(this.TextColor=d.ii(g.color));var h;if((g=e.attr("IT")||e.attr("it")||a.getAttribute("IT"))&&g===f.Ka.Bd.FreeTextCallout){if(this.Fk(f.Ka.Bd.FreeTextCallout),this.Si(e.attr("head")||"OpenArrow"),h=e.attr("callout")){g=d.ji(h,b);3>g.length&&(h=d.ji(h,b,",",","),3===h.length&&
(g=h));h=this.getPath();for(var l=0;l<g.length;l++)h[l]=new f.Point(parseFloat(g[l].x),parseFloat(g[l].y))}}else this.Fk(f.Ka.Bd.FreeText),h=this.getPath(),h[0]=null,h[1]=null,h[2]=null;this.fringe?this.Hk(this.fringe):this.Hk(new f.Rect(0,0,0,0));if(g=e.attr("justification"))this.Lp=g;d=d.ii(e.attr("TextColor")||a.getAttribute("TextColor"));null!==d&&(this.TextColor=d);d=e.attr("FontSize")||a.getAttribute("FontSize");_.isUndefined(d)||_.isNull(d)||(this.FontSize=c(d+"pt"));(e=e.attr("rotation"))&&
(this.Rotation=parseInt(e,10));this.adjustRect()},selectionModel:f.$k};f.Ka.prototype=$.extend(new f.Rc,f.Ka.prototype);Object.defineProperties(f.Ka.prototype,{TextColor:{get:function(){return this.Hw},set:function(a){this.Hw=a;this.Ib()}},FontSize:{get:function(){return this.ww},set:function(a){this.ww=a;this.Ib()}},Font:{get:function(){return this.vw},set:function(a){this.vw=a;this.Ib()}},TextAlign:{get:function(){return this.Gw},set:function(a){this.Gw=a;this.Ib()}},Rotation:{get:function(){return this.Ew},
set:function(a){this.Ew=a;this.Ib()}}});f.Uc=function(){f.ma.call(this);this.Vc=null;this.Mh=new f.Color(255,0,0);this.Nh=null;this.Aw=!0;this.Bw=!1;this.Gd=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};f.Uc.prototype={gv:function(a){if(!a||"undefined"===typeof a.length||0===a.length)throw Error("Argument quads requires an array of at least one element");this.Gd=a;for(var b=Infinity,c=Infinity,f=0,d=0,e=0;e<this.Gd.length;e++)a=this.Gd[e],b=Math.min(b,a.x1,a.x2,a.x3,a.x4),c=Math.min(c,
a.y1,a.y2,a.y3,a.y4),f=Math.max(f,a.x1,a.x2,a.x3,a.x4),d=Math.max(d,a.y1,a.y2,a.y3,a.y4);this.X=b;this.Y=c;this.Width=f-b;this.Height=d-c},Od:function(){return this.Gd},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments),d;d=[];for(var e=0;e<this.Quads.length;e++){var g=this.Quads[e];d.push(new f.Point(g.x4,g.y4));d.push(new f.Point(g.x3,g.y3));d.push(new f.Point(g.x1,g.y1));d.push(new f.Point(g.x2,g.y2))}0<this.Quads.length&&(d=f.ea.Ek(d,b,",",","),$(c).attr("coords",d));
return c},deserialize:function(b,c){f.ma.prototype.deserialize.apply(this,arguments);this.Vc=null;this.Gd=[];for(var d=$(b).attr("coords"),d=f.ea.ji(d,c,",",","),e=0;e+3<d.length;e+=4){if(a.Fa.Math.PG(d[e],d[e+3],d[e+1],d[e+2])){var g=d[e+2];d[e+2]=d[e+3];d[e+3]=g}this.Gd.push(new f.gb(d[e+3].x,d[e+3].y,d[e+2].x,d[e+2].y,d[e+1].x,d[e+1].y,d[e].x,d[e].y))}},selectionModel:f.Ih};f.Uc.prototype=$.extend(new f.ma,f.Uc.prototype);Object.defineProperties(f.Uc.prototype,{Quads:{get:function(){return this.Gd},
set:function(a){this.gv(a)}}});f.Hf=function(){f.Uc.call(this);this.Mh=new f.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=.25};f.Hf.opacityCap=.3;f.Hf.prototype={elementName:"highlight",draw:function(a){this.Cc(a);if(_.isUndefined(this.Opacity)||_.isNull(this.Opacity)||this.Opacity>f.Hf.opacityCap)a.globalAlpha=f.Hf.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var b,c=0;c<this.Quads.length;c++)b=this.Quads[c],a.beginPath(),
a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.lineTo(b.x3,b.y3),a.lineTo(b.x4,b.y4),a.closePath(),a.fill()}};f.Hf.prototype=$.extend(new f.Uc,f.Hf.prototype);f.pj=function(){f.Uc.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};f.pj.prototype={elementName:"underline",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Gd.length;c++)b=this.Gd[c],a.beginPath(),a.moveTo(b.x1,b.y1),a.lineTo(b.x2,b.y2),a.closePath(),a.stroke()}};f.pj.prototype=$.extend(new f.Uc,f.pj.prototype);
f.Jh=function(){f.Uc.call(this);this["_xsi:type"]="Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};f.Jh.prototype={elementName:"strikeout",draw:function(a){this.Cc(a);for(var b,c=0;c<this.Gd.length;c++){b=this.Gd[c];var f=(b.x1+b.x4)/2,d=(b.y1+b.y4)/2,e=(b.x2+b.x3)/2;b=(b.y2+b.y3)/2;a.beginPath();a.moveTo(f,d);a.lineTo(e,b);a.stroke()}}};f.Jh.prototype=$.extend(new f.Uc,f.Jh.prototype);f.oj=function(){f.Uc.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};
f.oj.prototype={elementName:"squiggly",draw:function(a){var b,c,f,d,e,g,h;this.Cc(a);for(var l=0;l<this.Gd.length;l++){c=this.Gd[l];b=Math.sqrt((c.x1-c.x2)*(c.x1-c.x2)+(c.y1-c.y2)*(c.y1-c.y2));var m=5/3,n=b/10;a.save();a.translate(c.x1,c.y1-1.25);a.rotate(Math.atan2(c.y2-c.y1,c.x2-c.x1));c=Math.abs(c.y1-c.y4);a.beginPath();a.rect(0,-c,b,c+1.25+1);a.clip();a.beginPath();for(var D=0;D<2*n;D+=2)h=5*D,e=5*D+m/2,g=m,f=5*(D+1)-m/2,d=m,b=5*(D+1),c=0,a.moveTo(h,0),a.bezierCurveTo(e,g,f,d,b,c),e=5*(D+1)+m/
2,g=-m,f=5*(D+2)-m/2,d=-m,b=5*(D+2),c=0,a.bezierCurveTo(e,g,f,d,b,c);a.stroke();a.restore()}}};f.oj.prototype=$.extend(new f.Uc,f.oj.prototype);f.Gf=function(){f.ma.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.Vc=this.Nh=null;this.Mh=new f.Color(255,255,0);this.Icon="Comment";this.yw=null};f.Gf.prototype={elementName:"text",draw:function(b){if(!this.Fe()){var c=this.Width<this.Height?this.Width:
this.Height,f=.75*c,d=.48*c,e=.29*c,g=.19*c,h=c-g;b.strokeStyle="rgb(0, 0, 0)";b.fillStyle=this.StrokeColor.toString();b.globalAlpha=0===this.Opacity?0:this.Opacity||1;b.rotate(-this.Rotation*Math.PI/180);var l=a.utils.getRotationOffsets((360-this.Rotation)%360,this.Width,this.Height);b.translate(-l.dx,-l.dy);b.beginPath();b.moveTo(7,2);b.lineTo(c-5-2,2);b.quadraticCurveTo(c-2,2,c-2,7);b.lineTo(c-2,f-5);b.quadraticCurveTo(c-2,f,c-5-2,f);b.lineTo(d,f);b.lineTo(e,c-2);b.lineTo(e,f);b.lineTo(7,f);b.quadraticCurveTo(2,
f,2,f-5);b.lineTo(2,7);b.quadraticCurveTo(2,2,7,2);b.fill();b.moveTo(g,.25*c);b.lineTo(h,.25*c);b.moveTo(g,.41*c);b.lineTo(h,.41*c);b.moveTo(g,.57*c);b.lineTo(.68*c,.57*c);b.stroke()}},serialize:function(a,b){var c=f.ma.prototype.serialize.apply(this,arguments),d={icon:this.Icon};null!==this.InReplyTo&&(d.inreplyto=this.InReplyTo);$(c).attr(d);return c},deserialize:function(a,b){f.ma.prototype.deserialize.apply(this,arguments);this.Vc=null;var c=$(a),d=c.attr("icon");d&&(this.Icon=d);(c=c.attr("inreplyto"))&&
(this.InReplyTo=c);this.NoZoom=this.NoResize=!0},selectionModel:f.Hn};f.Gf.prototype=$.extend(!0,new f.ma,f.Gf.prototype);Object.defineProperties(f.Gf.prototype,{InReplyTo:{get:function(){return this.yw},set:function(a){this.yw=a;this.Ib()}}});f.If={it:function(b,c,f,d){b.save();b.translate(c.x,c.y);b.rotate(a.Fa.Math.gp(c,f));b.moveTo(0,0);f=5*d+2;c=Math.cos(.2*Math.PI)*f;f*=Math.sin(.2*Math.PI);b.moveTo(c,-f);b.lineTo(0,0);b.lineTo(c,f);b.stroke();b.restore()},Kj:function(a,b){var c=a.V({x:0,y:0}),
f=a.V({x:Number(b),y:0}),d=c.x-f.x,c=c.y-f.y;return Math.sqrt(d*d+c*c)}}})(window);
(function(a){function g(a){this.u=a.u;this.wa=a}function d(a,b){this.Om=this.Nm=this.Mm=0;a&&b&&this.set(a,b)}function e(a){this.jb=a;this.el=null;this.zj=!0;new d;this.Rf=this.ud=null}function b(a){var b=this;this.wa=a;this.Jz=!1;this.wa.on("annotationChanged.editbox",function(a,c,f){for(var d=0;d<c.length;++d){var e=c[d];"add"===f&&b.bu(e)?(b.yG(e),a.imported||(b.Vy(e),e.Oc.select())):"delete"===f&&e.Oc&&(e.Oc.remove(),delete e.Oc)}});this.wa.on("annotationDoubleClicked.editbox",function(a,c){b.wa.qc(c)&&
b.bu(c)&&(this.Jz&&c.Oc.val()!==c.ah()&&b.wa.cv(c,c.Oc.val()),b.Vy(c))})}function c(a){this.wa=a;this.Ni=[]}var h=window.o;h.ga=function(f){if(!f)throw Error("AnnotationManager requires DocumentViewer to initialize");var d=this;d.So="";d.gu=!1;d.readOnly=!1;d.gA=!1;d.gL=!1;d.Px=!0;d.Qx=!0;d.u=f;d.Fb=[];d.wM=[];d.dt=[];d.Ll=[];d.EB=!1;d.jL=[];d.rt="";d.Sf=new c(d);d.Yb=new g(d);d.Yw=new b(d);d.$h=new a.o.bD(d);d.hf=new a.Annotations.N.Yk(this);f.on("contentRemoved.annotManager",function(){d.Fb.forEach(function(a){a.trigger("contentRemoved")})});
d.ZK={};d.Rg={line:[Annotations.pd],circle:[Annotations.$i],square:[Annotations.kj],freetext:[Annotations.Ka],stamp:[Annotations.mj],text:[Annotations.Gf],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.jj],polygon:[Annotations.Eg],strikeout:[Annotations.Jh],highlight:[Annotations.Hf],underline:[Annotations.pj],squiggly:[Annotations.oj],caret:[Annotations.Vk],widget:[Annotations.Kh,Annotations.zg,Annotations.Cg,Annotations.Dh,Annotations.yg,Annotations.Eh,Annotations.Gh],link:[Annotations.Sc]};
d.controlPointSize=8;d.controlPointHitBoxScale=1};h.ga.prototype={Xj:function(){return this.So},qI:function(a){this.So=a},IF:function(){return this.gu},yI:function(a){this.gu=a},Tt:function(){return this.readOnly},HI:function(a){this.readOnly=a},np:function(){return this.gA},bv:function(a){this.gA=a},zp:function(){return this.EB},hv:function(a){this.EB=a},EC:function(a){this.ac(a)},vh:function(){return this.Px},RE:function(){this.Px=!1},FB:function(){return this.Qx},SE:function(){this.Qx=!1;this.Yw.disable()},
GI:function(a){this.zy=a},qc:function(a){return(this.zy?this.zy(a.Author,a):this.gu||a.Author===this.So||null===a.Author||"undefined"===typeof a.Author)&&!this.readOnly},MI:function(a){this.pB=a},oi:function(){return this.hf},IA:function(a){a=a.map(Number);this.Fb=this.Fb.filter(function(b){return-1!==a.indexOf(b.PageNumber)?(b.vv(),!1):!0})},SH:function(a){var b=this;b.u.bk().Nu("AnnotationManager.layoutChanged",{read:function(){},consolidateChanges:function(a){var b=a.filter(function(a){return"layoutChanged"===
a.type});a=a.filter(function(a){return"pageDiff"===a.type});var c=[];if(b.length){var f=[],d={},e={};b.forEach(function(a){a.removed.forEach(function(a){var b=e[a];_.isUndefined(b)?f.push(a):f.push(b)});Object.keys(a.moved).forEach(function(b){var c=a.moved[b];if(_.isUndefined(e[b]))d[b]=c,e[c]=b;else{var f=e[b];d[f]=c;delete e[b];e[c]=f}})});c.push({type:"layoutChanged",removed:f,moved:d})}if(a.length){var g=a.reduce(function(a,b){b.diffs.forEach(function(b){var c=b.before;b=b.after;a[c.id]?a[c.id].after=
b:a[c.id]={before:c,after:b}});return a},{});c.push({type:"pageDiff",diffs:Object.keys(g).map(function(a){return g[a]})})}return c},write:function(a,c){c.forEach(function(a){if("layoutChanged"===a.type)b.IA(a.removed),b.Fb.forEach(function(b){var c=a.moved[b.PageNumber];c&&(b.PageNumber=c)});else if("pageDiff"===a.type){var c={};b.Fb.forEach(function(a){var b=a.Hb();b in c?c[b].push(a):c[b]=[a]});a.diffs.forEach(function(a){var b=a.after,f=a.before.ed.inverse();f.concat(b.matrix);(a=c[b.pageNum])&&
a.forEach(function(a){var b=a.ee(),c={x:b.x1,y:b.y1},b={x:b.x2,y:b.y2},c=f.V(c),b=f.V(b);a.tg({x1:c.x,y1:c.y,x2:b.x,y2:b.y})})})}})}});a.on("layoutChanged",function(a,c){b.u.bk().je("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c.removed,moved:c.moved})});a.on("pageDiff",function(a,c){b.u.bk().je("AnnotationManager.layoutChanged",{type:"pageDiff",diffs:c})});a.on("pageContentChanged",function(a,c){b.u.bk().je("AnnotationManager.layoutChanged",{type:"layoutChanged",removed:c,moved:{}})})},
ac:function(b,c,d,e){var g=!1,h=b-1;if(isNaN(h))throw Error("Invalid page index given");var p=!!c,r=c||this.u.$g(h);if(r){var u=r.getContext("2d");if(!p){var w=this.u.jm(h),v=this.u.jp(h+1),x=w.width,w=w.height;if(90===v||270===v)v=x,x=w,w=v;a.o.Ja.Ns(r,x,w)}if(this.np())for(e=0;e<this.Fb.length;e++)v=this.Fb[e],v.Va()===h&&(w=this.Yb.Xd(v))&&w.zj&&this.Yb.vm(v);else{r=e||a.o.Ja.$t(h);x=[];for(e=0;e<this.Fb.length;e++)if(v=this.Fb[e],v.Va()===h)if(this.zp()&&-1===v.Author.indexOf(this.rt))!1===v.wj&&
(g=!0),v.wj=!0,(w=this.Yb.Xd(v))&&w.zj&&this.Yb.vm(v);else{!0===v.wj&&(g=!0);v.wj=!1;x.push(v);u.save();!0===v.NoZoom&&(u.translate(v.ti(),v.vi()),p||(w=this.u.lb(v.Va()),u.scale(1/w,1/w),w=this.u.zc(b),0<w&&(3===w?u.translate(v.xa(),0):2===w?u.translate(v.xa(),v.ua()):1===w&&u.translate(0,v.ua()),u.rotate(-1*w*Math.PI/2))));u.save();if(v.ZH())v.Hidden||!this.u.Ul&&!v.Tz()||(d&&v.render(r,this,this.u.lb(b-1)/a.utils.getCanvasMultiplier()),v.draw(u));else v.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",
this.$F(v,b,c));u.restore();if(!p)if("undefined"!==typeof v.selectionModel){if(this.hk(v)&&!v.Fe()&&!v.Hidden){var z=new v.selectionModel(v,this.qc(v)),w=this.u.lb(v.Va());!0===v.NoZoom&&(u.translate(-v.ti(),-v.vi()),w=1);z.draw(u,v,w)}}else(v=this.Sf.sL(v))&&v.draw(u);u.restore()}g&&this.trigger("annotationFiltered",[this.Fb]);p||this.Yb.CJ(x,u)}}},$F:function(a,b,c){var d=this;return function(){d.ac(b,c);a.off("resourcesLoaded")}},Bc:function(a){var b=a.Va();this.EC(a.PageNumber);!this.ih(a)&&(b=
this.u.$g(b))&&(b=b.getContext("2d"),b.save(),a.draw(b),b.restore())},NG:function(a){this.u.Zz(a.Hb()-1,[{x4:a.dh(),y4:a.gh(),x2:a.Cz(),y2:a.dz()}])},tG:function(a){this.Kz([a])},Kz:function(a){a.forEach(function(a){a.Hidden=!0});this.Kd();this.Zo(a);this.trigger("annotationHidden",[a,!0])},YI:function(a){this.jB([a])},jB:function(a){a.forEach(function(a){a.Hidden=!1});this.Zo(a);this.trigger("annotationHidden",[a,!1])},iF:function(a){if(""===a){if(!this.zp())return;this.hv(!1);this.rt=""}else this.hv(!0),
this.rt=a;a=this.u.aa.Pd();for(var b=0;b<a.length;b++)this.ac(a[b]+1)},qJ:function(){this.np()?this.bv(!1):this.bv(!0);for(var a=this.u.aa.Pd(),b=0;b<a.length;b++)this.ac(a[b]+1),this.u.wm(a[b]);this.trigger("annotationToggled",[this.np(),this.Fb,this.zp()])},ih:function(a){return-1<this.Fb.indexOf(a)},cv:function(a,b){a.Qi(b);this.trigger("annotationChanged",[[a],"modify"]);this.vh()&&this.Yb.gs(a)},Qg:function(a,b){this.Jj([a],b)},Jj:function(a,b){for(var c=0;c<a.length;++c){var d=a[c];0>=d.PageNumber&&
console.warn("Invalid annotation PageNumber: "+d.PageNumber);this.ih(d)||(this.Fb.push(d),this.eB(d))}c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[a,"add"])},wJ:function(a,b){this.eB(a);if(a.Fe()){var c=this.om(a);this.Yb.gs(a,c)}else this.trigger("setNoteText",a);c=$.Event("annotationChanged");c.imported=b;this.trigger(c,[[a],"modify"])},eB:function(a){function b(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b());
a.yf&&a.yf(this.u);a.lh()&&a.mb(a.kb().value);if(this.vh()){this.Yb.createPopup(a);var c=a.pf();c&&(c.isOpen()?this.Yb.$I(a):this.Yb.vm(a))}},lv:function(a){function b(a,c){return c.DateCreated-a.DateCreated}var c=[],d;for(d=0;d<a.length;++d){var e=a[d];if(e instanceof Annotations.Annotation)if(e.Fe()){var g=this.Wj(e.InReplyTo);g&&g.bi(e)}else c.push(e)}for(d=0;d<c.length;++d)if(a=c[d],0!==a.nm().length)for(e=[],e.push({Kl:a,ht:null});0<e.length;){var h=e.pop(),g=h.Kl;null!==h.ht&&this.Yb.bi(g,h.ht,
a);for(var h=g.nm().sort(b),r=0;r<h.length;++r)e.push({Kl:h[r],ht:g})}},VI:function(a){if(a.Fe()){var b=this.Wj(a.InReplyTo);b.bi(a);this.Yb.bi(a,b,this.om(a))}},om:function(a){for(;null!==a&&a.Fe();)a=this.Wj(a.InReplyTo);return a},sy:function(a,b){var c=new Annotations.Gf;c.InReplyTo=a.Id;c.X=a.X;c.Y=a.Y;c.PageNumber=a.PageNumber;c.Author=this.Xj();c.Qi(b||"");a.bi(c);this.Qg(c);this.Yb.bi(c,a,this.om(a));return c},measureText:function(a,b){var c=$("#text-width-tester");a=a.split("\n").join("<br>&nbsp;");
c.length?c.css({font:b}).html(a):(c=$('<span id="text-width-tester" style="display:none;font:'+b+';">'+a+"</span>"),$("body").append(c));return{width:c.width(),height:c.height()}},vJ:function(a){this.ih(a)&&this.ac(a.Hb())},hi:function(a,b,c){this.bt([a],b,c)},bt:function(a,b,c){var d=this,e={};if(!b&&this.Tt())this.u.trigger("notify","readOnlyDelete");else{var g=[],h=!1;a=a.slice();for(var r=0;r<a.length;r++){var u=a[r];u.vv();if(this.ih(u))if(c||b||this.qc(u)){this.Sf.Ql(u);this.trigger("annotationSelected",
[[u],"deselected"]);var w=this.Fb.splice(this.Fb.indexOf(u),1);g.push(w[0]);u.IsAdded||b||this.dt.push(w[0]);this.Yb.OE(u);u.Fe()&&(this.Yb.ct(u),this.Wj(u.InReplyTo).ct(u));u.nm().forEach(function(a){d.Yb.gs(a);a.InReplyTo=null;d.lv([a])});e[u.Hb()]=!0}else h=!0;else e[u.Hb()]=!0}0<g.length&&(c=$.Event("annotationChanged"),c.imported=b,this.trigger(c,[g,"delete"]));h&&this.u.trigger("notify","permissionDelete");$.each(e,function(a){d.ac(a)})}},yJ:function(){if(!this.readOnly){this.Ll=[];for(var a=
this.qf(),b=0;b<a.length;b++)if(!(a[b]instanceof Annotations.Uc)){var c=this.Ft(a[b]);this.Ll.push(c)}this.Ln=0}},tH:function(){if(!this.readOnly&&"undefined"!==typeof this.Ln){this.Ln++;for(var a=[],b=0;b<this.Ll.length;b++){var c=this.Ft(this.Ll[b]);a.push(c);var d=this.u.mi(),e=this.u.v.Pb(d-1),g=this.u.v.Ob(d-1),e=new Annotations.Rect(0,0,e,g),g=c.ee();c.Hb()===d?g.translate(5*this.Ln,5*this.Ln):c.YA(d);g.st(e);c.resize(g)}this.Jj(a);this.Ll=a;this.Kd();this.Tu(a)}},Ft:function(a){function b(){return(65536*
(1+Math.random())|0).toString(16).substring(1)}var c=this.XF(a);if(null===c)return null;var d=a.Va(),d=this.u.lf(d),e=d.inverse(),g=document.createElementNS("",a.elementName),g=a.serialize(g,e);a=new c;a.deserialize(g,d);a.Id=b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b();a.Author=this.So;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},rF:function(a){return a.jb},vt:function(a){this.vh()&&(a=this.Yb.Xd(a),$(a.el).find(".popup-comment").focus())},
hk:function(a){return this.Sf.by(a)},Ck:function(a){!this.ih(a)||a instanceof Annotations.Ta||(this.Sf.Ck(a),this.ac(a.Hb()),this.trigger("annotationSelected",[[a],"selected"]))},Tu:function(a){var b=[],c={};if(a&&$.isArray(a)){for(var d=0;d<a.length;d++){var e=a[d];!this.ih(e)||e instanceof Annotations.Ta||(this.Sf.Ck(e),c[e.Hb()]=e.Hb(),b.push(e))}var g=this;$.each(c,function(a){g.ac(a)})}0<b.length&&this.trigger("annotationSelected",[b,"selected"])},Kd:function(){if(0!==this.qf().length){this.Sf.Kd();
for(var a=this.u.aa.Pd(),b=0;b<a.length;b++)this.ac(a[b]+1);this.trigger("annotationSelected",[null,"deselected"])}},Ql:function(a){this.Sf.Ql(a);this.ac(a.Hb());this.trigger("annotationSelected",[[a],"deselected"])},qf:function(){return this.Sf.qf()},Zg:function(){return this.Fb},Wj:function(a,b){b=b||this.Fb;if(_.isUndefined(a)||_.isNull(a))return null;for(var c=0;c<b.length;c++)if(b[c].Id===a)return b[c];return null},az:function(a,b){if(_.isUndefined(a)||_.isNull(a))return[];for(var c=[],d=0;d<
this.Fb.length;d++)this.Fb[d].Id===a&&c.push(this.Fb[d]);return _.isUndefined(b)?c:c.filter(function(a){return a.PageNumber-1===b})},Et:function(a){a=this.bz(a);return 0<a.length?a[0]:null},bz:function(a){var b=new window.Ca.Tool(this.u);b.mouseLeftDown(a);a=b.pageCoordinates[0];b=[];if(null!==a)for(var c=this.Zg(),d=c.length-1;0<=d;d--){var e=c[d];if(e.selectionModel&&!e.Fe()&&!e.Hidden&&e.Hb()-1===a.pageIndex){var g=this.u.lb(e.Va()),h=this.hk(e),r=new e.selectionModel(e,this.qc(e),h);r.testSelection(e,
a.x,a.y,g)?b.push(e):h&&r.Iq(e,g,a.x,a.y)&&b.push(e)}}return b},hz:function(a,b){return this.Sf.hz(a,b)},Kq:function(a){return this.Yw.bu(a)&&this.FB()?(this.Yb.vm(a),!1):this.Yb.Kq(a)},fF:function(a){return this.$h.RC(a)},Dt:function(){return this.$h.Dt()},Iz:function(a){return"string"===typeof a?(new DOMParser).parseFromString(a,"text/xml"):a},vG:function(a){a=this.Iz(a);a=this.$h.fC(a);this.lv(a);return a},du:function(a,b){b=b||function(){};var c=this,d=this.Iz(a);this.$h.gC(d,function(a){c.Vo?
b([]):(a=a.vs,c.lv(a),c.u.bk().je("DocumentViewer.renderRequest",{type:"annotations",pages:_.uniq(a.map(function(a){return a.Hb()-1}))}),b(a))})},cu:function(a){a=(new DOMParser).parseFromString(a,"text/xml");a=this.$h.cu(a);var b=[];a.Co&&(b=b.concat(a.Co),0<a.Co.length&&this.VI(a.Co[0]));a.Dy&&(b=b.concat(a.Dy));a.tu&&(b=b.concat(a.tu));return b},Zo:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var b=0;b<a.length;b++)this.ac(a[b],void 0,!0)},TB:function(){this.Vo=!0;this.off();
this.u.off("contentRemoved.annotManager");this.Zg().forEach(function(a){a.off();var b=$(a),c=b.data("popup");c&&$(c.el).remove();b.removeData("popup");a.Oc&&a.Oc.off();a.innerElement&&a.innerElement.off();a.element&&a.element.off()});this.hf.Jc()},RH:function(a,b){if("string"!==typeof a||!b)return!1;"undefined"===typeof this.Rg[a]&&(this.Rg[a]=[]);this.Rg[a].push(b);return!0},QE:function(a,b){if("string"!==typeof a||!b)return!1;this.Rg[a]=$.grep(this.Rg[a],function(a){return a!==b});return!0},YF:function(){return this.Rg},
XF:function(a){if(!a||!a.elementName)return null;var b=this.Rg[a.elementName];if(b&&0<b.length)for(var c=0;c<b.length;c++){var d=b[c];if(a instanceof d)return d}return null}};$.extend(h.ga.prototype,a.utils.eventHandler);c.prototype={Ck:function(a){this.by(a)||this.Ni.push(a)},Ql:function(a){this.Ni=$.grep(this.Ni,function(b){return b!==a})},Kd:function(){this.Ni=[]},by:function(a){for(var b=0;b<this.Ni.length;b++)if(a===this.Ni[b])return!0;return!1},qf:function(){return this.Ni.slice()}};b.prototype=
{disable:function(){this.wa.off("annotationChanged.editbox");this.wa.off("annotationDoubleClicked.editbox")},bu:function(a){return a instanceof Annotations.Ka},yG:function(a){var b=this.wa;a.Oc=$('<textarea class="freetext">');a.Oc.on("blur",function(){b.cv(a,a.Oc.val());a.Oc.hide();b.Zo([a])});a.Oc.on("mousedown",function(a){a.stopPropagation()})},Vy:function(b){this.Jz=!0;a.o.Ja.$t(b.Va()).append(b.Oc);var c=parseFloat(b.FontSize)||12,d=b.Kt(),e=this.wa.u.lb(b.Va())/a.utils.getCanvasMultiplier(),
c=c*e*.75+d,d=b.Ct()*e,g=b.getPath().slice(3,5),h=g[0].x*e,p=Math.min(g[0].y,g[1].y)*e,r=Math.abs(g[1].x-g[0].x)*e,g=Math.abs(g[1].y-g[0].y)*e,u=360-b.Rotation;if(90===u||270===u)var w=r,r=g,g=w;var v=w=0;switch((360-u)%360){case 90:v=r;break;case 180:w=r;v=g;break;case 270:w=g}w="translate("+w+"px,"+v+"px) rotate("+u+"deg)";u=Math.abs(u%360/90);u===a.o.ra.xe?(h+=d,p+=d):u===a.o.ra.ad?(h-=d,p+=d):u===a.o.ra.ki?(h-=d,p-=d):u===a.o.ra.Ld&&(h+=d,p-=d);u=1>b.FillColor.A?new Annotations.Color(255,255,
255):b.FillColor;b.Oc.css({top:p,left:h,width:r-2*d,height:g-2*d,font:c+" "+b.Font,color:b.TextColor.toString(),background:u.toString(),transform:w,"transform-origin":"top left","line-height":a.utils.ie?1:"normal","padding-top":a.utils.ie?Math.max(1,1+1.5*(e-1)):0});b.Oc.val(b.ah()||"");this.ZI(b)},ZI:function(a){a.Oc.show().focus()}};e.prototype={hide:function(){this.el&&($(this.el).hide(),this.zj=!1,this.jb.IsAdded||(this.jb.IsModified=!0))},show:function(){this.el&&($(this.el).show(),this.zj=!0,
this.jb.IsAdded||(this.jb.IsModified=!0))},update:function(b,c){var d=this.el.getBoundingClientRect(),e=$(this.el).position(),d={x:e.left+d.width/2,y:e.top+d.height/2},e=this.jb.Va(),g=c.lb(e),d=a.Fa.Math.fI(d,1/g,1/g),g=c.zc(e+1),h=c.getDocument().Kc(e),p=h.width,h=h.height;1===g?d=a.Fa.Math.uv(d,-h,0):2===g?d=a.Fa.Math.uv(d,-p,-h):3===g&&(d=a.Fa.Math.uv(d,0,-p));d=a.Fa.Math.sh(d,-1*g*Math.PI/2);e=this.jb.NoZoom?c.lb(e):1;g=new Annotations.Rect(this.jb.dh(),this.jb.gh(),this.jb.dh()+this.jb.xa()/
e,this.jb.gh()+this.jb.ua()/e);(new this.jb.selectionModel(this.jb)).drawPopupTail(b,this.jb,e,g,d)},Sw:function(){var a=$('<div class="popup-header"/>').append('<div class="popup-subject">'+this.jb.Subject+"</div>"),b=$('<div class="popup-comment-container">').append(this.Rw(this.jb)),a=$('<div class="popup" style="width:200px;height:100px;padding-bottom:8px" />').append('<div class="popup-minimize-button ui-icon ui-icon-minus"/>').append('<div class="popup-handle"/>').append(a).append(b);this.el=
a.get(0);return a},Rw:function(a,b){b=b||0;var c=$('<textarea class="popup-comment" />').val(a.ah());c.data("id",a.Id);var d=$("<div>").addClass("replyButton glyphicons unshare"),e=Annotations.ea.toDateString(a.DateCreated);a.Author&&(e=a.Author+": "+e);e=$("<div>").addClass("popup-text").text(e);c=$("<div>").css("padding-left",b).append(d).append(e).append(c);0!==b&&(d=$("<div>").addClass("deleteButton glyphicons circle_remove"),c.prepend(d));return c}};d.prototype={set:function(b,c){var d=0,e,g;
e=Math.abs(b.x1-b.x2);var h=Math.abs(b.y1-b.y2);c.x>=b.x1+.5*e&&c.y<b.y1+.5*h?d={x:b.x1+e,y:b.y1}:c.x<b.x1+.5*e&&c.y<b.y1+.5*h?d={x:b.x1,y:b.y1}:c.x<b.x1+.5*e&&c.y>=b.y1+.5*h?d={x:b.x1,y:b.y1+h}:c.x>=b.x1+.5*e&&c.y>=b.y1+.5*h&&(d={x:b.x1+e,y:b.y1+h});h=a.Fa.Math.gp(d,c);g=a.Fa.Math.Ot(d,c);e={x:d.x+g,y:d.y-5};g={x:d.x+g,y:d.y+5};e=a.Fa.Math.sh(e,h,d);g=a.Fa.Math.sh(g,h,d);this.Mm=d;this.Nm=e;this.Om=g},draw:function(a){a.strokeStyle="rgba(0,0,0,0.8)";a.beginPath();a.moveTo(this.Mm.x,this.Mm.y);a.lineTo(this.Nm.x,
this.Nm.y);a.lineTo(this.Om.x,this.Om.y);a.closePath();a.stroke();a.fillStyle="rgba(255, 255, 0, 0.7)";a.beginPath();a.moveTo(this.Mm.x,this.Mm.y);a.lineTo(this.Nm.x,this.Nm.y);a.lineTo(this.Om.x,this.Om.y);a.closePath();a.fill()}};g.prototype={Xd:function(a){return $(a).data("popup")},gs:function(a,b){this.wa.trigger("setNoteText",[a,b]);if(this.wa.vh()){var c=this.ix(a,b).children(".popup-comment");c.val(a.ah());c.trigger("updateHeight")}},ix:function(a,b){var c=this.Xd(b||a),d=null;$(c.el).find(".popup-comment").each(function(){var b=
$(this);if(b.data("id")===a.Id)return d=b.parent(),!1});return d},Lx:function(a,b){var c=this,d=c.wa.qc(b);a.prop("readonly",!d).off("keyup").on("keyup",function(a){b.Qi(a.target.value);b instanceof Annotations.Ka&&c.wa.Bc(b);c.wa.trigger("annotationChanged",[[b],"modify"])});var e=a.parent().find(".replyButton"),g=a.parent().find(".deleteButton");d||g.remove();c.wa.Tt()?e.remove():(e.off("click").on("click",function(){c.wa.sy(b)}),g.off("click").on("click",function(){c.wa.hi(b)}))},iD:function(a){var b=
this;a&&!a.el&&a.Sw();var c=$(a.el),d=a.jb;c.find(".popup-minimize-button").click(function(){b.Kq(a.jb)});var e=c.find(".popup-comment");this.Lx(e,d);e=a.jb.PageNumber-1;"undefined"!==typeof c.draggable&&null!==c.draggable&&c.draggable({containment:$("#pageContainer"+e),cancel:".popup-comment-container",drag:function(){d.IsAdded||(d.IsModified=!0);b.wa.ac(d.Hb())},stop:function(){var e=d.pf(),g=b.u.lb(d.Va());e.X=parseFloat(c.css("left"))/g;e.Y=parseFloat(c.css("top"))/g;e.Width=parseFloat(c.css("width"));
e.Height=parseFloat(c.css("height"));b.wa.trigger("annotationChanged",[[a.jb],"modify"])}});if("undefined"!==typeof c.resizable&&null!==c.resizable){var g=c.find(".popup-comment-container");c.resizable({minWidth:80,minHeight:80,alsoResize:g,resize:function(){d.IsAdded||(d.IsModified=!0);b.wa.ac(d.Hb());var a=c.find(".popup-comment");if(1===a.length){var f=c.find(".popup-text").height();a.css({"min-height":g.height()-f-7})}},stop:function(){var e=d.pf(),g=b.u.lb(d.Va);e.X=parseFloat(c.css("left"))/
g;e.Y=parseFloat(c.css("top"))/g;e.Width=parseFloat(c.css("width"));e.Height=parseFloat(c.css("height"));b.wa.trigger("annotationChanged",[[a.jb],"modify"]);c.find(".popup-comment").trigger("updateHeight")}})}c.on("mousedown",function(a){a.stopPropagation()})},createPopup:function(b){if(b.jh){var c=this.Xd(b);c||(c=new e(b),$(b).data("popup",c));var d=this.u.lb(b.Va());c.ud=d;c.Rf=this.u.zc(b.PageNumber);var g=!1,h=b.pf(),q;if(null===c.el){g=!0;q=c.Sw();this.iD(c);var p=$("#pageContainer"+b.Va());
if(!h){h=new Annotations.Fg;b.fv(h);var r=this.nA({x:b.ti(),y:b.vi()},c.ud,c.Rf,b.Va());h.X=a.Fa.Math.Po(r.left-150,0)/d;h.Y=a.Fa.Math.Po(r.top-150,0,p.innerHeight()-q.outerHeight())/d;h.Width=parseFloat(q.css("width"));h.Height=parseFloat(q.css("height"));(b instanceof Annotations.Gf||b instanceof Annotations.Jh)&&h.Gk(!0)}q.appendTo(p)}else q=$(c.el);q.css({position:"absolute",left:h.X*d,top:h.Y*d,width:h.Width,height:h.Height});d=q.find(".popup-comment");p=d.first();p.val(b.ah());0<h.Width&&0<
h.Height&&(r=q.find(".popup-comment-container"),r.css({height:h.Height-34,width:""}),0===b.nm().length&&(h=q.find(".popup-text").height(),p.css({"min-height":r.height()-h-7})));g&&this.wa.trigger("annotationPopupCreated",[b,q,p]);d.trigger("updateHeight");this.wa.u.Ul||c.hide();return c}},Kq:function(a){if(!a.jh)return!1;var b=!1,c=this.Xd(a);if(!c)return b;if(!this.wa.u.Ul)return c.hide(),b;c.zj?c.hide():(c.show(),b=!0);a.IsModified=!0;a.pf().Gk(b);this.wa.trigger("annotationPopupStateChanged",[a,
$(c.el),b]);this.wa.trigger("annotationChanged",[[a],"modify"]);this.wa.ac(a.Hb());return b},vm:function(a){if(a.jh){var b=this.Xd(a);b&&b.hide();var c=a.pf();c&&c.Gk(!1);b&&this.wa.trigger("annotationPopupStateChanged",[a,$(b.el),!1])}},$I:function(a){if(a.jh){var b=this.Xd(a);b&&b.show();a.pf().Gk(!0);this.wa.trigger("annotationPopupStateChanged",[a,$(b.el),!0])}},OE:function(a){if(a.jh){var b=this.Xd(a);if(b){var b=$(b.el),c=b.find(".popup-comment-container .popup-comment");this.wa.trigger("annotationPopupDeleted",
[a,b,c]);b.remove()}}},CJ:function(a,b){var c;if(this.wa.vh())for(var d=0;d<a.length;d++)if(a[d].jh&&(c=this.Xd(a[d]),c.zj)){if(!$(c.el).closest("html").length){var e=a[d].Va(),g=$("#pageContainer"+e),h=$(c.el);h.draggable({containment:g});var r={left:parseFloat(h.css("left")),top:parseFloat(h.css("top"))},r=this.IE(r,c.ud,c.Rf,e);c.ud=this.u.lb(e);c.Rf=this.u.zc(e+1);e=this.nA(r,c.ud,c.Rf,e);h.css({left:e.left,top:e.top});h.appendTo(g)}c.update(b,this.u)}},bi:function(a,b,c){this.wa.trigger("addReply",
[a,b,c]);if(this.wa.vh()){var d=this.Xd(c),e=$(d.el);e.find(".popup-comment-container").find(".popup-comment").css("min-height","");b=this.ix(b,c);d=d.Rw(a,10);b.append(d);d=d.find(".popup-comment");this.Lx(d,a);this.vm(a);a.IsModified=!1;this.wa.trigger("annotationPopupCreated",[a,e,d])}},ct:function(a){if(a.jh){var b=this.wa.om(a);this.wa.trigger("deleteReply",[a,b]);if(this.wa.vh()){var c=this,b=this.Xd(b),d=$(b.el);d.find(".popup-comment").each(function(){var b=$(this);if(b.data("id")===a.Id)return c.wa.trigger("annotationPopupDeleted",
[a,d,b.parent().find(".popup-comment")]),b.removeData("id"),b.parent().remove(),!1})}}},IE:function(b,c,d,e){var g=this.u.Pb(e);e=this.u.Ob(e);var h=b.left/c;b=b.top/c;var p,r;switch(d){case a.o.ra.xe:p=h;r=b;break;case a.o.ra.ad:p=b;r=e-h;break;case a.o.ra.ki:p=g-h;r=e-b;break;case a.o.ra.Ld:p=g-b,r=h}return{x:p,y:r}},nA:function(b,c,d,e){var g=this.u.Pb(e)*c;e=this.u.Ob(e)*c;b.x*=c;b.y*=c;var h,p;switch(d){case a.o.ra.xe:h=b.x;p=b.y;break;case a.o.ra.ad:h=e-b.y;p=b.x;break;case a.o.ra.ki:h=g-b.x;
p=e-b.y;break;case a.o.ra.Ld:h=b.y,p=g-b.x}return{left:h,top:p}}}})(window);
(function(a){var g={JL:function(a,e){return{x:a,y:e}},fA:function(a,e,b,c){return null===a||null===e||null===b||null===c?null:{x1:a,y1:e,x2:a+b,y2:e+c}},aM:function(a,e){if(!e||!a)return!1;var b,c;"undefined"!==typeof e.x1&&"undefined"!==typeof e.y1&&"undefined"!==typeof e.x2&&"undefined"!==typeof e.y2||console.warn("rect points are undefined");b=a.x>=e.x1&&a.x<=e.x2;c=a.y>=e.y1&&a.y<=e.y2;return b&&c},NH:function(a,e){return a&&e?a.x1<=e.x2&&a.x2>=e.x1&&a.y1<=e.y2&&a.y2>=e.y1?!0:!1:!1},UL:function(d,
e,b,c,g,f){var l=f.u.v.Pb(g),m=f.u.v.Ob(g);d=a.Fa.vH(d,e,b,c,f.u.lf(g));m={x:Math.min(d.x+d.w,l),y:Math.min(d.y+d.fe,m)};l=f.u.aa.fd({x:Math.max(d.x,0),y:Math.max(d.y,0)},g);m=f.u.aa.fd(m,g);d=f.u.jm(g);"undefined"!==typeof d.dc&&null!==d.dc?(l.x-=d.dc,l.y-=d.md,m.x-=d.dc,m.y-=d.md):(g=f.u.aa.ak(g),l.x-=g.x,l.y-=g.y,m.x-=g.x,m.y-=g.y);return{x:Math.floor(Math.min(l.x,m.x)),y:Math.floor(Math.min(l.y,m.y)),w:Math.floor(Math.abs(m.x-l.x)),fe:Math.floor(Math.abs(m.y-l.y))}},zM:function(a,e,b,c,g,f){var l=
f.u.v.Pb(g),m=f.u.v.Ob(g);b={x:Math.min(b,l),y:Math.min(c,m)};a=f.u.aa.fd({x:Math.max(a,0),y:Math.max(e,0)},g);e=f.u.aa.fd(b,g);b=f.u.jm(g);"undefined"!==typeof b.dc&&null!==b.dc?(a.x-=b.dc,a.y-=b.md,e.x-=b.dc,e.y-=b.md):(g=f.u.aa.ak(g),a.x-=g.x,a.y-=g.y,e.x-=g.x,e.y-=g.y);return{x:Math.floor(Math.min(a.x,e.x)),y:Math.floor(Math.min(a.y,e.y)),w:Math.floor(Math.abs(e.x-a.x)),fe:Math.floor(Math.abs(e.y-a.y))}},vH:function(a,e,b,c,g){a=g.V(new XODText.fc(a,e));b=g.V(new XODText.fc(b,c));return{x:Math.min(a.x,
b.x),y:Math.min(a.y,b.y),w:Math.abs(a.x-b.x),fe:Math.abs(a.y-b.y)}},VL:function(a,e,b,c,h){return g.pJ(Math.min(a,b),Math.max(e,c),Math.abs(a-b),Math.abs(e-c),h)},pJ:function(a,e,b,c,g){var f=96/72;return{x:f*a,y:g-f*e,w:f*b,fe:f*c}},AM:function(a,e,b,c,g){c=new XODText.fc(a,e+c);a=new XODText.fc(a+b,e);g=g.inverse();c=g.V(c);g=g.V(a);return{x1:c.x,y1:c.y,x2:g.x,y2:g.y}},BM:function(a,e,b,c,h){return g.oJ(.75*a,.75*(h-e),.75*b,.75*c)},oJ:function(a,e,b,c){return{x1:a,y1:e-c,x2:a+b,y2:e}},Math:{PG:function(a,
e,b,c){function g(a,b,c){return(c.y-a.y)*(b.x-a.x)>(b.y-a.y)*(c.x-a.x)}return g(a,b,c)!==g(e,b,c)&&g(a,e,b)!==g(a,e,c)},gp:function(a,e){var b=Math.atan(Math.abs(a.y-e.y)/Math.abs(a.x-e.x));e.x<a.x&&e.y>a.y?b=Math.PI-b:e.x<=a.x&&e.y<a.y?(b=Math.PI-b,b*=-1):e.x>=a.x&&e.y<a.y&&(b*=-1);return b},Ot:function(a,e){return Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2))},sh:function(a,e,b){b=b||{x:0,y:0};var c=a.x-b.x;a=a.y-b.y;return{x:Math.cos(e)*c-Math.sin(e)*a+b.x,y:Math.sin(e)*c+Math.cos(e)*a+b.y}},
uv:function(a,e,b){return{x:a.x+(e||0),y:a.y+(b||0)}},fI:function(a,e,b){return{x:a.x*(e||0),y:a.y*(b||0)}},Po:function(a,e,b){b=void 0!==b?b:Infinity;e=void 0!==e?e:-Infinity;return Math.max(Math.min(a,b),e)},ot:function(a,e,b){return Math.abs(a-e)<(b||.01)},qF:function(a,e){return Math.atan2(e,a)},WF:function(a){if(!(3>a.length)){for(var e=a[0],b=0,c=1;c<a.length;c++)var g=a[c],b=b+(g.x-e.x)*(g.y+e.y),e=g;return 0<=b?1:-1}},AE:function(a){for(var e=[],b=0;b<a.length;b++)e.push({x:a[b].x,y:a[b].y});
return e},Iu:function(a){var e=Math.abs(a[a.length-1].y-a[0].y);return 1.2358E-4<Math.abs(a[a.length-1].x-a[0].x)&&1.2358E-4<e?!0:!1},Mi:function(a){var e=Math.cos(a);a=Math.sin(a);return{m_a:e,m_b:-a,m_c:a,m_d:e,m_h:0,m_v:0}},translate:function(a,e,b){a.m_h+=e;a.m_v+=b;return a},V:function(a,e,b){return{x:e*a.m_a+b*a.m_c+a.m_h,y:e*a.m_b+b*a.m_d+a.m_v}},gE:function(a,e,b,c,g,f,l,m,n,k,q){0>g&&(g=-g);0>f&&(f=-f);var p=(a-k)/2,r=(e-q)/2,u=Math.cos(l),w=Math.sin(l),v=u*p+w*r,p=-w*p+u*r,r=g*g,x=f*f,z=
v*v,C=p*p,A=z/r+C/x;1<A&&(g*=Math.sqrt(A),f*=Math.sqrt(A),r=g*g,x=f*f);if(A=r*C+x*z){r=(r*x-r*C-x*z)/A;m=(m===n?-1:1)*Math.sqrt(0>r?0:r);x=g*p/f*m;z=m*-(f*v/g);m=(a+k)/2+(u*x-w*z);u=(e+q)/2+(w*x+u*z);w=(v-x)/g;r=(p-z)/f;x=(-v-x)/g;p=(-p-z)/f;z=Math.sqrt(w*w+r*r);v=(0>r?-1:1)*Math.acos(w/z);z=Math.sqrt((w*w+r*r)*(x*x+p*p));r=(0>w*p-r*x?-1:1)*Math.acos(Math.max(Math.min((w*x+r*p)/z,1),-1));!n&&0<r?r-=2*Math.PI:n&&0>r&&(r+=2*Math.PI);p=[];w=!1;if(1E-9>Math.abs(r))n=4,w=!0,p[0]=g*Math.cos(v),p[1]=f*Math.sin(v),
p[2]=g*Math.cos(v+r),p[3]=f*Math.sin(v+r);else{x=0;n=2;C=!1;do{0>r?(A=x,z=.5*-Math.PI,x-=.5*Math.PI,x<=r+.01&&(z=r-A,C=!0)):(A=x,z=.5*Math.PI,x+=.5*Math.PI,x>=r-.01&&(z=r-A,C=!0));var D=Math.cos(z/2),K=Math.sin(z/2),y=4*(1-D)/3,G=K-y*D/K,A=[],H=[];A[0]=D;H[0]=-K;A[1]=D+y;H[1]=-G;A[2]=D+y;H[2]=G;A[3]=D;H[3]=K;D=Math.sin(v+z/2);K=Math.cos(v+z/2);for(y=0;4>y;y++)p[n-2+2*y]=g*(A[y]*K-H[y]*D),p[n-1+2*y]=f*(A[y]*D+H[y]*K);n+=6;v+=z}while(!C&&26>n)}g=this.Mi(-l);this.translate(g,m,u);for(f=2;f<n-2;f+=2)l=
void 0===p[f]?this.V(g,0,0):this.V(g,p[f],p[f+1]),p[f]=l.x,p[f+1]=l.y;p[0]=a;p[1]=e;2<n&&(p[n-2]=k,p[n-1]=q);if(w)c.push("l"),c.push("l"),b.push(p[0]),b.push(p[1]),b.push(p[2]),b.push(p[3]);else for(c.push("l"),b.push(p[0]),b.push(p[1]),a=2;a<n;a+=6)c.push("c"),b.push(p[a]),b.push(p[a+1]),b.push(p[a+2]),b.push(p[a+3]),b.push(p[a+4]),b.push(p[a+5])}},HE:function(a,e){return a.x*e.y-a.y*e.x},NL:function(a){return 1E4*(a+2*Math.PI)%2*Math.PI*1E4/1E4}}};a.Fa=g})(window);
(function(a){function g(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Zb=a}function d(a,c){this.Av=a;this.ap=c||function(){return!0}}String.prototype.trim||function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();d.prototype.Lm=function(a,c,d){a=this.Av;a.writeStartElement("field");a.writeAttributeString("name",c);c=d.value;_.isNull(c)||(a.writeStartElement("value"),a.writeString(e.escape(c)),a.writeEndElement());
a.writeEndElement()};d.prototype.$p=function(a,c,d){a=this.Av;d.value&&(a.writeStartElement("field"),a.writeAttributeString("name",c),a.writeStartElement("value"),a.writeString(e.escape(d.value)),a.writeEndElement(),a.writeEndElement());a.writeStartElement("field");a.writeAttributeString("name",c)};d.prototype.Bu=function(){this.Av.writeEndElement()};g.prototype={fy:function(a){return a&&0<a.getElementsByTagName("annots").length?(e.lz(a,"link"),e.lz(a,"widget"),a.getElementsByTagName("annots")[0].childNodes):
[]},Ht:function(a){return a&&(a=a.getElementsByTagName("fields"),0<a.length)?a[0]:null},uz:function(a){return a&&(a=a.getElementsByTagName("pdf-info"),0<a.length)?a[0]:null},Wx:function(b,c,d){var f=this;a.Ue.parse(new a.Vd(b),function(a){return f.Zb.u.lf(a-1)},function(a){var b=f.Zb,d=b.hf,e=b.u;if(e.getDocument()){d.pI(a.calculationOrder);var g=a.fields;Object.keys(g).forEach(function(a){var b=g[a],c=d.qp(b.name);b.kd(c.Na());d.qs(g[a],!0)});b.Jj(a.widgets,!0);e=e.getDocument();e.Ao(a.documentActions);
for(var b=a.pages,e=e.qb(),h=0;h<b.length;++h){var r=b[h],u=Number(r.number);0<u&&u<e.length+1?e[u-1].Ao(r.actions):console.warn("Invalid page number on PDFInfo page:",u)}c(a)}},d)},fC:function(b){function c(){var a=d.uz(b);a&&d.Wx(a,function(a){g=a.widgets},!0)}var d=this,f=this.fy(b),e=this.Ht(b);e&&this.rs(new a.Vd(e),c,!0);var g=[];return null!==f?g.concat(this.Uq(f,!0)):g},gC:function(b,c){function d(){var a=f.uz(b);a?f.Wx(a,function(a){f.Ux(e,function(b){b.vs=b.vs.concat(a.widgets);c(b)})}):
f.Ux(e,function(){c.apply(this,arguments)})}var f=this,e=this.fy(b),g=this.Ht(b);g?this.rs(new a.Vd(g),d,!1):d()},cu:function(b){var c={};if(b){var d=this.Ht(b);d&&this.rs(new a.Vd(d),function(){},!0);var d=b.getElementsByTagName("add"),f=b.getElementsByTagName("modify");b=b.getElementsByTagName("delete");0<d.length&&(c.Co=this.Uq(d[0].childNodes,!0));0<b.length&&(c.Dy=this.SB(b[0]));0<f.length&&(c.tu=this.lC(f[0].childNodes))}return c},SB:function(a){var c=[];a=a.getElementsByTagName("id");for(var d=
0;d<a.length;++d){var f=this.Zb.Wj(a[d].textContent);f&&(c.push(f),this.Zb.hi(f,!0))}return c},lC:function(a){return this.Uq(a,!0)},Uq:function(a,c){var d=[];this.Tx(a,d,0,a.length,c);return d},Qg:function(a,c,d,f){var e=this.Zb,g=null,n=!1,k=e.Rg[a];if(k)for(var q=c.getAttribute("page"),q=parseInt(q,10),q=e.u.lf(q),p=0;p<k.length;p++){if(k[p].prototype.Uf(c)){g=null;if(d){d=c.getAttribute("name");var r=parseInt(c.getAttribute("page"),10),g=this.Zb.az(d,r)[0];if(!g&&this.Zb.az(d,r,f)[0])break}if(!g){var u;
"widget"===a&&(a=c.getAttribute("title"),u=e.hf.qp(a));g=new k[p](u);n=!0}try{g.isImporting=!0,g.deserialize(c,q),g.isImporting=!1}catch(w){console.warn("Error parsing annotation");n=!1;g=null;break}n||e.wJ(g,!0);g.IsAdded=!1;g.IsModified=!1;break}}else console.warn("Unsupported annotation type.",a);return{Kl:g,XI:n}},Tx:function(a,c,d,f,g){for(var m=[];d<f;++d)if(a[d].nodeType===Node.ELEMENT_NODE){var n=this.Qg(e.Nt(a[d]),a[d],g,c),k=n.Kl;k&&(c.push(k),n.XI&&m.push(k))}0<m.length&&(this.Zb.Jj(m,
!0),m.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}))},rs:function(b,c,d){function f(a){var c=b.J("name");if(!c)return console.warn("Invalid field name part:",c,b.current),null;a=a?a+"."+c:c;var c={name:a},d=[c],e=null;for(b.ja();b.advance();){var g=b.la();switch(g){case "value":_.isNull(e)?e=b.cd():(_.isArray(e)||(e=[e]),e.push(b.cd()));break;case "field":g=f(a);0<g.length&&(d=d.concat(g));break;default:console.warn("unknown field child node: ",g)}}b.pa();_.isNull(e)||(c.value=e);return d}var e=
this.Zb.hf;b.ja();b.advance()?a.busyLoop(function(){"field"===b.la()&&f("").forEach(function(a){e.qs(a,!0)});var a=b.advance();a||b.pa();return a},c,d):c()},rA:function(a){var c=[];$(a).each(function(a,b){c.push(b.textContent.trim())});return c},Ux:function(a,c){function d(){f.Tx(a,g,e,Math.min(e+50,a.length),!0);setTimeout(function(){e+=50;e<a.length?d():c({vs:g})},0)}var f=this,e=0,g=[];d()},Gn:function(a,c,d){var f=this.Zb.u.lf(a.Hb()-1).inverse(),e=document.createElementNS("",a.elementName);a.serialize(e,
f,d);a=(new XMLSerializer).serializeToString(e);c.writeString(a)},NC:function(b){var c=this.Zb,d=c.oi(),f=c.u,e=f.getDocument(),g=[];d.kn({Lm:function(a,b,c){void 0!==c.type&&g.push(c)},$p:function(a,b,c){void 0!==c.type&&g.push(c)}});var n=e.qb().map(function(a,b){return{number:b+1,actions:a.li()}}).filter(function(a){return 0<Object.keys(a.actions).length});a.Ue.write(b,{calculationOrder:d.Es,widgets:c.Zg().filter(function(a){return a.lh()}),fields:g,documentActions:e.li(),pages:n},function(a){return 1>
a?(console.warn("Invalid page number:",a),a=new XODText.Oa,a.ym(1,0,0,1,0,0),a):f.lf(a-1)})},RC:function(a){a=a||{};var c=new XMLWriter("UTF-8","1.0");c.formatting="none";var d=!1!==a.widgets,f=!1!==a.links;c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");d&&this.NC(c);this.KC(c);c.writeStartElement("annots");d=this.Zb;a=a.annotList||d.Zg();for(d=0;d<a.length;++d){var e=a[d];e instanceof Annotations.Sc?
f&&this.Gn(e,c,!0):e instanceof Annotations.sa||this.Gn(e,c,!0)}c.writeEndElement();c.writeEndElement();this.OC(c);return c.flush()},OC:function(a){var c=this.Zb;a.writeStartElement("pages");var d=c.u.getDocument().qb();if(d){var f=c.u.lf(0);a.writeStartElement("defmtx");a.writeAttributeString("matrix",""+(f.m_a+","+f.m_b+","+f.m_c+","+f.m_d+","+f.m_h+","+f.m_v));a.writeEndElement();for(var e=1;e<d.length;++e){var g=c.u.lf(e);if(!g.ot(f)){a.writeStartElement("pgmtx");var n="",n=n+(g.m_a+","+g.m_b+
","+g.m_c+","+g.m_d+","+g.m_h+","+g.m_v);a.writeAttributeString("matrix",n);a.writeAttributeString("page",e.toString());a.writeEndElement()}}}a.writeEndElement()},IC:function(a){a.writeStartElement("add");for(var c=this.Zb.Zg(),d=0;d<c.length;++d){var f=c[d];f.IsAdded&&(this.Gn(f,a),f.IsAdded=!1)}a.writeEndElement()},MC:function(a){a.writeStartElement("modify");for(var c=this.Zb,d=c.Zg(),f=0;f<d.length;++f){var e=d[f];e.IsModified&&c.qc(e)&&(this.Gn(e,a),e.IsModified=!1)}a.writeEndElement()},JC:function(a){a.writeStartElement("delete");
for(var c=this.Zb,d=this.ZB(),f=0;f<d.length;++f)a.writeStartElement("id"),a.writeString(d[f]),a.writeEndElement();c.dt.length=0;a.writeEndElement()},KC:function(a){a.writeStartElement("fields");this.Zb.hf.kn(new d(a));a.writeEndElement()},LC:function(a){a.writeStartElement("fields");this.Zb.hf.kn(new d(a,function(a){var b=a.IsModified;a.IsModified=!1;return b}));a.writeEndElement()},PC:function(b){var c=new XMLWriter("UTF-8","1.0");c.writeStartDocument();c.writeStartElement("xfdf");c.writeAttributeString("xmlns",
"http://ns.adobe.com/xfdf/");c.writeAttributeString("xml:space","preserve");c.writeStartElement("fields");var e=new a.Annotations.N.Yk;b.forEach(function(a){e.qs(a)});e.kn(new d(c));c.writeEndElement();c.writeEndElement();b=c.flush();return b=b.replace(/\t/g,"")},QC:function(a){for(var c=[],d=0;d<a.length;++d){var f=a[d];_.isUndefined(f.name)||c.push(f.name+"="+encodeURIComponent(f.value))}return c.join("&")},Dt:function(){var a=new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");
a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.LC(a);this.IC(a);this.MC(a);this.JC(a);a.writeEndElement();a=a.flush();return a=a.replace(/\t/g,"")},ZB:function(){return _.map(this.Zb.dt,function(a){return a.Id})}};a.o.bD=g;var e={sv:function(a){var c;c="D:"+a.getFullYear().toString();c+=this.Xc((a.getMonth()+1).toString());c+=this.Xc(a.getDate().toString());c+=this.Xc(a.getHours().toString());c+=this.Xc(a.getMinutes().toString());c+=
this.Xc(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?c+="Z00'00'":(0>a?(c+="+",a*=-1):c+="-",c+=this.Xc(parseInt(a/60,10).toString())+"'",c+=this.Xc((a%60).toString())+"'");return c},toDateString:function(a){return a.getFullYear().toString()+"-"+this.Xc((a.getMonth()+1).toString())+"-"+this.Xc(a.getDate().toString())+" "+this.Xc(a.getHours().toString())+":"+this.Xc(a.getMinutes().toString())+":"+this.Xc(a.getSeconds().toString())},Xc:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&
(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,c){_.isUndefined(c)&&(c=2);return parseFloat(a.toFixed(c)).toString()},getAttribute:function(a,c){return a.getAttribute(c)||a.getAttribute(c.toLowerCase())},Nt:function(a){return a.localName||a.baseName||a.nodeName},lz:function(a,c){var d=[],f=a.getElementsByTagName(c);if(0===f.length)return d;for(var e=0;e<f.length;++e){var g=f[e].outerHTML||f[e].xml;if(_.isUndefined(g)||0!==g.indexOf("<"+c+" "))g=(new XMLSerializer).serializeToString(f[e]);
0>g.indexOf("</"+c+">")&&"/"!==g.charAt(g.length-2)&&(g=g.slice(0,g.length-1)+"/"+g.slice(g.length-1));d.push(g)}return d},uL:function(a){return e.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},oF:function(a){return e.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},pF:function(a){if(!a)return null;var c=e.getAttribute(a,"ActionType");return c?c:(a=e.It(a))?e.Nt(a):null},It:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});
return 0<a.length?a[0]:null},hp:function(a,c,d){c=e.getAttribute(a,c);_.isNull(c)&&(c=a.getElementsByTagName(d),c=0<c.length?c[0].textContent:null);return c},BK:function(a,c,d){d=d.V({x:_.isNull(a)?0:parseFloat(a),y:_.isNull(c)?0:parseFloat(c)});return{x:_.isNull(a)?null:d.x,y:_.isNull(c)?null:d.y}},cL:function(a,c,d){a=a.split(";");for(var f=[],e=0;e<a.length;++e){var g=a[e].split(","),g=new XODText.fc(g[0],g[1]),g=new Annotations.Point(g.x,g.y);c.V(g);"function"===typeof d&&d(g);f.push(g)}return f},
vq:function(a,c,d){if("undefined"===typeof d||null===d)d=",";if(!(a instanceof Annotations.Point))return null;a=new Annotations.Point(a.x,a.y);c&&c.V(a);return e.toFixed(a.x)+d+e.toFixed(a.y)},Fy:function(a,c,d){if("undefined"===typeof d||null===d)d=",";if("string"!==typeof a)return null;a=a.split(d);d=null;2===a.length?(d=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),c&&c.V(d)):console.warn("Invalid serialized string format.");return d},Ek:function(a,c,d,f){if("undefined"===typeof f||
null===f)f=";";if("undefined"===typeof d||null===d)d=",";for(var g="",m=0;m<a.length;m++){var n=new Annotations.Point(a[m].x,a[m].y);c&&c.V(n);g+=e.toFixed(n.x)+d;g+=e.toFixed(n.y)+f}return g.substring(0,g.length-1)},ji:function(a,c,d,f){var e=[];if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";var g;a=a.split(f);if(f===d)for(f=0;f+1<a.length;f+=2)g=new Annotations.Point(a[f],a[f+1]),c&&c.V(g),e.push(g);else for(f=0;f<a.length;++f)g=a[f].split(d),g=new Annotations.Point(g[0],
g[1]),c&&c.V(g),e.push(g);return e},wq:function(a,c,d){if("undefined"===typeof d||null===d)d=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);c.V(f);c.V(a);return e.toFixed(f.x,6)+d+e.toFixed(f.y,6)+d+e.toFixed(a.x,6)+d+e.toFixed(a.y,6)},ft:function(a,c,d){if("undefined"===typeof d||null===d)d=",";d=a.split(d);a=new Annotations.Point(d[0],d[1]);d=new Annotations.Point(d[2],d[3]);c&&(c.V(a),c.V(d));return new Annotations.Rect(a.x,a.y,d.x,d.y)},Vu:function(a,c,d){var f=
new XODText.Oa;f.ym(c);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.wq(a,f,d)},Ey:function(a,c,d){var f=new XODText.Oa;f.ym(c);f.m_d*=-1;f.m_h=0;f.m_v=0;return e.ft(a,f,d)},iM:function(a,c){for(var d="",f=0;f<a.length;f++){var g=a[f],g=new Annotations.Point(g.x,g.y);c.inverse().V(g);d+=e.toFixed(g.x)+",";d+=e.toFixed(g.y)+";"}return d.substring(0,d.length-1)},dL:function(a,c){var d=a.split(","),f=new Annotations.Point(d[0],d[1]),d=new Annotations.Point(d[2],d[3]);"undefined"!==typeof c&&(c.V(f),c.V(d));return new Annotations.Rect(f.x,
f.y,d.x,d.y)},jM:function(a,c){var d=new Annotations.Point(a.x1,a.y1),f=new Annotations.Point(a.x2,a.y2),g=c.inverse();g.V(d);g.V(f);return e.toFixed(d.x)+","+e.toFixed(d.y)+","+e.toFixed(f.x)+","+e.toFixed(f.y)},Pi:function(a){if("undefined"===typeof a||null===a||!(a instanceof Annotations.Color)||0===a.A)return null;var c=a.R.toString(16).toUpperCase();2>c.length&&(c="0"+c);var d=a.G.toString(16).toUpperCase();2>d.length&&(d="0"+d);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+
c+d+a},ii:function(a){return(new RegExp(/^#[0-9a-f]{6}$/i)).test(a)?new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},et:function(a){if(a)return new Date(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0)},ez:function(a,c,d){a="#"+e.Xc(a.toString(16));a+=e.Xc(c.toString(16));return a+=e.Xc(d.toString(16))},
nI:function(a,c){return"/"+a+" "+c+" Tf"},mI:function(b,c){return"font: "+b.Font+" "+a.Annotations.If.Kj(c,b.Jt())+"pt; text-align: "+b.TextAlign+"; color: "+e.Pi(b.TextColor)},lI:function(b,c){return"font-family: "+b.Font+"; font-size: "+a.Annotations.If.Kj(c,b.Jt())+"pt; text-align: "+b.TextAlign+"; color: "+e.Pi(b.TextColor)},LE:["Tf","rg"],sA:function(a){var c=e.hp(a,"defaultappearance","defaultappearance");a={ld:c};if(!_.isNull(c))for(c=c.split(" ");0<c.length;){var d=c.pop();if(-1!==e.LE.indexOf(d))switch(d){case "Tf":var d=
c.pop(),f=c.pop().slice(1);a.font={size:d+"pt",name:e.Rm(f),eM:f};break;case "rg":var d=parseInt(255*c.pop(),10),f=parseInt(255*c.pop(),10),g=parseInt(255*c.pop(),10);a.color=e.ez(g,f,d)}}return a},TK:function(a){if(4===a.length)return{r:parseInt(a.charAt(1),16)/16,g:parseInt(a.charAt(2),16)/16,b:parseInt(a.charAt(3),16)/16};if(7===a.length)return{r:parseInt(a.slice(1,3),16)/255,g:parseInt(a.slice(3,5),16)/255,b:parseInt(a.slice(5,7),16)/255}},pH:function(a){a=e.hp(a,"defaultstyle","defaultstyle");
var c={};_.isNull(a)||a.split(";").forEach(function(a){var b=a.split(":");if(!(2>b.length))switch(a=b[0].trim(),b=b[1].trim(),a){case "text-align":c.textAlign=b;break;case "color":b.startsWith("rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(b),null!==a&&(c.color=e.ez(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):c.color=b;break;case "font":a=b.split(" "),c.font={name:e.Rm(a[0]),size:a[1]}}});return c},Rm:function(a){function c(c,d){var f=a;0===f.indexOf(c)&&(f=d);return f}var d=
0<a.indexOf("Bold"),f=0<a.indexOf("Italic")||0<a.indexOf("Oblique");a=c("Arial","Arial");a=c("Courier","Courier");a=c("Helv","Arial");a=c("Times","Times New Roman");d?a=a+" Bold,"+a:f&&(a=a+" Italic,"+a);return a}};a.Annotations.ea=e})(window);
(function(a){a.o=a.o||{};var g=a.o;g.rr=function(a){this.v=a;this.K=[];this.ph={};this.Bp=g.ra.xe;this.rf=1;if(a){this.FA();this.GA();var e=this;a.on("pagesDiff",function(a,c){e.trigger("pageDiff",[c]);e.trigger("pageContentChanged",[c.filter(function(a){return a.after.contentChanged}).map(function(a){return a.after.pageNum})])});a.on("pagesUpdated",function(a,c){function d(a){var b={};Object.keys(a).forEach(function(c){b[c]=a[c].fb});return b}var f=d(e.ph);e.FA();e.GA();f=e.nE(f,d(e.ph));f.contentChanged=
c.filter(function(a){return a.contentChanged}).map(function(a){return a.pageNum});e.trigger("layoutChanged",[f])})}};g.rr.prototype=$.extend({HK:function(){return this.K.length},nE:function(a,e){var b={added:[],removed:[],moved:{}},c={};Object.keys(a).forEach(function(b){c[b]=c[b]||{};c[b].before=a[b]});Object.keys(e).forEach(function(a){c[a]=c[a]||{};c[a].after=e[a]});Object.keys(c).forEach(function(a){a=c[a];a.before&&!a.after?b.removed.push(a.before):!a.before&&a.after?b.added.push(a.after):a.before&&
a.after&&a.before!==a.after&&(b.moved[a.before]=a.after)});return b},FA:function(){var a=this.v.km(),e={};a.forEach(function(a){e[a]=!0});var b=this.ph;Object.keys(b).forEach(function(a){a in e||delete b[a]});a.forEach(function(a){b[a]||(b[a]={rotation:null,zoom:null,dc:null,md:null,Kk:null,an:null,pg:null,fb:null,id:a})})},GA:function(){for(var a=this.v.numPages,e=this.v,b=[],c=0;c<a;++c){var g=this.ph[e.sp(c)];g.fb=c+1;b.push(g)}this.K=b},$u:function(a){this.Bp=a},pL:function(){return this.Bp},
uh:function(a){this.rf=a;this.trigger("zoomChanged",[a])},qL:function(){return this.rf},ZA:function(a,e){var b=this.K[a];if(b)b.an=e;else throw Error("Invalid page text selected "+a);},Rs:function(){this.K.forEach(function(a){a.an=null})},wp:function(){return this.K.map(function(a){return a.an}).filter(function(a){return null!==a}).join("\n")},wd:function(a){var e=this.K[a];if(e){var b=this.v.Pb(a);a=this.v.Ob(a);var c=_.isNull(e.rotation)?this.Bp:e.rotation;if(c===g.ra.ad||c===g.ra.Ld){var h=b,b=
a;a=h}return{width:b,height:a,rotation:c,zoom:_.isNull(e.zoom)?this.rf:e.zoom,dc:e.dc,md:e.md,Kk:e.Kk,an:e.an,pg:e.pg,fb:e.fb,id:e.id}}return{width:0,height:0}},Pd:function(){for(var a=[],e=this.K.length,b=0;b<e;++b)a.push(this.wd(b));return a},ev:function(a,e){var b=this.K[a];if(b)b.zoom=e;else throw Error("Invalid page index zoomed "+a);},bn:function(a,e){var b=this.K[a];if(b)b.rotation=e;else throw Error("Invalid page index rotated "+a);},$A:function(a,e){var b=this.K[a];if(b)b.Kk=e;else throw Error("Invalid page index set text quads "+
a);},Qs:function(){this.K.forEach(function(a){a.Kk=null})},CI:function(a,e){var b=this.K[a];if(b)b.dc=e.dc,b.md=e.md;else throw Error("Tried to set offsets of invalid page"+a);},GF:function(){var a={};this.K.forEach(function(e,b){_.isNull(e.rotation)||(a[b]=e.rotation)});return a},xE:function(){this.K.forEach(function(a){a.rotation=null})},Xy:function(a){this.K.forEach(function(e){_.isNull(e.rotation)||a(e)})},dv:function(a,e){var b=this.K[a];if(b)b.pg=e;else throw Error("Invalid page index set preview canvas "+
a);},Pt:function(){var a=[];this.K.forEach(function(e,b){_.isNull(e.Kk)||a.push(b)});return a},yE:function(){this.K.forEach(function(a){a.pg=null})},Vz:function(a){return!!this.ph[a]},jc:function(a){var e=this.ph[a];if(e)return this.wd(e.fb-1);throw Error("Unknown page ID "+a);},eg:function(a){var e=this.K[a];if(e)return e.id;throw Error("Page index is not loaded "+a);},Jc:function(){this.off()}},a.utils.eventHandler)})(window);
(function(a){function g(a,b){this.handlers=a;this.state=_.isUndefined(b)?null:b;this.Wf=[];this.Ku=!0}function d(){this.Wy=[];this.Zy=[];this.Ji={};this.Mq=!1;Promise.resolve();Promise.resolve();this.Vo=!1;this.Do=null}g.prototype={je:function(a){this.Wf.push(a)},iB:function(){return 0<this.Wf.length},fB:function(){return this.Ku||0<this.Wf.length},read:function(){this.state=this.handlers.read(this.state);this.Ku=!1},write:function(){var a=this.Wf;this.handlers.consolidateChanges&&(a=this.handlers.consolidateChanges(a));
this.Wf=[];this.state=this.handlers.write(this.state,a);this.Ku=!0}};d.prototype={Jc:function(){this.Mq=!1;window.cancelAnimationFrame(this.Do);this.Do=null;this.Vo=!0},Nu:function(a,b,c,d){_.isUndefined(d)&&(d=!0);if(this.Ji[a])throw Error("Tried to register pipeline "+a+" twice");this.Ji[a]=new g(b,c);d&&this.Qu()},qG:function(a){return!!this.Ji[a]},VF:function(a){if(!this.Ji[a])throw Error("Tried to get non-existent pipeline "+a);return this.Ji[a]},Qu:function(){var a=this;this.Mq||this.Vo||(this.Mq=
!0,this.Do=window.requestAnimationFrame(function(){a.Do=null;var b=Object.keys(a.Ji).map(function(b){return a.Ji[b]});b.forEach(function(a){a.fB()&&a.read()});b.forEach(function(a){a.iB()&&a.write()});b=b.some(function(a){return a.fB()||a.iB()});a.Mq=!1;b?a.Qu():(a.Zy.forEach(function(a){a()}),a.Zy=[]);a.Wy.forEach(function(a){a()});a.Wy=[]}))},je:function(a,b){this.VF(a).je(b);this.Qu()}};a.hl=d;a.qK=g})((window.o?window.o:window.o={}).lj={});
(function(a){function g(a){this.GB=!0;this.iu=this.nq=this.hB=this.Le=!1;this.nc=[];this.pc={};this.ql={};this.ae=.5;this.u=a;this.v=null;this.mq=Promise.resolve();this.Dm=!1;this.Ou=null;this.og=[];this.paused=!1}function d(a){this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.canvas=null;this.rg=this.xs=this.He=!1;this.gB=!0;this.gd=this.wi=this.Lk=this.request=null}function e(a,c){this.Ha=a;this.qh=c;this.Ju=createPromiseCapability()}e.prototype={cancel:function(){var a=
this.Ha.bc(this.qh);try{if(a.rg){a.gd&&(a.gd.iy(),a.gd.abort&&a.gd.abort());if(a.request)try{this.Ha.v.Vf(a.request)}finally{a.request=null,a.gd=null}if(a.Lk)try{this.Ha.v.Nj(a.Lk)}finally{a.Lk=null}if(a.wi)try{this.Ha.v.Vf(a.wi)}finally{a.wi=null}}}finally{a.rg=!1,a.gB=!0,this.Ju.resolve("canceled")}},tJ:function(){this.cancel();var a=this.Ha.bc(this.qh);a.gd&&(a.gd.Ke(void 0,this.Ha.u.O.jc(this.qh).fb-1),a.gd=null)},render:function(a){var c=this;a.then(function(){c.Ju.resolve("complete")})},St:function(){return this.Ju.promise}};
d.prototype={hm:function(a){return(this.canvas||a?1:0)*(this.width*this.height*this.zoom*this.zoom*(window.devicePixelRatio?window.devicePixelRatio:1)*4+1E5)/4},isValid:function(){return!!this.canvas},update:function(a){if(this.rotation!==a.rotation||this.zoom!==a.zoom)this.canvas=null,this.gB=!0;this.rotation=a.rotation;this.zoom=a.zoom;this.width=a.width;this.height=a.height;this.fb=a.fb}};g.prototype={init:function(){this.Ms();this.v=this.u.getDocument()},Jc:function(){this.iu=!0;this.dn();return this.mq},
Ms:function(){this.dn();var a=this;Object.keys(this.pc).forEach(function(c){a.Bm(c)})},KI:function(a){this.hB=!!a},Bm:function(a){var c=this.pc[a];c&&(c.canvas=null);this.Jk(a)},Mo:function(a){var c=this.u,d=c.mi()-1;a=c.O.jc(a).fb-1;c=c.wc();d=a-d;0>d&&(d-=.5);return c-Math.abs(d)},zz:function(a){return this.ql[a]||null},Xx:function(a){if(this.bc(a).rg)return this.zz(a);var c=new e(this,a);this.Jk(a);c.render(this.WH(a,function(){}));return this.ql[a]=c},sF:function(){var a=this;return Object.keys(this.pc).reduce(function(c,
d){return c+a.bc(d).hm()},0)},YD:function(b,c){for(var d=this.bc(c),f=this,e=Object.keys(this.pc).sort(function(a,b){return f.Mo(a)-f.Mo(b)}),g=this.sF(),n=d.hm(b)+g,k=0;n>a.Zi&&k<e.length;)n-=this.bc(e[k]).hm(),++k;if(n<a.Zi){for(g=0;g<k;++g)this.Bm(e[g]);d.canvas=b}else console.warn("Could not fit "+c+" with size "+d.hm(b)+" into cache of size "+g+" with max size "+a.Zi)},bc:function(a){if(this.u.O.Vz(a)){this.pc[a]=this.pc[a]||new d(this.u.O.jc(a));var c=this.u.O.jc(a);this.pc[a].update(c);return this.pc[a]}return this.pc[a]?
this.pc[a]:new d({})},YJ:function(b){var c=this.bc(b);c&&(c.isValid()||this.Bm(b),a.o.Ja.Ui||(c.He=!1))},FG:function(a){return!!this.bc(a).canvas},pause:function(){this.paused=!0},resume:function(){this.paused=!1;var a=this.pc;Object.keys(a).forEach(function(c){c=a[c];c.gd&&(c.gd.paused=!1,c.gd.resume&&c.gd.resume())})},Nk:function(a){this.nc=a||this.u.aa.Pd()},hE:function(a){var c=this;return a.some(function(a){return-1===c.nc.indexOf(a)})||c.nc.some(function(c){return-1===a.indexOf(c)})},ZF:function(){var a=
this;return Object.keys(this.pc).map(function(c){return{id:c,page:a.pc[c]}}).filter(function(a){return a.page.He}).map(function(c){return a.u.O.jc(c.id).fb-1})},vE:function(a){if(this.Le)return this.$s();var c=this;return(a||c.u.aa.Pd(c.ae,c.ae)).some(function(a){a=c.u.O.eg(a);a=c.bc(a);return!a.rg&&(!a.He||!a.isValid())})?this.$s(a):Promise.resolve()},$s:function(a){var c=this;clearTimeout(this.Ou);c.Dm&&(c.og=a||"auto");this.Ou=setTimeout(function(){var d=_.isUndefined(a)?c.u.aa.Pd(c.ae,c.ae):a;
c.dn(d);c.Dm?c.og=a||"auto":c.mq=c.mq.then(function(){return c.Pu(a)})["catch"](function(a){console.error(a);c.mq=Promise.resolve()})},80)},xH:function(a){var c=this;return Promise.resolve().then(function(){var d=c.u.O.jc(a).fb-1,f=c.bc(a);if(!f.canvas)throw Error("Tried to place uncached page from cache "+a);f.He=!0;c.u.Ol(f.canvas,d);c.Wg(d,f);c.u.trigger("pageComplete",[d])})},Wt:function(a){var c=this;return new Promise(function(d){var f=c.bc(a),e=c.u.O.jc(a).fb-1;f.Lk||c.u.rG(e)?d():f.Lk=c.v.lk(e,
function(d){c.bc(a).Lk=null;c.u.cy(d,e,-1!==c.nc.indexOf(e),!1)})})},FF:function(b){var c=this;return new Promise(function(d){var f=c.bc(b),e=c.u.O.jc(b).fb-1;if(f.wi||c.u.pG(e))d();else{var g=a.utils.getCanvasMultiplier(),n=f.width,k=f.height,q=n>k?2E3/n:2E3/k,q=q/g;f.wi=c.v.lg({pageIndex:e,getZoom:function(){return q},getPageRotation:function(){return a.o.ra.xe},drawComplete:function(a){c.v.fi(f.wi);f.wi=null;c.u.cy(a,e,-1!==c.nc.indexOf(e),!0);d()},useProgress:!1})}})},Pu:function(b){var c=this;
return this.iu?Promise.resolve():Promise.resolve().then(function(){function d(b){b=c.u.O.eg(b);if(c.FG(b)&&!c.Le)return c.xH(b);var f=c.bc(b);return!a.o.Ja.Ui&&f.He?Promise.resolve():c.Xx(b).St()}_.isUndefined(b)&&(b=c.u.aa.Pd(c.ae,c.ae));c.dn(b);c.UH();c.Dm=!0;c.u.trigger("beginRendering");var f;c.v.fk()&&b.forEach(function(a){a=c.u.O.eg(a);c.Wt(a)});c.hB?(c.nq=!1,f=Promise.resolve(),b.forEach(function(a){f=f.then(function(){return c.nq?Promise.resolve():d(a)})})):f=Promise.all(b.map(d));return f}).then(function(){c.nq=
!1;c.Dm=!1;c.u.trigger("finishedRendering");if(!c.iu)return new Promise(function(a,b){window.requestAnimationFrame(function(){try{var d;if("auto"===c.og)return d=c.Pu(),c.og=[],a(d);if(c.og.length)return d=c.Pu(c.og),c.og=[],a(d);c.GG()?a(c.zH()):a()}catch(e){b(e)}})})})["catch"](function(a){c.Dm=!1;console.error(a);throw a;})},GG:function(){return a.o.Ja.Ui&&(0!==a.Tp||0!==a.Sp)},mE:function(){var a=this;return _.range(a.u.wc()).map(function(c){return a.u.O.eg(c)}).sort(function(c,d){return a.Mo(d)-
a.Mo(c)})},gy:function(){var b=this,c=_.min(b.nc),d=_.max(b.nc),f=c-a.Tp,e=d+a.Sp,c=this.mE().filter(function(a){a=b.u.O.jc(a).fb-1;return f<a&&e>a});if(b.Le)return c[0];for(var d=[],g=c.length,n=0,k=0;k<g;++k){var q=b.bc(c[k]),n=n+q.hm(!0);if(n<a.Zi)d.push(c[k]);else break}return d},oE:function(){var a=this;return a.gy().filter(function(c){return!a.bc(c).isValid()})},zH:function(){var a=this;return Promise.resolve().then(function(){return a.Le?Promise.all(a.nc.map(function(c){c=a.u.O.eg(c);return a.FF(c)})):
Promise.all(a.oE().map(function(c){return a.Xx(c).St()}))["catch"](function(a){console.error("error pre-rendering",a);throw a;})})},WH:function(a,c){c=c||function(){};var d=this;return new Promise(function(f){d.VH(a,function(a){!a||a.type&&"Cancelled"===a.type||console.warn(a);f()},c)})},UH:function(){var b=this,c=this.gy();Object.keys(this.pc).forEach(function(d){var f=b.bc(d);if(b.u.O.Vz(d)){var e=b.u.O.jc(d).fb-1;a.o.Ja.Ui?-1===c.indexOf(d)&&f.He&&(b.u.TH(e),f.He=!1):(d=-1!==b.nc.indexOf(e),!f.He&&
!f.xs||d||(a.o.Ja.tk(e),f.xs=!1,f.He=!1))}})},VH:function(b,c,d){var f=this,e=this.bc(b);c=c||function(){};d=d||function(){};if(e.rg)a.utils.warn("renderPage: Another request for page ID",b),c("renderPage: Another request for page ID "+b);else{var g=f.u.O.jc(b),n=g.zoom,k=g.rotation;if(f.v!==f.u.getDocument())c("Document changed");else{var q=!0,p=null,r=!1,u;if(f.Le){var w=f.u.aa.da;u=w.rm(g.fb-1,w.xn(f.ae,f.ae));if(null===u){c("Page "+(g.fb-1)+" no longer visible");return}}var v={pageIndex:this.u.O.jc(b).fb-
1,getZoom:function(){return f.u.O.jc(b).zoom},getPageRotation:function(){return f.u.O.jc(b).rotation},finishedLoading:function(a,d){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(a)return console.warn("Error loading page "+b),c(Error("Error loading page "+b)),!1;q=null===e.gd;e.gd=d;f.paused&&e.gd.pause();return!0},acquireResources:function(){return q},resourcesLoaded:function(){if(f.v!==f.u.getDocument())return c(Error("Document changed")),!1;if(!1===e.rg)return!1;var a=f.u.O.jc(b);
n===a.zoom&&k===a.rotation||f.Wg(a.fb-1,e);return!0},drawComplete:function(){if(f.v!==f.u.getDocument()||_.isNull(p))c(Error("Document changed, or progress event not received"));else{g=f.u.O.jc(b);e.rg=!1;e.He=!!r;r?f.u.trigger("pageComplete",[x,p]):a.o.Ja.tk(x);a.o.Ja.Ui&&!f.Le&&f.YD(p,b,g);f.v.fi(e.request);$("#pageContainer"+(g.fb-1)).removeClass("loading");var d=-1!==f.nc.indexOf(x);f.v.Jp()&&d&&f.Wg(g.fb-1,e);c()}},drawProgressive:function(e){if(f.v!==f.u.getDocument())c(Error("Document changed"));
else{var g=f.u.O.jc(b),l=g.fb-1;n===g.zoom?(_.isUndefined(u)||(g=$(e),g.css("top",u.tv.y+"px"),g.css("left",u.tv.x+"px")),g=f.v.Kc(l),p=a.o.Ja.oz(e,l,n,k,v.getPageTransform(),g),r=!!f.u.Ol(p,l)):a.utils.warn("bad zoom: "+l);d(l)}},getPageTransform:function(){return f.u.aa.ak(g.fb-1)},onError:function(a){c(a)},useProgress:!f.Le,renderRect:_.isUndefined(u)?void 0:u.wk};e.request=-1;e.rg=!0;e.request=f.v.lg(v);var x=g.fb-1;f.Wg(x,e)}}},Wg:function(a,c){this.u.Wg(a);c.xs=!0},DE:function(){for(var b=[],
c=0;c<this.u.wc();++c){var d=this.u.O.eg(c);b.push(d)}this.BB(b);this.dn();a.o.Ja.Vm()},BB:function(a){var c=this;Object.keys(this.pc).forEach(function(d){if(-1===a.indexOf(d)){var f=c.ql[d];f&&(f.cancel(),f.tJ(),delete c.ql[d]);delete c.pc[d]}else c.pc[d].He=!1})},CB:function(b){this.v&&((this.Le=this.GB&&b>this.v.v.ru)&&1<a.utils.getCanvasMultiplier()?this.ae=0:this.ae=.5)},dn:function(b){var c=this,d={};"undefined"!==typeof b&&$.each(b,function(a,b){d[c.u.O.eg(b)]=!0});Object.keys(this.ql).forEach(function(b){b in
d&&a.o.Ja.Ui||c.Jk(b)});this.nq=!0;clearTimeout(this.Ou)},Jk:function(b){var c=this.zz(b);c&&(this.bc(b).rg&&(b=this.u.O.jc(b).fb-1,$(document.getElementById("pageContainer"+b)).find(".progressive").remove()),c.cancel(),a.o.Ja.Ps())},jv:function(a){this.GB=!!a},bB:function(){}};a.o.FC=g})(window);
(function(a){function g(a,b){this.Kg=!a;this.height=this.width=0;this.xf=null;a&&(this.width=b.width,this.height=b.height,this.rotation=b.rotation,this.Mc=b.fb-1,this.qh=a,this.zoom=b.zoom,this.pg=b.pg)}function d(a,b){this.K=b;this.index=a;this.height=b.reduce(function(a,b){return b.ua()>a?b.ua():a},0);this.width=b.reduce(function(a,b){return a+b.xa()},0)}function e(a){this.rows=a.rows;this.Ei=a.Ei;this.vg=a.vg;this.mc=a.mc;this.pk=a.pk;this.Xf=a.Xf;this.K=a.K;this.wf=a.wf;a=this.rows;this.width=
this.Xf.reduce(function(a,b){return a+b},2*this.vg*this.Ei);this.height=a.reduce(function(a,b){return a+b.ua()},this.rows.length*this.vg*2)}function b(a,b){var c=b.zoom,d=b.rotation,f=b.width*c,c=b.height*c,e=null;d===window.o.ra.ad||d===window.o.ra.Ld?(e="rotate("+90*d+"deg)",e=d===window.o.ra.ad?" translate("+f+"px, 0)  "+e:" translate(0,"+c+"px)  "+e,a.css("height",f),a.css("width",c)):(d===window.o.ra.ki&&(e="translate("+f+"px,"+c+"px) scale(-1,-1)"),a.css("width",f),a.css("height",c));null!==
e&&a.css({position:"absolute",transform:e,"transform-origin":"top left","ms-transform":e,"ms-transform-origin":"top left","-moz-transform":e,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":e,"-o-transform":e,"-o-transform-origin":"top left"})}function c(a,b,c){if(b)for(b=a-1;0<=b;--b)c(b);else for(b=0;b<a;++b)c(b)}function h(a,b,c){var d=document.createElement("div");d.id="pageContainer"+a.bh();2===c?0===b?d.style.marginLeft="auto":1===b&&(d.style.marginRight=
"auto"):(d.style.marginLeft="auto",d.style.marginRight="auto");d.className+=" pageContainer";return d}function f(a,b,c){var d=document.createElement("div");d.id="pageSection"+a.bh();d.style.cssFloat="left";d.style.position="relative";d.className+=" pageSection";d.appendChild(h(a,b,c));return d}function l(a,b,d){var e=document.createDocumentFragment(),g=a.qb();c(g.length,d,function(a){e.appendChild(f(g[a],a,b))});a=document.createElement("div");a.style.clear="both";e.appendChild(a);return e}function m(a,
c){if(c.pg){var d=c.pg,f=parseFloat(d.css("width")),e=parseFloat(d.css("height")),g=parseFloat(a.style.width)/f,h=d.attr("id");if(h&&0<=h.indexOf("hrthumb")){h=c.rotation;if(h===window.o.ra.ad||h===window.o.ra.Ld)g=parseFloat(a.style.width)/e;b(d,c)}d.each(function(){var b=$(this);b.css({top:parseFloat(b.css("top"))*g,width:f*g,height:e*g});a.appendChild(this)})}}function n(a,b,d,f,e,g){var h=b.qb(),l=a;c(h.length,e,function(a){if(!l)throw Error("Tried to update non-existent page section");var c=
l,e=h[a],k=b.ua();c.style.width=Math.floor(d[a])+"px";c.style.height=Math.floor(k)+"px";c.style.margin=f+"px";g||(a=c.firstChild,c=Math.floor(e.ua())+"px",a.style.width=Math.floor(e.xa())+"px",a.style.height=c,a.style.top=Math.floor(k-e.ua())/2+"px",a.className+=" loading",$(a).children().detach(),m(a,e));l=l.nextSibling});return l=l.nextSibling}function k(a,b,d){var f=b.qb(),e=a;c(f.length,d,function(a){if(!e)throw Error("Tried to skip non-existent page section");m(e.firstChild,f[a]);e=e.nextSibling});
return e=e.nextSibling}function q(a,b,d){var f=b.qb().length,e=a;b=document.createRange();c(f,d,function(){if(!e)throw Error("Tried to remove non-existent page section");e=e.nextSibling});d=e.nextSibling;b.setStartBefore(a);b.setEndAfter(e);b.deleteContents();return d}function p(a){this.Wf=[];this.state=a}g.ty=function(a,b){var c=new g(null,{});c.Mc="b"+a;c.width=0;c.height=0;c.zoom=b.zoom;c.rotation=0;c.pg=null;c.sG=b.width;c.wL=b.height;return c};g.prototype={Dz:function(){return this.xf},ig:function(){return this.zoom},
zc:function(){return this.rotation},xa:function(){return this.width*this.zoom},Lt:function(){var a=this.width;this.Kg&&(a=this.sG);return a*this.zoom},ua:function(){return this.height*this.zoom},bh:function(){return this.Mc},HG:function(a){return this.Kg&&a.Kg||this.qh===a.qh},ku:function(a){return this.Kg!==a.Kg||!this.Kg&&(this.qh!==a.qh||this.xa()!==a.xa()||this.ua()!==a.ua()||this.ig()!==a.ig()||this.zc()!==a.zc())}};d.prototype={qb:function(){return this.K},ua:function(){return this.height},
xa:function(){return this.width},bh:function(){return this.index},ku:function(a){var b=a.qb();return this.K.length!==a.qb().length||this.K.some(function(a,c){return a.ku(b[c])})},IG:function(a){var b=a.qb();return this.K.length===a.qb().length&&this.K.every(function(a,c){return a.HG(b[c])})}};e.prototype={qb:function(){return this.K},xa:function(){return this.width},ua:function(){return this.height},Dz:function(a){return this.rows[a]}};p.prototype={make:function(a,b,c){this.Wf.push({Cu:a,df:{xf:b,
lH:c}})},cE:function(a){var b=this,c=a.firstChild,d=[];a.style.width=Math.ceil(this.state.xa())+"px";this.Wf.forEach(function(f){switch(f.Cu){case "addRow":d=d.concat(f.df.xf.qb());c=b.Yx(c,f.df,a);break;case "updateRow":d=d.concat(f.df.xf.qb());c=b.DJ(c,f.df,a);break;case "updateColumns":c=b.xJ(c,f.df,a);break;case "skipRow":c=b.bJ(c,f.df,a);break;case "replaceRow":d=d.concat(f.df.xf.qb());c=b.XH(c,f.df,a);break;case "removeRow":c=b.KA(c,f.df,a);break;default:console.warn("Unsupported layout change operation:",
f.Cu)}});if(c&&"annoteditselectrect"!==c.id)throw Error("Nodes left after applying changes");d=d.filter(function(a){return!a.Kg}).map(function(a){return a.bh()});return{og:d}},RF:function(){var a=[];this.Wf.forEach(function(b){switch(b.Cu){case "updateRow":a=a.concat(b.df.xf.qb())}});return a.filter(function(a){return!a.Kg}).map(function(a){return a.bh()})},Yx:function(a,b,c){b=b.xf;var d=l(b,this.state.Xf.length,this.state.wf);n(d.firstChild,b,this.state.Xf,this.state.vg,this.state.wf);a?c.insertBefore(d,
a):c.appendChild(d);return a},DJ:function(a,b){return n(a,b.xf,this.state.Xf,this.state.vg,this.state.wf)},bJ:function(a,b){return k(a,b.xf,this.state.wf)},XH:function(a,b,c){a=this.KA(a,b);return this.Yx(a,b,c)},KA:function(a,b){return q(a,b.lH,this.state.wf)},xJ:function(a,b){return n(a,b.xf,this.state.Xf,this.state.vg,this.state.wf,!0)}};a.LF=function(a){var b=a.IJ,c=a.vg,f={width:0,height:0},h={width:0,height:0};b&&0<b.length&&(f={width:b[0].width,height:b[0].height,zoom:b[0].zoom},h={width:b[b.length-
1].width,height:b[b.length-1].height,zoom:b[b.length-1].zoom});var l=a.cJ||0,k=[],p;for(p=0;p<l;++p)k.push(g.ty(p,f));var k=k.concat(b.map(function(a){return new g(a.id,a)})),m=a.Ei;m>k.length&&(m=k.length);b=a.mc||0;f=Math.ceil(k.length/a.Ei);_.isUndefined(a.pk)||(f=a.pk<f?a.pk:f);var n=Array(m),l=k.reduce(function(a,b,c){var d;0===a.length?(d=[],a.push(d)):d=a[a.length-1];d.length===m&&(d=[],a.push(d));d.push(b);if(c===k.length-1&&(b=m-d.length,0<b))for(var f=0;f<b;++f)d.push(g.ty(c+f+1,h));return a},
[]).slice(b,b+f).map(function(a,b){var c=new d(b,a);c.qb().forEach(function(a,b){n[b]=n[b]?a.Lt()>n[b]?a.Lt():n[b]:a.Lt()});return c});return new e({rows:l,vg:c,Ei:m,mc:b,pk:f,Xf:n,K:k,wf:a.wf})};a.KF=function(a,b){var c=new p(b);if(!a)return b.rows.forEach(function(a){c.make("addRow",a,null)}),c;var d=a.rows,f,e=a.Xf,g=b.Xf;f=e.length===g.length?e.every(function(a,b){return a===g[b]}):!1;e=b.rows;e.forEach(function(a){var b=d[a.bh()];b?b.IG(a)?b.ku(a)?c.make("updateRow",a,b):f?c.make("skipRow",a,
b):c.make("updateColumns",a,b):c.make("replaceRow",a,b):c.make("addRow",a,b)});if(e.length<d.length)for(e=e.length;e<d.length;++e)c.make("removeRow",null,d[e]);return c};a.gl=g;a.rK=d;a.mK=e;a.lK=p})((window.o=window.o||{}).Zv={});
(function(a){var g=XODText,d=window.o,e={ew:"Single",Wk:"Continuous",Mv:"Facing",dr:"FacingContinuous",un:"Cover",vn:"CoverFacing",Af:"Custom"};d.nd=function(a,c,d){this.mode=null;this.u=a;this.Ic=this.uf=this.rb=null;this.ye=this.mc=0;this.mh=null;this.nc=[];this.sc={};a=c===e.Af;this.Bk=_.isUndefined(d)?!a:d;_.isNull(c)||_.isUndefined(c)||(this.mode=c)};d.nd.prototype={FI:function(a,c,d,f,g){this.mode=e.Af;this.rb=a;this.uf=c;this.Ic=d;this.mc=f;this.ye=g},sI:function(a){this.sc=a},hu:function(){return this.mode===
e.Wk||this.mode===e.dr||this.mode===e.un},Va:function(a,c){if(!this.mh)return-1;var d=this.mh.Dz(a-this.mh.mc);if(this.u.Ut())var f=this.mh.Ei,d=d.qb()[f-(c+1)];else d=d.qb()[c];return d&&_.isNumber(d.bh())?d.bh():-1},fd:function(a,c){if(this.sc.pageToWindow)return this.sc.pageToWindow(a,c);a=this.u.bG(a,c);var d=this.u.O.wd(c);return{x:a.x+d.dc,y:a.y+d.md}},oA:function(a,c){if(this.sc.pageToWindow)return this.sc.pageToWindow(a,c);a=this.u.cG(a,c);var d=this.u.O.wd(c);return{x:a.x+d.dc,y:a.y+d.md}},
Wi:function(b,c){if(this.sc.windowToPage)return this.sc.windowToPage(b,c);var d=this.u.lb(c),f=this.u.O.wd(c),e=new g.fc;e.x=b.x-f.dc;e.y=b.y-f.md;d=a.Dc(d,this.u.jf(c+1),{width:this.u.Pb(c),height:this.u.Ob(c)},0,!1);d=d.inverse();e=d.V(e);return{pageIndex:c,x:e.x,y:e.y}},JB:function(b,c){if(this.sc.windowToPage)return this.sc.windowToPage(b,c);var d=this.u.lb(c),f=this.u.O.wd(c),e=new g.fc;e.x=b.x-f.dc;e.y=b.y-f.md;d=a.Dc(d,this.u.zc(c+1),this.u.v.Kc(c),0,!1);d=d.inverse();e=d.V(e);return{pageIndex:c,
x:e.x,y:e.y}},vp:function(a,c){if(this.sc.getSelectedPages)return this.sc.getSelectedPages(a,c);var d=null,f=null;a=_.isUndefined(a)?this.u.Lc:a;c=_.isUndefined(c)?this.u.ub:c;a:for(var e=this.mc;e<this.ye;e++)for(var g=0;g<this.rb;g++){var n=this.Va(e,g);if(!(0>n)){var k=this.u.O.wd(n),q=k.dc,p=k.md,r=k.dc+k.width*this.u.zoom,k=k.md+k.height*this.u.zoom;null===d&&a.x<=r&&a.x>=q&&a.y<=k&&a.y>=p&&(d=n);null===f&&c.x<=r&&c.x>=q&&c.y<=k&&c.y>=p&&(f=n);if(null!==d&&null!==f)break a}}d>f&&(e=d,d=f,f=e);
return{first:d,last:f}},Pd:function(a,c){if(this.sc.getVisiblePages)return this.sc.getVisiblePages(a,c);if(0===$("#DocumentViewer").length)return[];for(var d,f=[],e=this.xn(a,c),g=this.xn(0,0),n=this.mc;n<this.ye;n++)for(var k=0;k<this.rb;k++)if(d=this.Va(n,k),!(0>d)){var q=this.rm(d,e,g);null!==q&&f.push({Mc:d,xA:q.wH})}f.sort(function(a,b){return b.xA-a.xA});d=f.length;for(e=0;e<d;++e)f[e]=f[e].Mc;return f},xn:function(a,c){a=_.isUndefined(a)?.5:a;c=_.isUndefined(c)?.5:c;var d=document.getElementById("DocumentViewer");
if(null===d)return[];var f=d.getBoundingClientRect(),e=f.width,g=f.height,n=d.scrollTop+f.top-g*a,d=d.scrollLeft+f.left-e*c;return{x1:d,y1:n,x2:d+e*(1+2*c),y2:n+g*(1+2*a)}},rm:function(b,c,d){var f=this.u.v.Kc(b),e=this.oA({x:0,y:0},b),g=this.oA({x:f.width,y:f.height},b),f=a.utils.normalizeRect(e,g);c=a.utils.getRectIntersection(f,c);if(c.x1!==c.x2){var n;d&&(d=a.utils.getRectIntersection(f,d),n=(d.x2-d.x1)*(d.y2-d.y1)/((f.x2-f.x1)*(f.y2-f.y1)));e=this.JB({x:c.x1,y:c.y1},b);g=this.JB({x:c.x2,y:c.y2},
b);return{wk:a.utils.normalizeRect(e,g),tv:{x:c.x1-f.x1,y:c.y1-f.y1},wH:n}}return null},ak:function(a){if(this.sc.getPageTransform)return this.sc.getPageTransform(a);a=this.u.jm(a);return{x:0,y:0,width:a.width,height:a.height}},Qt:function(){return{x:0,y:0}},Qj:function(){return d.Zv.LF({vg:this.u.qz(),IJ:this.u.O.Pd(),Ei:this.rb,mc:this.mc,pk:this.ye-this.mc,cJ:this.mode===e.un||this.mode===e.vn?1:0,wf:this.u.Ut()})},Ym:function(a){a?this.mode===e.Af?this.u.el.children().detach():this.cp(function(a){$(a).children().detach()}):
(this.mh=null,this.u.el.empty(),this.u.trigger("contentRemoved"))},ug:function(){if(this.sc.createPageSections)return this.Ym(!1),this.sc.createPageSections(),_.range(0,this.u.wc());var a=this;if(this.mode!==e.Af){var c=this.Qj(),g=d.Zv.KF(this.mh,c);g.RF().forEach(function(c){var d=document.getElementById("pageContainer"+c),d=a.u.IB?$(d).find("#hrthumb"+c):$(d).find(".canvas"+c+":not(.progressive)");0<d.length&&a.u.O.dv(c,d)});this.mh=c;c=g.cE(this.u.el.get(0)).og;this.u.ts(this.mh.ua());return c}return _.range(0,
this.u.wc())},cp:function(b){for(var c=this.u.el.get(0).firstChild;c;)a.utils.hasClass(c,"pageSection")&&b(c.firstChild),c=c.nextSibling},Je:function(){var a=this.u.O;this.cp(function(c){var d=c.parentNode,f=Number(c.id.slice(13));_.isNaN(parseInt(f))||a.CI(f,{dc:d.offsetLeft+c.offsetLeft,md:d.offsetTop+c.offsetTop})})}};d.Xk=function(b){if(!b)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.u=b;this.da=new a.o.nd(this.u,e.Wk)};d.Xk.prototype={Gb:function(){return this.da},
Yu:function(a){this.da.Ym();null===this.u.v?(this.da=a,this.u.trigger("displayModeUpdated")):(this.Jx(a),this.u.O.uh(this.u.ce()),this.u.trigger("zoomUpdated",this.u.ig()),this.u.Li(),this.da.hu()&&(this.ug(),this.da.Je()),this.u.xd(this.u.hc+1))},Jx:function(a){this.da=a;this.TC();this.u.O.Qs();this.u.trigger("displayModeUpdated")},TC:function(){var a=this.da.mode;_.isNull(a)||(a===e.ew?(this.da.rb=1,this.da.uf=Math.ceil(this.u.v.numPages/this.da.rb),this.da.Ic=Math.ceil(this.u.hc/this.da.rb),this.da.mc=
this.da.Ic,this.da.ye=this.da.Ic+1):a===e.Wk?(this.da.rb=1,this.da.uf=Math.ceil(this.u.v.numPages/this.da.rb),this.da.Ic=-1,this.da.mc=0,this.da.ye=this.da.uf):a===e.Mv?(this.da.rb=2,this.da.Ic=Math.floor(this.u.hc/this.da.rb),this.da.uf=Math.ceil(this.u.v.numPages/this.da.rb),this.da.mc=this.da.Ic,this.da.ye=this.da.Ic+1):a===e.dr?(this.da.rb=2,this.da.Ic=-1,this.da.uf=Math.ceil(this.u.v.numPages/this.da.rb),this.da.mc=0,this.da.ye=this.da.uf):a===e.un?(this.da.rb=2,this.da.Ic=-1,this.da.uf=Math.ceil((this.u.v.numPages+
1)/this.da.rb),this.da.mc=0,this.da.ye=this.da.uf):a===e.vn&&(this.da.rb=2,this.da.Ic=Math.floor(this.u.hc/this.da.rb),this.da.uf=Math.ceil(this.u.v.numPages/this.da.rb),this.da.mc=this.da.Ic,this.da.ye=this.da.Ic+1))},vp:function(a,c){return this.da.getSelectedPages(a,c)},Pd:function(a,c){return this.da.getVisiblePages(a,c)},rm:function(a,c,d){return this.da.rm(a,c,d)},fd:function(a,c){return this.da.pageToWindow(a,c)},Wi:function(a,c){return this.da.windowToPage(a,c)},ak:function(a){return this.da.getPageTransform(a)},
Qt:function(a){return this.da.getPageOffset(a)},Qj:function(){return this.da.Qj()},ug:function(a){return this.da.ug(a)},Ym:function(a){return this.da.Ym(a)},cp:function(a){return this.da.cp(a)},Je:function(){return this.da.Je()}};a.o.od=e})(window);
(function(a){function g(){}var d=window.o,e=XODText;g.prototype=Object.create(Error.prototype);d.fa=function(){var b=this;this.select=_.bind(this.select,this);this.wb=e.wb;this.el=$("#viewer");this.el.empty();this.v=null;this.defaults={FitMode:this.Re.er,DisplayMode:new a.o.nd(this,a.o.od.Wk),Zoom:1};this.UA();this.Qy=this.aE=this.Ul=!1;this.Qz=function(a,b){b(a)};a.o.or(5);this.Vv=function(a){this.trigger("mouseLeftUp",a);b.na&&b.na.mouseLeftUp&&b.na.mouseLeftUp(a);for(var d in b.links)if(b.links.hasOwnProperty(d)){a=
b.links[parseInt(d,10)];for(var f=0;f<a.length;++f)a[f].style&&(a[f].style.border="")}};this.Uv=function(a){this.trigger("mouseLeftDown",a);b.na&&b.na.mouseLeftDown&&b.na.mouseLeftDown(a)};this.Wv=function(a){this.trigger("mouseMove",a);b.na&&b.na.mouseMove&&b.na.mouseMove(a)};this.sC=function(a){this.trigger("click",a)};this.CC=function(a){this.trigger("tap",a);b.na&&b.na.tap&&b.na.tap(a)};this.uC=function(a){this.trigger("dblClick",a);b.na&&b.na.mouseDoubleClick&&b.na.mouseDoubleClick(a)};this.vC=
function(a){this.trigger("keyDown",a);b.na&&b.na.keyDown&&b.na.keyDown(a)};this.wC=function(a){this.trigger("keyUp",a);b.na&&b.na.OG&&b.na.OG(a)};this.tC=function(a){b.na&&b.na.contextMenu&&b.na.contextMenu(a)};this.xC=function(a){this.trigger("mouseEnter",a);b.na&&b.na.eH&&b.na.eH(a)};this.yC=function(a){this.trigger("mouseLeave",a);b.na&&b.na.mouseLeave&&b.na.mouseLeave(a)};this.zC=function(a){this.trigger("mouseRightDown",a);b.na&&b.na.Vp&&b.na.Vp(a)};this.AC=function(a){this.trigger("mouseRightUp",
a);b.na&&b.na.fH&&b.na.fH(a)};this.BC=function(a){b.na&&b.na.yA&&b.na.yA(a)}};d.fa.prototype={lE:function(){function b(b){e=!0;var d=c.v.qb()[b-1];if(d){var f,h,u=c.bd().Zg();if(g&&g!==d){for(f=0;f<u;++f)h=u[f],h.lh()&&h.pageNumber===n&&u[f].yd("PC",new a.Annotations.N.hb.Events.gl("Close",c,{}));g.yd("C",new a.Annotations.N.hb.Events.gl.create("Close",c,{}))}g=d;n=b;d.yd("O",new a.Annotations.N.hb.Events.gl.create("Open",c,{}));for(f=0;f<u;++f)h=u[f],h.lh()&&h.pageNumber===b&&u[f].yd("PO",new a.Annotations.N.hb.Events.gl("Close",
c,{}))}}var c=this;c.el.on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});c.el.on("touchstart",function(a){c.Uv(a)});c.el.on("touchmove",function(a){c.ub={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};c.Wv(a)});c.el.on("touchend",function(a){c.Vv(a);c.Tr=!1});c.el.on("pointerdown",function(a){c.BC(a)});c.el.dblclick(function(a){c.uC(a)});c.el.click(function(a){c.sC(a)});c.el.on("tap",function(a){c.CC(a)});$(window).on("keydown",function(a){c.vC(a)});
$(window).on("keyup",function(a){c.wC(a)});c.el.on("contextmenu",function(a){c.tC(a)});c.el.mouseenter(function(a){c.xC(a)});var d=c.el,f=c.Qb();0<f.length&&(d=f);d.mousedown(function(a){1===a.which?(c.Uv(a),c.Tr=!0):3===a.which&&(c.zC(a),c.qx=!0)});$(document).on("mouseup",function(a){1===a.which&&c.Tr?(c.Vv(a),c.Tr=!1):3===a.which&&c.qx&&(c.AC(a),c.qx=!1)});$(document).mousemove(function(a){c.ub={x:a.pageX,y:a.pageY};c.Wv(a)});c.el.mouseleave(function(a){c.yC(a)});if(c.aa.Gb().Bk)c.Qb().on("scroll",
_.bind(c.onscroll,c));$(a).on("resize",_.bind(c.resize,c));c.on("PAUSE",function(){c.Ha.pause()});c.on("RESUME",function(){c.Ha.resume()});var e=!1,g=null,n;c.on("documentReady",function(){c.v.yd("Init",new a.Annotations.N.hb.Events.Kv.create("Open",c,{}));c.v.yd("Open",new a.Annotations.N.hb.Events.Kv.create("Open",c,{}));e||b(1)});c.on("pageNumberUpdated",function(a,d){b(d);c.v.Oi({currentPage:d})});c.on("visiblePagesChanged",function(a,b){c.v.Oi({visiblePages:b});var d=_.intersection(b,c.Nl);d.length&&
(clearTimeout(c.bE),c.bE=setTimeout(function(){c.rh.je("DocumentViewer.renderRequest",{type:"annotations",pages:d})},80))})},resize:function(a){a&&a.target!==window||!this.v||!this.aa.Gb().Bk||(this.ce===this.Re.Zoom?(this.ts(),this.aa.Gb().Je(),this.onscroll()):(a=this.ce(),a!==this.O.rf?(this.Il(a),this.Ks()):(this.aa.Gb().Je(),this.Ks(),this.onscroll())))},Ks:function(){var a=this.Qb(),c=(a[0].scrollWidth-a.width()+this.tp())/2;a.scrollLeft(c)},hI:function(){this.resize()},py:function(){var a=
this;return this.Wo=this.Wo.then(function(){return a.v?(a.Li(!0),Promise.resolve(a.Jc()).then(function(){a.UA()})):Promise.resolve()})},UA:function(){this.v=null;this.Wo=Promise.resolve();this.Ha=new a.o.FC(this);this.aa=new a.o.Xk(this);this.aa.Yu(this.defaults.DisplayMode);this.ce=this.defaults.FitMode;this.QA=!1;this.hc=0;this.links={};this.di=[];this.O=new d.rr(null);this.ub=this.Lc=null;this.Uu=!1;this.margin=8;this.SA=this.TA=0;this.gn=new e.rd;this.Nc=this.xu=null;this.hA=this.vu=this.Kp=this.loop=
!1;this.iA=this.jA=null;this.sB="rgba(0, 0, 200, 0.3)";this.rh=new a.o.lj.hl;var b=this;this.rh.Nu("DocumentViewer.renderRequest",{read:function(a){a.Ds&&b.aa.Je();b.zJ();a=b.aa.Pd();b.Ha.Nk(a);return{nc:a,gI:b.JH()}},consolidateChanges:function(a){var b=a.filter(function(a){return"pages"===a.type}),d=a.filter(function(a){return"annotations"===a.type}),e=a.filter(function(a){return"layout"===a.type});a=a.filter(function(a){return"retainScroll"===a.type});var g=[];b.length&&g.push({type:"pages",pages:_.union.apply(null,
b.map(function(a){return a.pages||[]})),useVisiblePages:b.some(function(a){return!!a.useVisiblePages}),check:b.every(function(a){return!!a.check})});d.length&&g.push({type:"annotations",pages:_.union.apply(null,d.map(function(a){return a.pages||[]}))});e.length&&g.push({type:"layout",pages:_.union.apply(null,e.map(function(a){return a.pages||[]}))});return g=g.concat(a)},write:function(a,d){var f={Ds:!1};d.forEach(function(d){var e;"pages"===d.type?(e=d.useVisiblePages?_.union(a.nc,d.pages):_.intersection(a.nc,
d.pages),0<e.length&&(d.check?b.Ha.vE():b.Mk(e))):"annotations"===d.type?(e=_.intersection(a.nc,d.pages),b.Nl=_.without(b.Nl,e),e.forEach(function(a){b.Wg(a)})):"layout"===d.type?(f.Ds=!0,d.pages.forEach(function(a){b.O.dv(a,void 0)}),d=b.aa.ug().concat(d.pages),d.length&&(d.forEach(function(a){b.Ha.Bm(b.O.eg(a))}),b.rh.je("DocumentViewer.renderRequest",{type:"pages",pages:d})),b.Ha.CB(b.ig())):"retainScroll"===d.type&&b.OJ(a.gI)});return f}},{Ds:!0},!1);this.oa=new a.o.ga(this);this.cq=[];this.Nl=
[];this.Eo=null;this.Ml=Promise.resolve()},JH:function(){var a=this.mi()-1,c=this.Qb(),d=c.scrollLeft(),c=c.scrollTop(),f=document.getElementById("pageContainer"+a);f&&(d-=f.offsetLeft+f.parentNode.offsetLeft,c-=f.offsetTop+f.parentNode.offsetTop);return{Mc:a,x:d,y:c}},OJ:function(a){var c=document.getElementById("pageContainer"+a.Mc),d=a.x;a=a.y;c&&(d+=c.offsetLeft+c.parentNode.offsetLeft,a+=c.offsetTop+c.parentNode.offsetTop);this.scrollTo(d,a)},$B:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?
c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");});"docId"in c||(c.docId=null);"workerTransportPromise"in c||"pdf"!==c.type||(c.workerTransportPromise=d.Oz(c.pdfBackendType,c.workerHandlers,c.l));return c},EA:function(a){this.rh.je("DocumentViewer.renderRequest",{type:"layout",
pages:a});this.rh.je("DocumentViewer.renderRequest",{type:"retainScroll"})},bk:function(){return this.rh},HA:function(a){var c=this;this.cq=this.cq.concat(a);this.Eo||(this.Eo=setTimeout(function(){var d=c.cq;c.cq=[];c.Eo=null;c.Ml=c.Ml.then(function(){var a=d.map(function(a){return a+1});c.oa.IA(a);return c.getDocument().$l(a)}).then(function(d){return new Promise(function(e){c.oa.du(d.xfdfString,function(){c.Nl=c.Nl.concat(a);e()})})})},400))},nh:function(b,c){var e=this;c=e.$B(c);var f=new a.CoreControls.Document(c.docId,
c.type);this.$z=f;f.yf(e);var l=e.Wo.then(function(){return new Promise(function(a,d){f.nh(b,function(b){f!==e.$z?(f.Ke(),d(new g)):b?(c.onError(b),d(b)):null!==e.v?a(e.py().then(function(){return f})):a(f)},{annotsLoadedCallback:function(a){e.$z===f&&l.then(function(){e.Qz(a,function(a){if(!_.isUndefined(a)){var b=new Promise(function(a){e.on("documentReady.annotsLoaded",function(){a("ready")})});e.Ml=e.Ml.then(function(){return b});e.oa.du(a,function(){e.Ha.ZF().forEach(function(a){e.Wg(a)});e.trigger("documentReady")})}})})},
getPassword:c.getPassword,workerTransportPromise:c.workerTransportPromise,extension:c.extension})})}).then(function(b){e.v=b;e.O=new d.rr(b);e.defaults.FitMode===e.Re.Zoom&&e.O.uh(e.defaults.Zoom);e.v.on("bookmarksUpdated",function(){e.trigger("bookmarksUpdated")});e.O.on("layoutChanged",function(a,b){e.EA(b.contentChanged.map(function(a){return a-1}));var c=!1;0<b.added.length&&(e.HA(b.added.map(function(a){return a-1})),c=!0);0<b.removed.length&&(e.Ha.BB(e.v.km()),c=!0,e.hc>=e.wc()&&e.vo(e.wc()-
1));c&&e.aa.Yu(e.aa.Gb());0<b.contentChanged.length&&e.HA(b.contentChanged.map(function(a){return a-1}));e.trigger("layoutChanged",[b])});e.O.on("zoomChanged",function(a,b){e.IB=e.Ha.Le;e.Ha.CB(b)});e.oa.SH(e.O);e.trigger("beforeDocumentLoaded");c.type&&"xod"!==c.type||e.Ha.KI(!0);e.Ha.init();e.aa.Jx(e.aa.Gb());e.Qy||(e.Qy=!0,e.lE());if(e.aa.Gb().mode!==a.o.od.Af){e.O.uh(e.wo(e.ce));e.Li();e.aa.ug();e.aa.Je();e.Mk();b=e.Qb();var f=(b[0].scrollWidth+e.tp()-b.innerWidth())/2;b.scrollLeft(f)}e.trigger("documentLoaded");
1.2>=e.v.v.xg&&e.trigger("documentReady")})["catch"](function(a){if(!(a instanceof g))c.onError(a)})},Qb:function(){return $("#DocumentViewer")},dG:function(){return document.getElementById("DocumentViewer")},tp:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var d=$("div",a).innerWidth();$(a).remove();return c-d},
Jc:function(){var a=this;if(this.v)return clearTimeout(this.Eo),Promise.all([this.Ml,this.rh.Jc(),this.oa.TB(),this.Ha.Jc(),this.O.Jc()]).then(function(){a.off("documentReady.annotsLoaded");a.v.off();return a.v.Ke()})},Ob:function(a){var c=this.v.lm(a);return 90===c||270===c?this.v.Pb(a):this.v.Ob(a)},Pb:function(a){var c=this.v.lm(a);return 90===c||270===c?this.v.Ob(a):this.v.Pb(a)},lf:function(a){return this.v.lf(a)},bd:function(){return this.oa},xI:function(a){this.Qz=a},dm:function(){return this.aa},
Dq:function(b,c){a.o.Ja.Dq(b,c)},jd:function(a){"undefined"!==typeof a.enableAnnotations&&(this.Ul=a.enableAnnotations?!0:!1);"undefined"!==typeof a.annotMode&&(this.aE=a.annotMode?!0:!1)},ig:function(){return this.O.rf},qz:function(){return this.margin},zI:function(a){this.margin=a},wp:function(){return this.O.wp()},NI:function(a){this.sB=a},fG:function(){return this.na},zc:function(a){return _.isUndefined(a)?this.O.Bp:this.O.wd(a-1).rotation},jf:function(a){var c=this.zc(a);if(_.isUndefined(a))return c;
a=this.jp(a)/90;return(c+a)%4},JI:function(a,c){var d;0<=a&&3>=a&&(_.isUndefined(c)?(this.O.$u(a),this.O.xE()):(d=c-1,this.O.bn(d,a)),this.rotate(d))},jp:function(a){--a;return 0>a||_.isNaN(a)?0:this.v.lm?this.v.lm(a):0},DI:function(a){var c=this;Object.keys(a).forEach(function(d){c.O.bn(d,a[d])});this.Il(this.ce(),void 0,void 0,!0)},SF:function(){return this.O.GF()},getDocument:function(){return this.v},Fz:function(a){var c=null;this.Ha.Le&&(c=this.aa.Gb(),c=c.rm(a,c.xn(this.Ha.ae,this.Ha.ae)));
return c},$g:function(b){var c=this.v.Kc(b),d=this.lb(b),f=this.aa.ak(b),e,g=this.Fz(b);g&&(e=g.wk,f=g.tv);return a.o.Ja.$g(b,{width:c.width,height:c.height},d,this.zc(b+1),f,e,this.jp(b+1)/90)},BF:function(){return this.ce},Ut:function(){return this.QA},II:function(a){this.QA=a},UE:function(a){a.url?this.tL(a.url):a.isValid()?this.Rl(a.Gi,a.Ok,a.dk):console.warn("Tried to go to invalid bookmark destination")},Rl:function(a,c,d){if(this.aa.Gb().Bk){this.xd(a);var f=this.Pb(a-1),e=this.Ob(a-1);a=this.aa.fd({x:d>
f?0:0>d?0:d,y:c>e?0:0>c?0:c},a-1);c=this.Qb().offset();this.scrollTo(a.x-c.left,a.y-c.top)}else this.trigger("displayPageLocation",[a,c,d])},scrollTo:function(a,c){this.Qb().scrollLeft(a).scrollTop(c)},gJ:function(a,c,d){this.jA=a;this.iA=c;this.vu=!0;this.hA=d},jJ:function(a){var c=!1;if(null===this.xu||this.xu!==a)c=!0;if(null===this.loop||!0===this.loop)c=!0;this.xu=a;this.Nc!==this.hc&&(this.Nc=this.hc,c=!0);return c},vB:function(a,c,d,f){d=d||!1;for(var g=this,m=!0,n=0;n<a.length;++n){var k=
a.charCodeAt(n);if(!(1424<=k&&1535>=k||1536<=k&&1791>=k||1872<=k&&1919>=k||64336<=k&&65023>=k||65136<=k&&65279>=k)){m=!1;break}}m&&(a=a.split("").reverse().join(""));g.nM=g.hc;if(!0===this.Kp)this.gJ(a,c,d);else{m=d?function(){}:function(a){a.rq===e.vb.Sl?g.Hy(a):a.rq===e.vb.Xg&&g.trigger("notify","endOfDocumentSearch")};f=f||m;if(d||this.jJ(a))d?(m=this.Nc=0,n=this.v.numPages-1):0<(c&e.wb.nt)?(n=!0===this.loop?this.v.numPages-1:this.Nc,m=0):(m=!0===this.loop?0:this.Nc,n=this.v.numPages-1),this.gn.kE(this.v,
a,c,m,n);this.gn.setMode(c);this.lJ(d,f)}},lJ:function(a,c){function d(){function h(){n=[];m=g.gn.run(n);k=m.rq;m.dM=n;var d=m;d.ambient_str=m.$x;d.result_str=m.Su;d.result_str_start=m.PA;d.result_str_end=m.OA;d.page_num=m.Fu;d.resultCode=k;d.quads=n;if(k===e.vb.$o){if(g.gn.tf()?0<g.Nc&&g.Nc--:g.Nc<g.v.numPages-1&&g.Nc++,!0===g.vu){g.vu=!1;g.Kp=!1;setTimeout(function(){g.vB(g.jA,g.iA,g.hA,c)},0);return}}else k===e.vb.Sl?(g.O.Rs(),g.O.ZA(m.Fu,m.Su)):k!==e.vb.Xg||a||(g.loop=!0);c(d);k===e.vb.Xg||!a&&
k===e.vb.Sl?g.Kp=!1:null!==g.v.xz(g.Nc)?setTimeout(h,0):g.v.ge(g.Nc,f)}var k=-1;null!==g.v.xz(g.Nc)?setTimeout(h,0):g.v.ge(g.Nc,f)}function f(a){k===g.v&&(g.v.EI(g.Nc,a),d())}var g=this;this.Kp=!0;!0===this.loop&&(g.Nc=this.gn.tf()?this.v.numPages-1:0,this.loop=!1);var m,n=[],k=this.v;d()},Zz:function(a,c){a!==this.hc&&this.xd(a+1);if(0<c.length){c=c.map(function(a){return a.nf?a.nf():a});for(var d=c[0].y4,f=c[0].x4,e=c[0].y2,g=c[0].x2,n=1;n<c.length;n++)c[n].x4<f&&(f=c[n].x4),c[n].y4<d&&(d=c[n].y4),
c[n].x2>g&&(g=c[n].x2),c[n].y2>e&&(e=c[n].y2);var n=this.Qb(),k=n.scrollTop(),q=k+n.innerHeight(),p=n.scrollLeft(),r=p+n.innerWidth(),d=this.aa.fd({x:f,y:d},a),u=this.aa.fd({x:g,y:e},a),g=d.x<u.x?d.x:u.x,e=d.y<u.y?d.y:u.y,f=d.x>u.x?d.x:u.x,d=d.y>u.y?d.y:u.y;if(g<p||e<k||f>r||d>q)k=f-g,q=d-e,k=g-n.innerWidth()/2+k/2-n.offset().left,n=e-n.innerHeight()/2+q/2-n.offset().top,this.scrollTo(k,n)}},Hy:function(a,c){this.Ts();var d=a.page_num;this.O.Qs();this.O.$A(d,a.quads);"undefined"!==typeof c?c(d,a.quads):
this.Zz(d,a.quads);this.Uu=!0;this.wm(d)},jI:function(a,c,d){var f=new e.Ba;f.Xa(c.x,c.y,c.x+1,c.y+1);var g=this,m=new e.In(this.v),n=this.v;n.ge(a,function(){n===g.v&&(m.RD(a,f),d(a,m.Od(),m.Qa))})},Dk:function(a,c,d){if(c.constructor!==e.Ba){var f=new e.Ba;f.Xa(c.x1,c.y1,c.x2,c.y2);c=f}var g=this,m=new e.In(this.v),n=this.v;n.ge(a,function(){if(n===g.v){"rectangular"===Tools.Bb.SELECTION_MODE?m.kI(a,c):m.iI(a,c);var f=m.Qa,e=m.Od();d&&d(a,e,f)}})},iq:function(a,c,d){this.Uu=!1;this.O.ZA(a,d);this.O.$A(a,
c);this.trigger("textSelected",[c,d,a]);this.Ts();this.uG()},aF:function(a){this.wm(a-1)},wm:function(a){var c=this.O.wd(a).Kk;if(c&&0!==c.length){var d=this.$g(a);if(null!==d){for(var d=d.getContext("2d"),f=0;f<c.length;f++){var e=c[f];e.nf&&(e=e.nf());d.fillStyle=this.sB;d.beginPath();d.moveTo(e.x1,e.y1);d.lineTo(e.x2,e.y2);d.lineTo(e.x3,e.y3);d.lineTo(e.x4,e.y4);d.closePath();d.fill()}if(!this.Uu){var f={Od:function(){return c.map(function(a){return a.nf()})}},e=this.O.Pt(),g=!1,n=!1;a===e[0]&&
(g=!0);a===e[e.length-1]&&(n=!0);d.save();(new Annotations.Ih(f,!0,!1,g,n)).draw(d,f,this.lb(a));d.restore()}}}},uG:function(){var a=this;this.O.Pt().forEach(function(c){a.wm(c)})},select:function(a,c){if(null!==this.Lc&&null!==this.ub||a||c){this.O.Rs();var d;a&&c?(a.Mc=a.pageIndex,a.x=a.x,a.y=a.y,c.Mc=c.pageIndex,c.x=c.x,c.y=c.y,d={first:a.Mc,last:c.Mc}):(console.error("deprecated"),d=this.aa.vp());var f=d.first;d=d.last;if(null!==f&&null!==d){var g=new e.Ba,m=a?a:this.aa.Wi(this.Lc,f),n=c?c:this.aa.Wi(this.ub,
f),k;m.y>n.y&&(k=m,m=n,n=k);k=this.Pb(f);var q=this.Ob(f);1<=d-f?g.Xa(m.x,m.y,k,q):g.Xa(m.x,m.y,n.x,n.y);this.Dk(f,g,_.bind(this.iq,this));for(m=f+1;m<d;m++)g=new e.Ba,k=this.Pb(m),q=this.Ob(m),g.Xa(0,0,k,q),this.Dk(m,g,_.bind(this.iq,this));f!==d&&(m=a?a:this.aa.Wi(this.Lc,d),n=c?c:this.aa.Wi(this.ub,d),m.y>n.y&&(n=m),g=new e.Ba,g.Xa(0,0,n.x,n.y),this.Dk(d,g,_.bind(this.iq,this)))}}},oy:function(b){if(0!==this.wp().length||0!==this.O.Pt().length){var c=this.$g(b);null!==c&&(a.o.Ja.Ns(c,this.Pb(b),
this.Ob(b)),this.Ul&&this.oa.ac(b+1))}},Ts:function(){var a=this;this.Ha.nc.forEach(function(c){a.oy(c)})},ny:function(){this.O.Rs();this.O.Qs()},Ss:function(){this.Ts();this.ny();this.trigger("textSelected",[null,""])},bG:function(b,c){var d=this.lb(c),f=this.jf(c+1);b=a.Dc(d,f,{width:this.Pb(c),height:this.Ob(c)},null,!1).V(b);return{x:b.x,y:b.y}},cG:function(b,c){var d=this.lb(c),f=this.zc(c+1);b=a.Dc(d,f,this.v.Kc(c),0,!1).V(b);return{x:b.x,y:b.y}},Re:{er:function(){var a=this.tp(),c=this.Qb(),
d;d=1===this.aa.Gb().rb?this.O.wd(this.hc).width:this.aa.Qj().xa()/this.ig();return parseFloat(c.innerWidth()-a-this.margin*this.aa.Gb().rb*2)/(d+1)},Ov:function(){var a=this.Qb(),c=this.O.wd(this.hc),d=parseFloat(a.innerHeight()-2*this.margin)/c.height,c=1===this.aa.Gb().rb?c.width:this.aa.Qj().xa()/this.ig(),a=parseFloat(a.innerWidth()-this.tp()-this.margin*this.aa.Gb().rb*2)/(c+1);return d<a?d:a},Zoom:function(){this.ts();return this.O.rf}},OI:function(a){if(a&&this.na!==a){this.Ss();var c;this.na&&
(this.na.switchOut&&this.na.switchOut(a),c=this.na);a.switchIn&&a.switchIn(this.na);this.na=a;this.trigger("toolModeUpdated",[a,c])}},FJ:function(){var a=this.Qb();this.TA=parseFloat(a.scrollTop())/a[0].scrollHeight;this.SA=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},EJ:function(){var a=this.Qb(),c=this.TA*a[0].scrollHeight,a=this.SA*a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},Zu:function(b){null===this.v?(this.ce=b,this.trigger("fitModeUpdated",this.ce)):(b=this.wo(b),
this.aa.Gb().mode===a.o.od.Af?this.O.uh(b):b!==this.O.rf&&(this.Il(b),this.Ks()))},wo:function(a){this.ce=a;a=this.ce();this.trigger("fitModeUpdated",this.ce);return a},rotate:function(a){var c;_.isUndefined(a)||(c=a+1);this.Il(this.ce(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.jf(c),c])},ck:function(a,c){return c?(a+1)%4:(a-1+4)%4},$H:function(a){var c=this,d;_.isUndefined(a)?(this.O.$u(this.ck(this.zc(),!0)),this.O.Xy(function(a){a.rotation=c.ck(a.rotation,!0)})):(d=a-1,this.O.bn(d,
this.ck(this.zc(a),!0)));this.rotate(d)},aI:function(a){var c=this,d;_.isUndefined(a)?(this.O.$u(this.ck(this.zc(),!1)),this.O.Xy(function(a){a.rotation=c.ck(a.rotation,!1)})):(d=a-1,this.O.bn(d,this.ck(this.zc(a),!1)));this.rotate(d)},Il:function(a,c,d,f){this.O.uh(a);this.aa.Gb().Bk&&("undefined"!==typeof c&&"undefined"!==typeof d?(this.Li(),this.aa.ug(),this.aa.Je(),this.scrollTo(c,d)):(this.FJ(),this.Li(!1,f),this.aa.ug(),this.aa.Je(),this.EJ()),this.Ha.Ms(),this.Mk(),this.trigger("zoomUpdated",
this.O.rf))},Dv:function(a,c,d){this.wo(this.Re.Zoom);null===this.v?(this.O.uh(a),this.trigger("zoomUpdated",a)):this.Il(a,c,d)},XJ:function(a,c,d){this.wo(this.Re.Zoom);this.O.uh(a);a=this.Qb();c=this.ub.x-c;d=this.ub.y-d;var f=(parseFloat(a.scrollTop())+d)/a[0].scrollHeight,e=(parseFloat(a.scrollLeft())+c)/a[0].scrollWidth;this.Li();this.aa.ug();this.aa.Je();this.scrollTo(e*a[0].scrollWidth-c,f*a[0].scrollHeight-d);this.Mk();this.trigger("zoomUpdated",this.O.rf)},lb:function(a){return this.O.wd(a).zoom},
ev:function(a,c){var d=this.O.eg(a);this.Ha.YJ(d);this.O.ev(a,c)},Li:function(b,c){this.Ha.DE(this.O.rf,c);this.links=[];if(this.aa.Gb().mode!==a.o.od.Af){var d=this.Ha.nc;if(c)this.O.yE();else for(var f=0;f<d.length;f++){var e=d[f],g;g=this.IB?$("#pageContainer"+e).find("#hrthumb"+e):$("#pageContainer"+e).find(".canvas"+e+":not(.progressive)");0<g.length&&this.O.dv(e,g)}}this.aa.Ym(!b)},TH:function(a){if(this.aa.Gb().Bk){var c=$("#pageContainer"+a);c.children().detach();c.addClass("loading")}a in
this.links&&delete this.links[a]},vo:function(a){if(0>a||a>=this.O.K.length)return!1;this.hc!==a&&(this.hc=a,this.trigger("pageNumberUpdated",a+1));return!0},xd:function(b){if(!this.aa.Gb().Bk)this.trigger("changePage",b);else if(!1!==this.vo(parseInt(b,10)-1)){this.vy=!0;b=this.hc;var c=this.aa.Gb();c.hu()||c.mode===a.o.od.Af||(this.aa.Gb().mode===a.o.od.vn&&b++,c.Ic=Math.floor(parseFloat(b)/c.rb),c.mc=c.Ic,c.ye=c.Ic+1,this.aa.ug(),this.aa.Je());b=this.v.Kc(this.hc);var c=this.aa.fd({x:0,y:0},this.hc),
d=this.aa.fd({x:b.width,y:b.height},this.hc);b=c.x<d.x?c.x:d.x;c=c.y<d.y?c.y:d.y;d=this.Qb().offset();this.scrollTo(b-d.left,c-this.margin-d.top);this.Mk()}},mi:function(){return this.hc+1},wc:function(){return this.v.numPages},WE:function(){this.xd(this.O.K.length)},VE:function(){this.xd(1)},ts:function(a){a=a||this.aa.Qj().ua();var c=0,d=document.getElementById("docpad");if(null!==d){var f=this.dG(),f=f?parseFloat(f.style.height):0;f>a&&(c=Math.floor((f-a)/2));d.style.marginBottom=parseInt(c,10)+
"px"}},eE:function(b,c){var d=this.lb(c),f=this.O.wd(c),e=this.zc(c+1),g=f.width*d,d=f.height*d,f=null;e===a.o.ra.ad||e===a.o.ra.Ld?(f="rotate("+90*e+"deg)",f=e===a.o.ra.ad?" translate("+g+"px, 0)  "+f:" translate(0,"+d+"px)  "+f,b.css("height",g),b.css("width",d)):(e===a.o.ra.ki&&(f="translate("+g+"px,"+d+"px) scale(-1,-1)"),b.css("width",g),b.css("height",d));null!==f&&b.css({position:"absolute",transform:f,"transform-origin":"top left","ms-transform":f,"ms-transform-origin":"top left","-moz-transform":f,
"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":f,"-o-transform":f,"-o-transform-origin":"top left"})},cy:function(b,c,d,f){b.id=(f?"hrthumb":"thumb")+c;b.style.position="absolute";var e=$(b);this.eE(e,c);d&&(e.css("z-index",f?"10":"7"),d=$("#pageContainer"+c),0<d.length?0===d.find("#"+b.id).length&&d.prepend(b):a.utils.warn("appendThumb: Page container "+c+" missing"))},Wg:function(a){this.Ho(a);this.oy(a);this.GE(a);this.oa&&(this.AJ(a),this.oa.ac(a+
1,void 0,!0));this.wm(a)},Ol:function(b,c){var d=a.o.Ja.Ol(b,c);d||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.");return d},Ho:function(b){var c,d=this.Fz(b);d&&(c=d.wk);var d=this.v.Kc(b),f=this.jp(b+1);if(90===f||270===f)f=d.width,d.width=d.height,d.height=f;a.o.Ja.Ho(b,d,this.lb(b),this.jf(b+1),c)},tq:function(b,c){a.o.Ja.tq(b,c)},GE:function(b){var c=this.v.Kc(b),d=c.width,c=c.height,f=this.v.lm(b);if(90===f||270===f)f=d,d=c,c=f;var f=this.lb(b)/a.utils.getCanvasMultiplier(),
d=d*f,c=c*f,e=a.Dc(1,this.jf(b+1),{width:d,height:c}),f=$("#pageWidgetContainer"+b);0===f.length&&(f=$('<div id="pageWidgetContainer'+b+'" />'),a.o.Ja.Gz(b).append(f));e="matrix("+e.m_a.toFixed(10)+","+e.m_b.toFixed(10)+","+e.m_c.toFixed(10)+","+e.m_d.toFixed(10)+","+e.m_h.toFixed(10)+","+e.m_v.toFixed(10)+")";b=this.aa.Qt(b);f.css({position:"absolute",top:b.y,left:b.x,width:d,height:c,"z-index":40,transform:e,"transform-origin":"top left","-webkit-transform":e,"-webkit-transform-origin":"top left",
"-ms-transform":e,"-ms-transform-origin":"top left","-moz-transform":e,"-moz-transform-origin":"top left",overflow:"hidden"});return f},jm:function(a){return this.O.wd(a)},OH:function(){this.trigger("layoutChanged",{contentChanged:_.range(1,this.wc()+1),removed:[],added:[],moved:{}});this.Ha.Ms()},PH:function(a){this.trigger("layoutChanged",{contentChanged:[a],removed:[],added:[],moved:{}});this.Ha.Bm(this.jm(a-1).id)},AJ:function(a){a=this.v.QF(a);_.isArray(a)&&this.oa.Jj(a,!0)},Mk:function(a,c){_.isUndefined(c)||
this.vo(c);this.Nk(a);this.Ha.$s(a)},Nk:function(a){a=a||this.aa.Pd();var c=this.Ha.hE(a);this.Ha.Nk(a);c&&this.trigger("visiblePagesChanged",[a])},Jk:function(a){this.Ha.Jk(a)},onscroll:function(){this.v&&this.rh.je("DocumentViewer.renderRequest",{type:"pages",useVisiblePages:!0,check:!0})},rG:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},pG:function(a){return 0<$("#pageContainer"+a).find("#hrthumb"+a).length},zJ:function(){if(this.vy)this.vy=!1;else{var b=0,c;this.Nk();for(var d=
this.Ha.nc,e=0;e<d.length;e++){var g=this.Qb(),m=g.scrollTop(),n=m+g.innerHeight(),k=g.scrollLeft(),g=k+g.innerWidth(),n={x1:k,y1:m,x2:g,y2:n},g=d[e];0>g||(m=this.v.Kc(g),k=this.aa.fd({x:0,y:0},g),g=this.aa.fd({x:m.width,y:m.height},g),n=a.utils.getRectIntersection(n,{x1:k.x<g.x?k.x:g.x,y1:k.y<g.y?k.y:g.y,x2:k.x>g.x?k.x:g.x,y2:k.y>g.y?k.y:g.y}),m=parseFloat((n.x2-n.x1)*(n.y2-n.y1))/(m.width*m.height),m>b&&(c=d[e],b=m))}0<b&&this.vo(c)}},jv:function(a){this.Ha.jv(a)},bB:function(){}};$.extend(d.fa.prototype,
a.utils.eventHandler);Object.defineProperty(d.fa.prototype,"zoom",{get:function(){return this.ig()},set:function(a){this.O.uh(a)}});a.o=a.o||{}})(window);window.o.fa.prototype.version="2.2.1.49105";
(function(a){var g=a.Annotations||{};a.Annotations=g;g.N=g.N||{};g.N.Yk=function(a){this.$a={};this.Es=[];this.oa=a;this.Sr=!1;this.mv=this.cx=!0};g.N.Yk.prototype={pI:function(a){this.Es=a},kb:function(a){if(!a)return null;a=a.split(".");var e=this.$a[a[0]];if(e)for(var b=1;b<a.length&&(e=e.Gt(a[b]),e);++b);return e?e:null},qs:function(a,e){if(e){var b=this.qp(a.name);b.set(a);a=b;a.widgets.forEach(function(b){b.XA(a)});a.off("change")}else b=a.name.split("."),1===b.length?this.$a[a.name]=a:this.qp(b.slice(0,
-1).join(".")).Vx(new g.N.ba(a.name,a));a.set({fieldManager:this});this.oa&&a.yf(this.oa.u);a.on("change",_.bind(this.qt,this));return a},Ko:function(a,e){if(!this.Sr&&this.mv){this.Sr=!0;var b=this.Es;if(!e||this.cx)e=0,this.cx=!1;for(var c=e;c<b.length;++c){var g=b[c],f=this.kb(g);f?f.trigger("calculate",[a]):console.warn("Non-existent field referenced in calculation order",g,f)}this.Sr=!1}},qt:function(a,e){this.Ko(e,0);this.oa.trigger("fieldChanged",[e,e.value])},qp:function(d){if(!d)return null;
d=d.split(".");var e=this.$a[d[0]];e||(e=new a.Annotations.N.ba(d[0],{fieldManager:this}),e.on("change",_.bind(this.qt,this)),this.$a[d[0]]=e);for(var b=1;b<d.length;++b){var c=d[b],g=e.Gt(c);g?e=g:(g=new a.Annotations.N.ba(e.name+"."+c,{fieldManager:this}),e.Vx(g),e=g,e.on("change",_.bind(this.qt,this)))}this.oa&&e.yf(this.oa.u);return e},kn:function(a){this.yt(function(e){e.yv(a)})},yt:function(a){var e=this;Object.keys(this.$a).forEach(function(b){a(e.$a[b])})},Jc:function(){this.yt(function(a){a.off()})}}})(window);
(function(a){a.Annotations||(a.Annotations={});var g=a.Annotations;g.N=g.N||{};g.N.ba=function(d,e){if(e instanceof g.N.ba)return e;a.Actions.Bf.call(this,e);this.te=d;this.Wd=[];this.we=[];this.Wh=!1;this.hf=null;this.xj=new g.Df;this.Cb=new g.Ig({mask:["ReadOnly","Required","NoExport"]});this.Of=-1;this.Db||(this.Db=new g.N.ba.sb(this));this.initialize(e);this.on("calculate",_.bind(this.Ko,this));this.on("commit",_.bind(this.Us,this))};g.N.ba.prototype={initialize:function(a){_.isObject(a)&&(a.type&&
this.dB(a.type),_.isArray(a.children)&&$.extend(this.Wd,a.children),a.widgets&&$.extend(this.we,a.widgets),a.fieldManager&&(this.hf=a.fieldManager),a.font&&this.xj.set(a.font),_.isUndefined(a.maxLen)||(this.Of=Number(a.maxLen)),this.Db.set(a))},set:function(a){this.initialize(a);_.isObject(a)&&_.isObject(a.actions)&&this.Ao(a.actions)},Yy:function(a){this.we.forEach(a)},dB:function(a){"Tx"===a?this.Db=new g.N.ba.qr(this,this.Db):"Ch"===a?this.Db=new g.N.ba.Yq(this,this.Db):"Btn"===a?this.Db=new g.N.ba.Vq(this,
this.Db):"Sig"===a?this.Db=new g.N.ba.pr(this,this.Db):console.warn("Unrecognised field type: "+a);this.yo=a},me:function(a){this.we.forEach(function(e){e.me(a)})},gz:function(){return this.Wd},JG:function(){return 0===this.Wd.length},ZD:function(d,e){if(-1===this.we.indexOf(d))if(_.isUndefined(e))this.we.push(d);else{this.we[e]=d;for(var b=0;b<this.we.length;++b)this.we[b]||(this.we[b]=new a.Annotations.sa(this,{}))}},De:function(a){this.Db.De(a)},mb:function(a,e){this.Db.mb(a,e)},Na:function(){return this.Db.Na()},
em:function(){return this.Db.em()},jd:function(a){this.Db.jd(a)},Bo:function(a,e){this.Db.Bo(a,e)},dg:function(){return this.Db.dg()},yq:function(a){this.Db.yq(a)},cm:function(){return this.Db.cm()},Rt:function(){var a=this.te.split(".");return a[a.length-1]},TF:function(){var a,e=this.te.split(".");1<e.length&&(a=e.slice(0,e.length-1).join("."));return a},yv:function(a,e){var b=this.Rt();(e=(e?e+".":"")+b)||(e="");if(this.JG()){if(a.Lm){var c=!0;a.ap&&(a.ap(this)||(c=!1));c&&a.Lm(e,b,this)}}else{var g;
a.ap?(g=[],this.Wd.forEach(function(b){a.ap(b)&&g.push(b)})):g=this.Wd;0<g.length&&(a.$p&&a.$p(e,b,this),g.forEach(function(b){b.yv(a,e)}),a.Bu&&a.Bu(e,b,this))}},Gt:function(a){for(var e=this.Wd,b=e.length,c=0;c<b;++c){var g=e[c];if(g.Rt()===a)return g}if(a.match(/^\d+$/))return this.we[parseInt(a)]},removeChild:function(a){a=this.Wd.indexOf(a);-1!==a&&this.Wd.splice(a,1)},Vx:function(a){var e=this.Gt(a.Rt());e&&this.removeChild(e);this.Wd.push(a)},MA:function(){this.mb(this.cm())},Ko:function(d,
e){var b=new a.Annotations.N.hb.Events.ba.create("Calculate",this,{value:this.value,source:e,rc:!0}),c=this.Na();this.yd("C",b);var g=this.KL;this.Of=-1;var f=b.value;b.rc&&f!==c&&this.mb(f);this.Of=g},Mu:function(){this.Yy(function(a){a.refresh()})},Us:function(d,e,b){d=a.Annotations.N.hb.Events.ba.create("Keystroke",this,{value:e,change:"",willCommit:!0,selStart:-1,selEnd:-1});this.yd("K",d);d.rc&&(e=a.Annotations.N.hb.Events.Yj(d),d=new a.Annotations.N.hb.Events.ba.create("Validate",this,{value:e}),
this.yd("V",d),d.rc&&this.mb(d.value,b))},kd:function(a){this.Db.kd(a)}};$.extend(g.N.ba.prototype,Object.create(a.utils.eventHandler));Object.defineProperties(g.N.ba.prototype,{name:{get:function(){return this.te}},value:{get:function(){return this.Na()},set:function(a){this.mb(a)}},widgets:{get:function(){return this.we}},children:{get:function(){return this.Wd}},options:{get:function(){return this.dg()},set:function(a){this.jd(a)}},exportValue:{get:function(){return this.em()}},actions:{get:function(){return this.li()}},
defaultValue:{get:function(){return this.cm()},set:function(a){this.yq(a)}},flags:{get:function(){return this.Db.Cb}},IsModified:{set:function(a){a!==this.Wh&&this.Wd.forEach(function(e){e.IsModified=a});this.Wh=a},get:function(){return this.Wh||this.Wd.reduce(function(a,e){return a||e.IsModified},!1)}},font:{get:function(){return this.xj}},maxLen:{get:function(){return this.Of},set:function(a){this.Of=Number(a);-1!==this.Of&&this.mb(this.Na())}},type:{get:function(){return this.yo}}});$.extend(g.N.ba.prototype,
a.Actions.Bf.prototype);g.N.ba.sb=function(a){this.Ia=a;this._value=this.Lr="";this.Cb=new g.Ig({mask:["ReadOnly","Required","NoExport"]})};g.N.ba.sb.prototype={mb:function(d,e){var b=this.Ia;"number"===typeof d&&(d=a.Annotations.ea.toFixed(d,6));var c=this._value!==d;this.kd(d);c&&(d=this._value,this.iv(d,e),b.IsModified=!0,b.trigger("change",[b]))},iv:function(a){this.Ia.Yy(function(e){e.mb(a)})},kd:function(a){this._value=a},De:function(a){this.kd(a)},set:function(a){_.isObject(a)&&(_.isNull(a.value)||
_.isUndefined(a.value)||(this._value=a.value),_.isNull(a.defaultValue)||_.isUndefined(a.defaultValue)||(this.Lr=a.defaultValue),a.flags&&(_.isArray(a.flags)?this.Cb.set(a.flags,!0):_.isObject(a.flags)&&this.Cb.set(a.flags.toArray(),!0)))},Na:function(){return this._value},cm:function(){return this.Lr},yq:function(a){this.Lr=a},Bo:function(){},dg:function(){return null},jd:function(){},em:function(){return this._value}};Object.defineProperties(g.N.ba.sb.prototype,{value:{get:function(){return this.Na()},
set:function(a){this.mb(a)}},defaultValue:{get:function(){return this.cm()},set:function(a){this.yq(a)}}});g.N.ba.qr=function(a,e){if(e instanceof g.N.ba.qr)return e;g.N.ba.sb.call(this,a);this.Cb.Yl("Multiline Password FileSelect DoNotSpellCheck DoNotScroll Comb RichText".split(" "));this.set(e)};g.N.ba.qr.prototype=$.extend(Object.create(g.N.ba.sb.prototype),{kd:function(a){var e=this.Ia.maxLen;-1===e||_.isNull(a)||(a=String(a),a.length>e&&(a=a.slice(0,e)));g.N.ba.sb.prototype.kd.call(this,a)}});
g.N.ba.Yq=function(a,e){if(e instanceof g.N.ba.Yq)return e;g.N.ba.sb.call(this,a);this.Cb.Yl("Combo Edit Sort MultiSelect DoNotSpellCheck CommitOnSelChange".split(" "));this.Zd=[];this.set(e)};g.N.ba.Yq.prototype=$.extend(Object.create(g.N.ba.sb.prototype),{set:function(a){_.isObject(a)&&a.options&&this.jd(a.options);g.N.ba.sb.prototype.set.call(this,a)},PF:function(a){for(var e=0;e<this.Zd.length;++e){var b=this.Zd[e];if(b.value===a)return b}return null},kd:function(a){this.Cb.get("Edit")||!_.isNull(this.PF(a))?
g.N.ba.sb.prototype.kd.call(this,a):(a=this.Zd[0])?g.N.ba.sb.prototype.kd.call(this,a.value):g.N.ba.sb.prototype.kd.call(this,null)},dg:function(){return this.Zd},Bo:function(a,e){for(var b=this.Zd,c=0;c<b.length;++c)if(b[c].value===b.value)return;this.Zd.splice(e,0,a);this.Cb.get("Combo")||this.mb(a.value)},jd:function(a){this.Zd=a.map(function(a){var b=a.value;a=a.displayValue;return{value:b,displayValue:_.isUndefined(a)?b:a}})}});g.N.ba.Vq=function(a,e){if(e instanceof g.N.ba.Vq)return e;g.N.ba.sb.call(this,
a);this.Cb.Yl(["NoToggleToOff","Radio","PushButton","RadiosInUnison"]);this.Zd=null;this.set(e);""===this._value&&(this._value="Off")};g.N.ba.Vq.prototype=$.extend(Object.create(g.N.ba.sb.prototype),{set:function(a){g.N.ba.sb.prototype.set.call(this,a);_.isObject(a)&&a.options&&this.jd(a.options)},dg:function(){return this.Zd},De:function(a){(""===this._value||"Off"!==a||this.Ia.widgets.every(function(a){return!a.appearance}))&&g.N.ba.sb.prototype.De.call(this,a)},kd:function(a){"Off"!==a?""===a?
g.N.ba.sb.prototype.kd.call(this,"Off"):g.N.ba.sb.prototype.kd.call(this,a):this.Cb.get("NoToggleToOff")&&this.Cb.get("Radio")||g.N.ba.sb.prototype.kd.call(this,a)},em:function(){return this.Zd?this.Zd[Number(this.Na())]:g.N.ba.sb.prototype.em.call(this)},jd:function(a){this.Zd=a.slice()},iv:function(a,e){g.N.ba.sb.prototype.iv.call(this,a,e)}});g.N.ba.pr=function(a,e){if(e instanceof g.N.ba.pr)return e;g.N.ba.sb.call(this,a);this.set(e)};g.N.ba.pr.prototype=$.extend(Object.create(g.N.ba.sb.prototype),
{})})(window);
(function(a){function g(a){return _.isArray(a)?a.map(g).join(" "):_.isNumber(a)?a.toString():_.escape(String(a))}function d(a,b,c,d){c!==d&&a.writeAttributeString(b,g(c))}function e(a,b,c){var e=c.Zm||[];c=c.qk||{};for(var f=0;f<e.length;++f){var h=e[f],l=b[h];_.isUndefined(b)?console.warn("Required attribute: "+h+" is undefined"):a.writeAttributeString(h,g(l))}for(var m in c)c.hasOwnProperty(m)&&d(a,m,b[m],c[m])}function b(a,b,f,h){h=h||"actions";var l=Object.keys(b);if(0<l.length){a.writeStartElement(h);for(h=
0;h<l.length;++h)a.writeStartElement("action"),a.writeAttributeString("trigger",_.escape(l[h])),b[l[h]].forEach(function(b){var h=b.name;switch(h){case "JavaScript":a.writeStartElement("javascript");a.writeString(g(b.javascript));a.writeEndElement();break;case "ResetForm":a.writeStartElement("reset-form");e(a,b,{Zm:["exclude"]});b.fields&&c(a,b.fields);a.writeEndElement();break;case "SubmitForm":a.writeStartElement("submit-form");e(a,b,{Zm:["url","format"],qk:{method:"POST",exclude:!1}});h=b.flags.toArray();
0<h.length&&a.writeAttributeString("flags",g(h));b=b.fields;0<b.length&&c(a,b);a.writeEndElement();break;case "GoTo":a.writeStartElement("goto");a.writeStartElement("dest");b=b.dest;e(a,b,{Zm:["fit","page"],qk:{zoom:void 0}});var l=f(b.page).inverse(),h=b.top||0,k=b.left||0,p=b.bottom||0,m=b.right||0,k=l.V({x:k,y:h}),l=l.V({x:m,y:p}),h=_.isUndefined(b.top)?null:k.y,k=_.isUndefined(b.left)?null:k.x,m=_.isUndefined(b.right)?null:l.x,p=_.isUndefined(b.bottom)?null:l.y;d(a,"top",h,null);d(a,"left",k,
null);d(a,"right",m,null);d(a,"bottom",p,null);a.writeEndElement();a.writeEndElement();break;case "URI":a.writeStartElement("uri");e(a,b,{Zm:["uri"]});a.writeEndElement();break;case "Hide":a.writeStartElement("hide");e(a,b,{qk:{hide:!0}});c(a,b.fields);a.writeEndElement();break;case "Named":a.writeStartElement("named");a.writeAttributeString("name",_.escape(b.action));a.writeEndElement();break;default:console.warn("Unrecognised action name"+h)}}),a.writeEndElement();a.writeEndElement()}}function c(a,
b,c){c||(c="fields");a.writeStartElement(c);c=b.length;for(var d=0;d<c;++d){var e=a,f=b[d];e.writeStartElement("ffield");e.writeAttributeString("name",_.escape(f));e.writeEndElement()}a.writeEndElement()}function h(a,b,c,e){if(e||!b.Xz())a.writeStartElement(c),d(a,"r",b.R,0),d(a,"g",b.G,0),d(a,"b",b.B,0),d(a,"a",b.A,1),a.writeEndElement()}function f(a,b,c){if(b&&(0!==b.size||""!==b.name||"Type1"!==b.type||!b.xi())){a.writeStartElement("font");e(a,b,{qk:{type:"Type1",name:""}});var f=b.size,g=c.inverse();
c=g.V({x:0,y:0});g=g.V({x:f,y:0});f=c.x-g.x;c=c.y-g.y;d(a,"size",Math.sqrt(f*f+c*c),0);c=b.fillColor;c.xi()||h(a,c,"fill-color",!0);b=b.strokeColor;b.xi()||h(a,b,"stroke-color",!0);a.writeEndElement()}}function l(a,b,c){a.writeStartElement("aappearance");a.writeAttributeString("name",b);Object.keys(c).forEach(function(b){a.writeStartElement(b);a.writeString(g(c[b]||""));a.writeEndElement()});a.writeEndElement()}a.Ue=a.Ue||{};var m=a.Ue;m.parse=function(a,b,c,d){var e={calculationOrder:[],widgets:[],
fields:{},pages:[],documentActions:{}},f=a.la();"pdf-info"!==f?(console.warn("pdf-info missing. found: "+f),c(e)):(f=a.J("version"),"1"===f?m.YC.parse(a,b,c,d):"2"===f?m.ZC.parse(a,b,c,d):(console.warn("PDFInfo version is incorrect: "+f),c(e)))};m.write=function(a,k,m){a.writeStartElement("pdf-info");a.writeAttributeString("xmlns","http://www.pdftron.com/pdfinfo");a.writeAttributeString("version","2");var p=k.calculationOrder;_.isArray(p)&&0<p.length&&c(a,p,"calculation-order");b(a,k.documentActions,
m,"document-actions");p=k.pages;if(0<p.length){a.writeStartElement("pages");for(var r=0;r<p.length;++r){var u=a,w=p[r],v=m;u.writeStartElement("page");u.writeAttributeString("number",g(w.number));b(u,w.actions,v);u.writeEndElement()}a.writeEndElement()}r=k.fields;u=Object.keys(r);for(p=0;p<u.length;++p){var w=a,x=r[u[p]],v=m;w.writeStartElement("ffield");e(w,x,{qk:{},Zm:["type","name"]});var z=x.flags.toArray();0<z.length&&w.writeAttributeString("flags",g(z));z=x.maxLen;-1!==z&&w.writeAttributeString("max-len",
g(z));b(w,x.li(),v);(z=x.defaultValue)&&w.writeElementString("default-value",g(z));f(w,x.font,v(1));v=w;if((x=x.options)&&0<x.length){v.writeStartElement("options");for(var z=x.length,C=0;C<z;++C){v.writeStartElement("option");var A=x[C].displayValue,D=x[C].value;A===D||_.isUndefined(A)||v.writeAttributeString("display-value",g(A));v.writeAttributeString("value",g(D));v.writeEndElement()}v.writeEndElement()}w.writeEndElement()}k=k.widgets;for(p=0;p<k.length;++p){r=a;u=k[p];w=m;r.writeStartElement("widget");
e(r,u,{qk:{appearance:"",rotation:0,quadding:"Left-justified"}});v=u;v=v.kb().widgets.indexOf(v);v=g(v);"0"!==v&&r.writeAttributeString("index",v);r.writeAttributeString("field",g(u.kb().name));v=u.flags.toArray();0<v.length&&r.writeAttributeString("flags",g(v));z=u.PageNumber;r.writeAttributeString("page",g(z));v=r;x=u.rect;z=w(z);v.writeStartElement("rect");C=z.inverse();z=C.V({x:x.x1,y:x.y1});x=C.V({x:x.x2,y:x.y2});C={};C.x1=_.min([z.x,x.x]);C.x2=_.max([z.x,x.x]);C.y1=_.min([z.y,x.y]);C.y2=_.max([z.y,
x.y]);v.writeAttributeString("x1",g(Number(Number(C.x1).toFixed(4))));v.writeAttributeString("x2",g(Number(Number(C.x2).toFixed(4))));v.writeAttributeString("y1",g(Number(Number(C.y1).toFixed(4))));v.writeAttributeString("y2",g(Number(Number(C.y2).toFixed(4))));v.writeEndElement();v=r;!(x=u.border)||x.color.Xz()&&1===x.width&&"Solid"===x.style||(v.writeStartElement("border"),d(v,"width",x.width,1),d(v,"style",x.style,"Solid"),x=x.color,x.xi()||h(v,x,"color",!0),v.writeEndElement());h(r,u.backgroundColor,
"background-color");b(r,u.li(),w);v=r;x=u.appearances;z=Object.keys(x);if(0<z.length){v.writeStartElement("appearances");C=z.length;for(A=0;A<C;++A)D=z[A],l(v,D,x[D]);v.writeEndElement()}v=r;x=u;x.nG()&&(v.writeStartElement("extra"),f(v,x.font,w(1)),v.writeEndElement());w=r;u=u.captions;v=u.Rollover;x=u.Down;if(u.Normal||v||x)w.writeStartElement("captions"),d(w,"Normal",u.Normal,""),d(w,"Rollover",u.Rollover,""),d(w,"Down",u.Down,""),w.writeEndElement();r.writeEndElement()}a.writeEndElement()}})(window);
(function(a){function g(a){var b=[];for(a.ja();a.advance();){var c=a.la();"field"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.pa();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function e(a,b){var c=a.la();switch(c){case "javascript":return{name:"JavaScript",javascript:a.cd()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":c=null;a.ja();if(a.advance()){var e=a.J("fit"),c={page:a.J("page"),fit:e};if("0"===c.page)console.warn("null page encountered in dest");
else{var f=b(Number(c.page));switch(e){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=f.V({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":c.left=f.V({x:a.J("left")||0,y:0}).x;break;case "FitR":e=f.V({x:a.J("left")||0,y:a.J("top")||0});f=f.V({x:a.J("right")||0,y:a.J("bottom")||0});f=new Annotations.Rect(e.x,e.y,f.x,f.y);c.top=f.y1;c.left=f.x1;c.bottom=f.y2;c.right=f.x2;break;case "XYZ":e=f.V({x:a.J("left")||0,y:a.J("top")||0});c.top=e.y;c.left=e.x;c.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
e)}}c={name:"GoTo",dest:c}}else console.KJ("missing dest in GoTo action");a.pa();return c;case "submit-form":c={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:d(a.J("exclude"),!1)};f=a.J("flags");c.flags=f?f.split(" "):[];for(a.ja();a.advance();)switch(f=a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised submit-form child: "+f)}a.pa();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.J("exclude"),!1)};for(a.ja();a.advance();)switch(f=
a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised reset-form child: "+f)}a.pa();return c;case "hide":c={name:"Hide",hide:d(a.J("hide"),!0)};for(a.ja();a.advance();)switch(f=a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised hide child: "+f)}a.pa();return c;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ja();a.advance();){var f=a.la();
switch(f){case "action":f=a.J("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ja();a.advance();){var g=e(a,c);_.isNull(g)||d[f].push(g)}a.pa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.pa();return d}function c(a){return"calculation-order"===a.la()?g(a):[]}function h(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function f(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
f=a.J("size"),e=b.V({x:0,y:0}),g=b.V({x:Number(f),y:0}),f=e.x-g.x,e=e.y-g.y,c={name:c,type:d,size:Math.sqrt(f*f+e*e)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ja();a.advance();)switch(d=a.la(),d){case "stroke-color":c.strokeColor=h(a);break;case "fill-color":c.fillColor=h(a);break;default:console.warn("unrecognised font child: "+d)}a.pa();return c}function l(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.ja();a.advance();)switch(e=a.la(),e){case "rect":var g=a,l=c(Number(d.page)),e=l.V({x:g.J("x1")||0,y:g.J("y1")||0}),g=l.V({x:g.J("x2")||0,y:g.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,g.x,g.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;g={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.ja();e.advance();)switch(l=e.la(),l){case "color":g.color=
h(e);break;default:console.warn("unrecognised border child: "+l)}e.pa();d.border=g;break;case "background-color":d.backgroundColor=h(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;g={};for(e.ja();e.advance();)if(l=e.la(),"appearance"===l){var l=e.J("name"),k=e,m={};for(k.ja();k.advance();){var n=k.la();switch(n){case "Normal":m.Normal=k.cd();break;default:console.warn("unexpected appearance state: ",n)}}k.pa();g[l]=m}else console.warn("unexpected appearances child: "+
l);e.pa();d.appearances=g;break;case "extra":e=a;g=c;l={};for(e.ja();e.advance();)switch(k=e.la(),k){case "font":l.font=f(e,g(1));break;default:console.warn("unrecognised extra child: "+k)}e.pa();e=l;e.font&&(d.font=e.font);break;case "captions":g=a;e={};(l=g.J("Normal"))&&(e.Normal=l);(l=g.J("Rollover"))&&(e.Rollover=l);(g=g.J("Down"))&&(e.Down=g);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.pa();return d}function m(a){var b={value:a.J("value")};(a=a.J("display-value"))&&
(b.displayValue=a);return b}function n(c,d){var e=c.J("name"),g={type:c.J("type"),quadding:c.J("quadding")||"Left-justified",maxLen:c.J("max-len")||-1},h=c.J("flags");_.isString(h)&&(g.flags=h.split(" "));for(c.ja();c.advance();)switch(h=c.la(),h){case "actions":g.actions=b(c,["C","F","K","V"],d);break;case "default-value":h=c;h.ja();h.advance();var l=h.cd();h.pa();g.defaultValue=l;break;case "font":g.font=f(c,d);break;case "options":h=c;l=[];for(h.ja();h.advance();){var k=h.la();switch(k){case "option":l.push(m(h));
break;default:console.warn("unrecognised options child: "+k)}}h.pa();g.options=l;break;default:console.warn("unknown field child: "+h)}c.pa();return new a.Annotations.N.ba(e,g)}function k(b,c){switch(b.type){case "Tx":return new a.Annotations.Kh(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Dh(b,c):b.flags.get("Radio")?new a.Annotations.Eh(b,c):new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Gh(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function q(a,c){var d={number:a.J("number")};for(a.ja();a.advance();){var e=a.la();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.pa();return d}a.Ue=a.Ue||{};a.Ue.YC={parse:function(d,e,f,g){var h=[],m={};d.ja();var z=[],C={},A=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.la();switch(a){case "calculation-order":z=c(d);break;case "document-actions":C=b(d,
["Init","Open"],e);break;case "pages":a=[];for(d.ja();d.advance();)switch(f=d.la(),f){case "page":a.push(q(d,e));break;default:console.warn("unrecognised page child: "+f)}d.pa();A=a;break;case "field":a=n(d,e(1));m[a.name]=a;break;case "widget":f=l(d,e);(a=m[f.fieldName])?(a=k(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){d.pa();f({calculationOrder:z,
widgets:h,fields:m,documentActions:C,pages:A})},g)},qH:n,sH:l,rA:c}})(window);
(function(a){function g(a){var b=[];for(a.ja();a.advance();){var c=a.la();"ffield"===c?b.push(String(a.J("name"))):console.warn("unrecognised field list element: "+c)}a.pa();return b}function d(a,b){return b?"false"===a?!1:!0:"true"===a?!0:!1}function e(a,b){var c=a.la();switch(c){case "javascript":return{name:"JavaScript",javascript:a.cd()};case "uri":return{name:"URI",uri:a.J("uri")};case "goto":c=null;a.ja();if(a.advance()){var e=a.J("fit"),c={page:a.J("page"),fit:e};if("0"===c.page)console.warn("null page encountered in dest");
else{var f=b(Number(c.page));switch(e){case "Fit":case "FitB":break;case "FitH":case "FitBH":c.top=f.V({x:0,y:a.J("top")||0}).y;break;case "FitV":case "FitBV":c.left=f.V({x:a.J("left")||0,y:0}).x;break;case "FitR":e=f.V({x:a.J("left")||0,y:a.J("top")||0});f=f.V({x:a.J("right")||0,y:a.J("bottom")||0});f=new Annotations.Rect(e.x,e.y,f.x,f.y);c.top=f.y1;c.left=f.x1;c.bottom=f.y2;c.right=f.x2;break;case "XYZ":e=f.V({x:a.J("left")||0,y:a.J("top")||0});c.top=e.y;c.left=e.x;c.zoom=a.J("zoom")||0;break;default:console.warn("unknown dest fit: "+
e)}}c={name:"GoTo",dest:c}}else console.KJ("missing dest in GoTo action");a.pa();return c;case "submit-form":c={name:"SubmitForm",url:a.J("url"),format:a.J("format"),method:a.J("method")||"POST",exclude:d(a.J("exclude"),!1)};f=a.J("flags");c.flags=f?f.split(" "):[];for(a.ja();a.advance();)switch(f=a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised submit-form child: "+f)}a.pa();return c;case "reset-form":c={name:"ResetForm",exclude:d(a.J("exclude"),!1)};for(a.ja();a.advance();)switch(f=
a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised reset-form child: "+f)}a.pa();return c;case "hide":c={name:"Hide",hide:d(a.J("hide"),!0)};for(a.ja();a.advance();)switch(f=a.la(),f){case "fields":c.fields=g(a);break;default:console.warn("unrecognised hide child: "+f)}a.pa();return c;case "named":return{name:"Named",action:a.J("name")};default:console.warn("Encountered unexpected action type: "+c)}return null}function b(a,b,c){var d={};for(a.ja();a.advance();){var f=a.la();
switch(f){case "action":f=a.J("trigger");if(b?-1!==b.indexOf(f):1){d[f]=[];for(a.ja();a.advance();){var g=e(a,c);_.isNull(g)||d[f].push(g)}a.pa()}else console.warn("encountered unexpected trigger on field: "+f);break;default:console.warn("encountered unknown action child: "+f)}}a.pa();return d}function c(a){return"calculation-order"===a.la()?g(a):[]}function h(b){return new a.Annotations.Color(b.J("r")||0,b.J("g")||0,b.J("b")||0,b.J("a")||1)}function f(a,b){var c=a.J("name"),d=a.J("type")||"Type1",
e=a.J("size"),f=b.V({x:0,y:0}),g=b.V({x:Number(e),y:0}),e=f.x-g.x,f=f.y-g.y,c={name:c,type:d,size:Math.sqrt(e*e+f*f)||0,strokeColor:[0,0,0],fillColor:[0,0,0]};for(a.ja();a.advance();)switch(d=a.la(),d){case "stroke-color":c.strokeColor=h(a);break;case "fill-color":c.fillColor=h(a);break;default:console.warn("unrecognised font child: "+d)}a.pa();return c}function l(a,c){var d={border:{style:"Solid",width:1},backgroundColor:[],fieldName:a.J("field"),page:a.J("page"),index:a.J("index")||0,rotation:a.J("rotation")||
0,quadding:a.J("quadding")||"Left-justified",flags:[]},e=a.J("appearance");e&&(d.appearance=e);(e=a.J("flags"))&&(d.flags=e.split(" "));for(a.ja();a.advance();)switch(e=a.la(),e){case "rect":var g=a,l=c(Number(d.page)),e=l.V({x:g.J("x1")||0,y:g.J("y1")||0}),g=l.V({x:g.J("x2")||0,y:g.J("y2")||0}),e=new Annotations.Rect(e.x,e.y,g.x,g.y);e.normalize();d.rect={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2};break;case "border":e=a;g={style:e.J("style")||"Solid",width:e.J("width")||1,color:[0,0,0]};for(e.ja();e.advance();)switch(l=
e.la(),l){case "color":g.color=h(e);break;default:console.warn("unrecognised border child: "+l)}e.pa();d.border=g;break;case "background-color":d.backgroundColor=h(a);break;case "actions":d.actions=b(a,"E X D U Fo Bl PO PC PV PI".split(" "),c);break;case "appearances":e=a;g={};for(e.ja();e.advance();)if(l=e.la(),"aappearance"===l){var l=e.J("name"),k=e,m={};for(k.ja();k.advance();){var n=k.la();switch(n){case "Normal":m.Normal=k.cd();break;default:console.warn("unexpected appearance state: ",n)}}k.pa();
g[l]=m}else console.warn("unexpected appearances child: "+l);e.pa();d.appearances=g;break;case "extra":e=a;g=c;l={};for(e.ja();e.advance();)switch(k=e.la(),k){case "font":l.font=f(e,g(1));break;default:console.warn("unrecognised extra child: "+k)}e.pa();e=l;e.font&&(d.font=e.font);break;case "captions":g=a;e={};(l=g.J("Normal"))&&(e.Normal=l);(l=g.J("Rollover"))&&(e.Rollover=l);(g=g.J("Down"))&&(e.Down=g);d.captions=e;break;default:console.warn("unrecognised widget child: "+e)}a.pa();return d}function m(a){var b=
{value:a.J("value")};(a=a.J("display-value"))&&(b.displayValue=a);return b}function n(c,d){var e=c.J("name"),g={type:c.J("type"),maxLen:c.J("max-len")||-1},h=c.J("flags");_.isString(h)&&(g.flags=h.split(" "));for(c.ja();c.advance();)switch(h=c.la(),h){case "actions":g.actions=b(c,["C","F","K","V"],d);break;case "default-value":h=c;h.ja();h.advance();var l=h.cd();h.pa();g.defaultValue=l;break;case "font":g.font=f(c,d);break;case "options":h=c;l=[];for(h.ja();h.advance();){var k=h.la();switch(k){case "option":l.push(m(h));
break;default:console.warn("unrecognised options child: "+k)}}h.pa();g.options=l;break;default:console.warn("unknown field child: "+h)}c.pa();return new a.Annotations.N.ba(e,g)}function k(b,c){switch(b.type){case "Tx":return new a.Annotations.Kh(b,c);case "Ch":return b.flags.get("Combo")?new a.Annotations.zg(b,c):new a.Annotations.Cg(b,c);case "Btn":return b.flags.get("PushButton")?new a.Annotations.Dh(b,c):b.flags.get("Radio")?new a.Annotations.Eh(b,c):new a.Annotations.yg(b,c);case "Sig":return new a.Annotations.Gh(b,
c);default:console.warn("Unrecognised field type: "+b.type)}return null}function q(a,c){var d={number:a.J("number")};for(a.ja();a.advance();){var e=a.la();switch(e){case "actions":d.actions=b(a,["O","C"],c);break;default:console.warn("unrecognised page child: "+e)}}a.pa();return d}a.Ue=a.Ue||{};a.Ue.ZC={parse:function(d,e,f,g){var h=[],m={};d.ja();var z=[],C={},A=[];a.busyLoop(function(){var a,f;if(d.advance()){a=d.la();switch(a){case "calculation-order":z=c(d);break;case "document-actions":C=b(d,
["Init","Open"],e);break;case "pages":a=[];for(d.ja();d.advance();)switch(f=d.la(),f){case "page":a.push(q(d,e));break;default:console.warn("unrecognised page child: "+f)}d.pa();A=a;break;case "ffield":a=n(d,e(1));m[a.name]=a;break;case "widget":f=l(d,e);(a=m[f.fieldName])?(a=k(a,f),h.push(a)):console.warn("ignoring widget with no corresponding field data: "+f.fieldName);break;default:console.warn("Unknown element encountered in PDFInfo: "+a)}return!0}return!1},function(){d.pa();f({calculationOrder:z,
widgets:h,fields:m,documentActions:C,pages:A})},g)},QK:k,qH:n,sH:l,rA:c}})(window);
(function(a){a.Annotations=a.Annotations||{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.hb=a.Annotations.N.hb||{};a=a.Annotations.N.hb;a.Events={};var g=a.Events;g.Event=function(a){this.rc=!0;_.isObject(a)&&(_.isString(a.name)&&Object.defineProperty(this,"name",{value:a.name,enumerable:!0}),_.isString(a.type)&&Object.defineProperty(this,"type",{value:a.type,enumerable:!0}))};g.Yj=function(a){var b=String(a.value),c=a.change,d=b.slice(0,a.selStart),f=b.slice(a.selEnd);if(_.isObject(a.change)){var g=
a.selStart;a=a.selEnd;g===a&&("backspace"===c.type?d=b.slice(0,g-1):"delete"===c.type&&(f=b.slice(a+1)));c=""}return d+c+f};var d={Validate:function(a){g.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Calculate:function(a){g.Event.call(this,a);var b,c;_.isObject(a)&&(b=a.value,c=a.source);Object.defineProperties(this,{value:{value:b,writable:!0,enumerable:!0},source:{value:c,enumerable:!0}})},Format:function(a){g.Event.call(this,
a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,writable:!0,enumerable:!0})},Keystroke:function(a){g.Event.call(this,a);var b,c,d,f,l;_.isObject(a)&&(b=a.value,c=a.change,d=a.selStart,f=a.selEnd,l=a.willCommit);b="undefined"!==typeof b?b:"";c="undefined"!==typeof c||_.isString(c)?c:"";f="undefined"!==typeof f?f:b.length;Object.defineProperties(this,{value:{value:b,enumerable:!0},change:{value:c,writable:!0,enumerable:!0},selStart:{value:"undefined"!==typeof d?d:0,writable:!0,
enumerable:!0},selEnd:{value:f,writable:!0,enumerable:!0},willCommit:{value:l||!1,enumerable:!0}})},"Mouse Enter":function(a){g.Event.call(this,a)},"Mouse Leave":function(a){g.Event.call(this,a)},"Mouse Up":function(a){g.Event.call(this,a)},"Mouse Down":function(a){g.Event.call(this,a)},Focus:function(a){g.Event.call(this,a)},Blur:function(a){g.Event.call(this,a);var b;_.isObject(a)&&(b=a.value);Object.defineProperty(this,"value",{value:b,enumerable:!0})},Open:function(a){g.Event.call(this,a);var b;
_.isObject(a)&&(b=a.targetName);Object.defineProperty(this,"targetName",{value:b||"",enumerable:!0})},Close:function(a){g.Event.call(this,a)}};g.create=function(a,b){return d[a]?new d[a](b):null};g.ba={create:function(a,b,c){c=$.extend({name:a,type:"Field",value:b.Na()},c);return(a=g.create(a,c))?(Object.defineProperties(a,{target:{value:b,writable:!0,enumerable:!0},targetName:{value:b.name,enumerable:!0},modifier:{value:null,enumerable:!0},shift:{value:null,enumerable:!0}}),a):null}};g.Kv={create:function(a,
b,c){c=$.extend({name:a,type:"Doc",targetName:""},c);return(a=g.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};g.gl={create:function(a,b,c){c=$.extend({name:a,type:"Page"},c);return(a=g.create(a,c))?(Object.defineProperty(a,"target",{value:b,writable:!0,enumerable:!0}),a):null}};g.Sc={create:function(a,b){return g.create(a,b)}}})(window);
(function(a){function g(a){this.stringValue=a}function d(a,b,c){b=b||",";c=c||".";var d=a.split(c),f=d[0];"-"===a.charAt(0)&&(f=f.substr(1));for(var e=[];3<f.length;)e.push(f.substr(f.length-3)),f=f.substr(0,f.length-3);0<f.length&&e.push(f);f=e.reverse().join(b);"-"===a.charAt(0)&&(f="-"+f);d[0]=f;return d.join(c)}function e(a,b){return 0===b?/^-?\d*$/.test(a):(_.isUndefined(b)?/^-?\d*([\.,]\d*)?$/:new RegExp("^-?\\d*([\\.,]\\d{0,"+b.toString()+"})?$")).test(a)}function b(a){for(var b=[],c=[],d=
-1;-1!==(d=a.indexOf(".",d+1));)b.push(d);for(d=-1;-1!==(d=a.indexOf(",",d+1));)c.push(d);if(b.length&&c.length){if(b[b.length-1]<c[0])return!0}else if(c.length)for(a=a.length-4,b=c.length-1;0<=b;--b)if(c[b]!==a)return!0;return!1}function c(a){return 65<=a&&90>=a||97<=a&&122>=a}function h(a,b){switch(b){case 57:return 48<=a&&57>=a;case 65:return c(a);case 79:return c(a)||48<=a&&57>=a;case 88:return!0;default:return a===b}}function f(a){a="string"===typeof a?String(a).replace(",",b(a)?".":""):a;var c=
parseFloat(a);if(!e(a)||isNaN(c))c="Off"===a||_.isUndefined(a)||_.isNull(a)||""===a?0:1;return c}function l(a,b){var c=String(a);if(c.length<b)for(var d=b-c.length,f=0;f<d;++f)c="0"+c;return c}function m(a){_.isString(a)&&(a=a.replace(/\s+/g," "),a=a.replace(/[\/\.]/g,"-"));return a}function n(a){return a.replace(/(mmmm)|(mmm)|(:mm)|(mm)|(:m)|(m)|(dddd)|(ddd)|(dd)|(d)|(yyyy)|(yy)|(HH)|(H)|(hh)|(h)|(MM)|(M)|(ss)|(s)|(tt)|(t)/g,function(a){return{mmmm:"MMMM",mmm:"MMM",":mm":":mm",mm:"MM",":m":":m",
m:"M",dddd:"dddd",ddd:"ddd",dd:"DD",d:"D",yyyy:"YYYY",yy:"YY",HH:"HH",H:"H",hh:"hh",h:"h",MM:"mm",M:"m",ss:"ss",s:"s",tt:"A",t:"a"}[a]||""})}function k(a,b){if(!a)return null;var c=G.slice(0);b&&(b=n(b),b=m(b),c.push(b));a=m(a);c=K(a,c,!0);return c.isValid()?c:null}function q(a,b){return!a||null!==k(a,b)}function p(a,b){if(I[b]){a=m(a);var c=K(a,G,!0);if(c.isValid())return c.format(I[b])}return null}function r(a,b){var c=String(a).split(":");if(3<b||0>b||!a)return null;var d=0,f=0,e=0;c[0]&&(d=Number(c[0]));
c[1]&&(f=Number(c[1]));c[2]&&(e=Number(c[2]));if(23<d||59<f||59<e||_.isNaN(d)||_.isNaN(f)||_.isNaN(e))return null;var c=1===b||3===b,g;c?(g=12<=d&&24>d?"PM":"AM",d%=12,0===d&&(d=12)):d=l(d,2);f=l(f,2);e=l(e,2);d=d+":"+f+(2>b?"":":"+e);c&&(d+=" "+g);return d}function u(a,b){this.TD=b;this.am=!1;this.MG=a;a.eJ()}function w(a){return function(){console.log("stub: "+a+" called with",arguments)}}function v(a){var b=null;if(_.isArray(a))switch(a[0]){case "T":b=[];break;case "G":b=a.slice(1,2);break;case "RGB":b=
a.slice(1,4);break;case "CMYK":b=a.slice(1,5)}return b}function x(a,b){a.widgets.forEach(function(a){a.backgroundColor=b})}function z(a){this.Bx={};this.nx=a}function C(){var a=this;this.Ax={Doc:new z(function(){return"id"}),Field:new z(function(a){return a.name})};this.ol=0;this.Mn=[];this.GD={Doc:function(a){return y.Sv(a)},Color:function(a){return y.An(a)},Field:function(a){a.lh&&a.lh()&&(a=a.kb());return new y.Zk(a)},Event:function(b){var c={target:a.Di({Field:"Field",Page:"Doc",Doc:"Doc"}[b.type],
b.target)};Object.defineProperties(c,{value:{get:function(){return y.utils.toString(b.value)},set:function(a){b.value=a},enumerable:!0}});for(var d in b)b.hasOwnProperty(d)&&"target"!==d&&"value"!==d&&function(a){Object.defineProperty(c,a,{set:function(c){b[a]=c},get:function(){return b[a]},enumerable:!0})}(d);return c}}}function A(){C.call(this);this.zD=this.CF();a.wK=this.zD;for(var b in J)J.hasOwnProperty(b)&&(b in a||(a[b]=J[b]))}function D(){C.call(this);this.Xn=$("<iframe />");this.Xn.css({display:"none"});
this.Xn.appendTo("body");this.Hl=this.Xn[0].contentWindow;var a=this.Hl.document;a.open();a.write("<script>var event = {};\x3c/script>");a.write("<script>window.__add_action = function(__script){ return function(){(1,eval)(__script); } }\x3c/script>");a.close();this.Sh=!1;for(var b in J)J.hasOwnProperty(b)&&(this.Hl[b]=J[b])}a.Annotations=a.Annotations||{};a.Annotations.N=a.Annotations.N||{};a.Annotations.N.hb=a.Annotations.N.hb||{};var K=a.moment,y=a.Annotations.N.hb,G="M-D;M-D-YYYY;MM-DD-YY;MM-YY;D-MMM;D-MMM-YY;DD-MMM-YY;YYMM-DD;MMM-YY;MMMM-YY;MMM D, YYYY;MMMM D, YYYY;M-D-YY h:mm A;M-D-YY HH:mm;DD-MMM-YYYY".split(";"),
H="m/d;m/d/yy;mm/dd/yy;mm/yy;d-mmm;d-mmm-yy;dd-mmm-yy;yymm-dd;mmm-yy;mmmm-yy;mmm d, yyyy;mmmm d, yyyy;m/d/yy h:MM tt;m/d/yy HH:MM;dd-mmm-yyyy".split(";"),I={"m/d":"M/D","m/d/yy":"M/D/YYYY","mm/dd/yy":"MM/DD/YY","mm/dd/yyyy":"MM/DD/YYYY","mm/yy":"MM/YY","d-mmm":"D-MMM","d-mmm-yy":"D-MMM-YY","dd-mmm-yy":"DD-MMM-YY","yymm-dd":"YYMM-DD","mmm-yy":"MMM-YY","mmmm-yy":"MMMM-YY","mmm d, yyyy":"MMM D, YYYY","mmmm d, yyyy":"MMMM D, YYYY","m/d/yy h:MM tt":"M/D/YY h:mm A","m/d/yy HH:MM":"M/D/YY HH:mm","dd-mmm-yyyy":"DD-MMM-YYYY"};
y.utils={isNumber:e,kM:d,TL:f,SL:l,lL:p,FL:q,mL:r,toString:function(a){return _.isString(a)?a:_.isNumber(a)?String(a):""},qM:function(a){var b=a;e(a)&&""!==a&&(b=f(a));return b},AH:function(a,b){var c=K(b),d=n(a);return c.format(d)},BH:function(a){var b=Array.prototype.slice.call(arguments,1),c=0;return a.replace(/%(,\d+)?([+ 0#]+)?(\d+)?(\.\d+)?([dfsx]+)/g,function(a,f,e,g,h,l){a=0;g=".";var k=",";if(f)switch(f.slice(1)){case "0":k=",";g=".";break;case "1":k="";g=".";break;case "2":k=".";g=",";break;
case "3":k="",g=","}if(e)for(f=e.length-2,e=1;e<f;++e);h&&(a=h.slice(1));h=b[c];c++;f=String(h);switch(l){case "f":f=Number(h).toFixed(a).replace(".",g);f=d(f,k,g);break;case "d":f=Number(h).toFixed();break;case "x":f=Number(h).toString(16)}return f})},CH:function(a,b){for(var d="",f=0,g="",h=a.length,l=0;l<h;++l){var k=b,m=a[l],n="";switch(m){case "?":n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);f++;break;case "X":for(;f<k.length;){m=k.charCodeAt(f);
if(c(m)||48<=m&&57>=m){n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);f++;break}f++}break;case "A":for(;f<k.length;){if(c(k.charCodeAt(f))){n="upper"===g?n+k.charAt(f).toUpperCase():"lower"===g?n+k.charAt(f).toLowerCase():n+k.charAt(f);f++;break}f++}break;case "9":for(;f<k.length;){if(e(k.charAt(f))){n+=k.charAt(f);f++;break}f++}break;case "*":n="lower"===g?k.slice(f).toLowerCase():"upper"===g?k.slice(f).toUpperCase():k.slice(f);f=k.length-1;break;
case "\\":break;case ">":g="upper";break;case "<":g="lower";break;case "=":g="";break;default:n=m}d+=n}return d},Ev:function(b){var c=a.Annotations.N.hb.Events.Yj(B);if(b&&c){var d=c.length,f=b.length;if(B.willCommit&&d!==f&&0!==f)alert('The value entered does not match the format of the field = "'+b+'"'),B.rc=!1;else if(d&&f)if(d<=f)for(f=0;f<d;++f){if(!h(c.charCodeAt(f),b.charCodeAt(f))){B.rc=!1;alert('The value entered does not match the format of the field = "'+b+'"');break}}else alert('The value entered does not match the format of the field = "'+
b+'"'),B.rc=!1}},AFDate_KeystrokeEx:function(a){var b=String(B.value);b&&B.willCommit&&!q(b,a)&&(B.rc=!1,alert("Invalid Date/Time: Input should match format "+a))}};Object.getOwnPropertyNames(String.prototype).forEach(function(a){g.prototype[a]=function(){return this.stringValue[a].apply(this.stringValue,arguments)}});g.prototype.valueOf=function(){this.Pz||(this.Pz=f(this.stringValue));return this.Pz};u.prototype={terminate:function(){this.am||(this.am=!0,this.TD(),this.MG.jF())}};var B=null,L=null,
J={AFNumber_Format:function(a,b,c,g,h,l){c=(c=L.bd().oi().kb(B.target.name))?c.Na():null;e(c)&&null!==c&&""!==c&&(c=f(c),isNaN(c)||(c=c.toFixed(a),0===b?c=d(c):2===b&&(c=d(c),a=c.indexOf("."),c=c.split(",").join("."),0<=a&&(c=c.substr(0,a)+","+c.substr(a+1))),B.value=l?h+c:c+h,B.rc=!0))},AFPercent_Format:function(a,b){var c=B.value;e(c)&&(c=f(c),c=(100*c).toFixed(a),b&&(c=d(c)),B.value=c+"%",B.rc=!0)},AFDate_KeystrokeEx:y.utils.Tq,AFDate_Keystroke:function(a){a<H.length&&y.utils.Tq(H[a])},AFDate_FormatEx:function(a){a=
p(String(B.value),a);_.isNull(a)||(B.value=a,B.rc=!0)},AFDate_Format:function(a){var b=String(B.value);a<H.length&&(a=p(b,H[a]),_.isNull(a)||(B.value=a,B.rc=!0))},AFRange_Validate:function(a,b,c,d){var f=Number(B.value),f=(!a||f>=b)&&(!c||f<=d);if(!f){var e="Invalid value: must be";a&&(e+=" greater than or equal to "+b);a&&c&&(e+=" and");c&&(e+=" less than or equal to "+d);alert(e+".")}B.rc=f},AFTime_Format:function(a){B.value=r(B.value,a);B.rc=!0},AFTime_FormatEx:function(a){a=p(String(B.value),
a);_.isNull(a)||(B.value=a,B.rc=!0)},AFTime_Keystroke:function(a){switch(a){case 0:a="h:MM tt";break;case 1:a="h:MM tt";break;case 2:a="HH:MM:ss";break;case 3:a="h:MM:ss tt"}y.utils.Tq(a)},AFTime_KeyStrokeEx:y.utils.Tq,AFMakeNumber:function(a){return Number(a)},AFSimple_Calculate:function(a,b){var c={PRD:function(a,b){return a*b},SUM:function(a,b){return a+b},MIN:function(a,b){return b<a?b:a},MAX:function(a,b){return b>a?b:a}}[a];c&&("string"===typeof b&&(b=b.split(",")),B.value=b.map(function(a){a=
B.target.doc.getField(a).value;return f(a)}).reduce(c),B.rc=!0)},AFNumber_Keystroke:function(b){B.rc=e(a.Annotations.N.hb.Events.Yj(B),b)},AFPercent_Keystroke:function(b){B.rc=e(a.Annotations.N.hb.Events.Yj(B),b+2)},AFMergeChange:function(b){return a.Annotations.N.hb.Events.Yj(b)},AFParseDateEx:k,AFSpecial_Format:w("AFSpecial_Format"),AFSpecial_Keystroke:function(a){var b="";switch(a){case 0:b="99999";break;case 1:b="999999999";break;case 2:b="9999999999";break;case 3:b="999999999"}y.utils.Ev(b)},
AFSpecial_KeystrokeEx:y.utils.Ev,util:{printd:y.utils.AH,printf:y.utils.BH,printx:y.utils.CH},app:{beep:w("app.beep"),alert:function(a){window.alert(a)},setInterval:function(a,b){var c=L.getDocument().wl;a=c.Pj(a);var d=B,f=window.setInterval(function(){c.Ak(a,d,L)},b);return new u(c,function(){window.clearInterval(f)})},clearInterval:function(a){a.terminate()},setTimeOut:function(a,b){var c=L.getDocument().wl,d;a=c.Pj(a);var f=B,e=window.setTimeout(function(){c.Ak(a,f,L);d.terminate()},b);return d=
new u(c,function(){window.clearTimeout(e)})},clearTimeOut:function(a){a.terminate()},launchURL:w("app.laumchURL")},console:{clear:function(){console.clear()},println:function(a){console.log(a)}},alert:function(a){window.alert(a)},ADBE:null,color:{transparent:["T"],black:["G",0],white:["G",1],red:["RGB",1,0,0],green:["RGB",0,1,0],blue:["RGB",0,0,1],cyan:["CMYK",1,0,0,0],magenta:["CMYK",0,1,0,0],yellow:["CMYK",0,0,1,0],dkGray:["G",.25],gray:["G",.5],ltGray:["G",.75]},border:{s:"solid",b:"beveled",d:"dashed",
i:"inset",rM:"underline"},style:{ch:"check",IK:"cross",eL:"diamond",ci:"circle",mM:"start",lM:"square"},display:{visible:0,hidden:1,iH:2,jH:3}};y.Zk=function(a){this.ka=a};y.Zk.prototype={insertItemAt:function(a,b,c){_.isUndefined(b)&&(b=a);_.isUndefined(c)&&(c=0);_.isArray(a)&&(a=a[0]);_.isArray(b)&&(b=b[0]);b={displayValue:a,value:b};var d=this.ka.dg();c=-1===c?d.length-c:c;this.ka.Bo(b,c);"Ch"!==this.ka.type||this.ka.flags.get("Combo")||this.ka.mb(a)},getItemAt:function(a,b){b=_.isUndefined(b)?
!0:!!b;var c=this.ka.dg(),c=-1===a?c[c.length-1]:c[a];return b?c.value:c.displayValue},deleteItemAt:function(a){var b=this.ka.dg();if(_.isUndefined(a)){var c=this.ka.Na();b.forEach(function(b,d){b.value===c&&(a=d)});_.isUndefined(a)||(b.splice(a,1),0===a?this.ka.mb(b[b.length-1].value):this.ka.mb(b[a-1].value))}else b.splice(a,1)},clearItems:function(){this.ka.jd([]);this.ka.mb(null);this.ka.Mu()},setItems:function(a){for(var b=[],c=a.length,d=0;d<c;++d){var f=a[d];_.isString(f)?b.push({value:f}):
_.isArray(f)&&b.push({displayValue:f[0],value:f[1]?f[1]:f[0]})}this.ka.jd(b);this.ka.mb(b[0].value||null);this.ka.Mu()},setFocus:function(){var a;if(a="widgets"in this.ka?this.ka.widgets[0]:this.ka)this.ka.ni().Rl(a.PageNumber,a.X,a.Y),a.innerElement.trigger("focus")},isBoxChecked:function(a){return(a=this.ka.widgets[a])?a.appearance===a.cg()?1:0:0},checkThisBox:function(a,b){_.isUndefined(b)&&(b=!0);var c=this.ka.widgets[a];c&&(b?this.ka.mb(c.cg()):this.ka.Na()===c.cg()&&this.ka.mb("Off"),this.ka.Mu())},
buttonSetCaption:function(a){this.ka.widgets.forEach(function(b){b.captions.Normal=String(a);b.refresh()})},getArray:function(){var a=[],b=this.ka.ni().oa.hf;this.ka.yv({Bu:function(){},$p:function(){},Lm:function(c){a.push(new y.Zk(b.kb(c)))}},this.ka.TF());return a}};Object.defineProperties(y.Zk.prototype,{name:{get:function(){return this.ka.name},enumerable:!0},doc:{get:function(){return y.Sv(this.ka.ni())},enumerable:!0},value:{get:function(){var a=this.ka.Na();return"number"===typeof a?a:e(a)&&
""!==a?"0"===a?0:new g(a):a||""},set:function(a){this.ka.mb(a)},enumerable:!0},valueAsString:{get:function(){var a=this.ka.Na();return a?a.toString():""}},fillColor:{set:function(a){x(this.ka,v(a))},get:function(){return y.An(this.ka.widgets[0].backgroundColor)},enumerable:!0},textColor:{set:function(a){this.ka.font.fillColor=v(a)},get:function(){return y.An(this.ka.font.fillColor)},enumerable:!0},bgColor:{set:function(a){x(this.ka,v(a))},get:function(){return y.An(this.ka.widgets[0].backgroundColor)},
enumerable:!0},numItems:{get:function(){return(this.ka.dg()||[]).length},enumerable:!0},charLimit:{set:function(a){a=Number(a);_.isNaN(a)||(this.ka.maxLen=a)},get:function(){return this.ka.maxLen},enumerable:!0},hidden:{set:function(a){this.ka.me(!a)},get:function(){return this.ka.widgets[0].hidden},enumerable:!0},display:{set:function(a){a===J.display.visible||a===J.display.iH?this.ka.me(!0):a!==J.display.hidden&&a!==J.display.jH||this.ka.me(!1)},get:function(){return this.ka.widgets[0].hidden},
enumerable:!0}});z.prototype={get:function(a){a=this.nx(a);a=this.Bx[a];return _.isUndefined(a)?null:a},set:function(a){this.Bx[this.nx(a)]=a}};y.An=function(a){return a?0!==a.A?["RGB",a.R/255,a.G/255,a.B/255]:["T"]:["T"]};y.Sv=function(b){var c=b.bd().oi(),d={getField:function(a){return(a=c.kb(a))?new y.Zk(a):null},submitForm:function(c,d,f,e){_.isUndefined(d)&&(d=!0);(new a.Actions.Hh({url:c,format:d?"fdf":"xfdf",includeEmpty:!!f,fields:e||[]})).onTriggered(null,null,b)},resetForm:function(c){(new a.Actions.Fh({fields:c})).onTriggered(null,
null,b)},calculateNow:function(){c.Ko(null)}};Object.defineProperties(d,{calculate:{set:function(a){c.mv=!!a},get:function(){return c.mv},enumerable:!0},numPages:{get:function(){return b.wc()},enumerable:!0},pageNum:{get:function(){return b.mi()-1},set:function(a){b.xd(a+1)},enumerable:!0}});return d};C.prototype={Pj:function(){},Ak:function(){},Jc:function(){this.Mn.forEach(function(a){a()})},wv:function(a){return a},zv:function(a){return a},Nq:function(a){return a},MB:function(a){return a},NB:function(a){return a},
LB:function(a){return a},KB:function(a){return a},Pk:function(a){var b=null;if(_.isArray(a))b=this.KB(a);else if(_.isNull(a))b=null;else switch(typeof a){case "object":b=this.zv(a);break;case "function":b=this.Nq(a);break;case "number":b=this.MB(a);break;case "string":b=this.NB(a);break;case "boolean":b=this.LB(a);break;case "undefined":b=void 0;break;default:console.warn("unrecognised type: "+typeof a)}return b},wrap:function(a,b){var c=this.Ax[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}d=
this.Di(a,b);d=this.Pk(d);c&&c.set(d);return d},Di:function(a,b){var c=this.Ax[a];if(c){var d=c.get(b);if(!_.isNull(d))return d}if(d=this.GD[a])return d=d(b),c&&c.set(d),d;console.warn(a+" is not a valid normalisable PDFJS type",b);return{}},JJ:function(a){0<this.ol?this.Mn.push(a):a()},eJ:function(){this.ol+=1},jF:function(){--this.ol;if(0===this.ol){var a=this.Mn;this.Mn=[];a.forEach(function(a){a()})}},CF:function(){return this.zv($.extend({},J))}};y.iK=J;var M=eval;A.prototype=$.extend(Object.create(C.prototype),
{Jl:function(b){b=this.Di("Doc",b);for(var c=Object.keys(b),d=0;d<c.length;++d){var f=c[d];Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(b,f))}},Pj:function(a){return function(b){B=b;M("with(_PDFTRON_JS_API){"+a+"\n}");B=null}},Ak:function(b,c,d){a.event=c;this.Sh||(this.Jl(d),this.Sh=!0);var f=L;L=d;try{b(this.wrap("Event",c),this.wrap("Doc",d))}catch(e){console.warn("PDFJS error encountered: "+e+" "+b.Yz)}L=f}});(function(){C.call(this);this.Qf=continuum.OK();this.Sh=!1;for(var a=Object.keys(J),
b=0;b<a.length;++b)this.Qf.global.$v(a[b],this.Pk(J[a[b]]))}).prototype=$.extend(Object.create(C.prototype),{Pj:function(a){return continuum.PK(a)},Jl:function(a){a=this.Di("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c)this.Qf.global.$v(b[c],this.Pk(a[b[c]]))},Ak:function(a,b,c){this.Sh||(this.Jl(c),this.Sh=!0);b=this.Di("Event",b);c=this.Pk(b);this.Qf.global.$v("event",c);B=b;this.Qf.evaluate(a);B=null},wv:function(a){var b=this;if(_.isObject(a)){if(a.iE)return a.iE.map(function(a){return b.wv(a)});
console.warn("object argument: ",a)}return a},Nq:function(a){var b=this;return continuum.MK(function(){var c=Array.prototype.map.call(arguments,function(a){return b.wv(a)});return b.Pk(a.apply(null,c))})},MB:function(a){return this.Qf.evaluate(JSON.stringify(a))},NB:function(a){return this.Qf.evaluate(JSON.stringify(a))},LB:function(a){return this.Qf.evaluate(JSON.stringify(a))},KB:function(a){var b=this.Qf.evaluate("new Array()");console.warn("array:",b);return a},zv:function(a){for(var b=this.Qf.evaluate("Object.create(null)"),
c=Object.keys(a),d=c.length,f=0;f<d;++f){var e=c[f],g=Object.getOwnPropertyDescriptor(a,e),h={Enumerable:g.enumerable,Writeable:g.writeable};_.isUndefined(g.value)||(h.Value=this.Pk(g.value));_.isUndefined(g.set)||(h.Set=this.Nq(g.set));_.isUndefined(g.get)||(h.Get=this.Nq(g.get));b.eK(e,h)}return b}});D.prototype=$.extend(Object.create(C.prototype),{Pj:function(a){var b=this.Hl.__add_action(a);b.Yz=a;return b},Jl:function(a){a=this.Di("Doc",a);for(var b=Object.keys(a),c=0;c<b.length;++c){var d=b[c];
Object.defineProperty(this.Hl,d,Object.getOwnPropertyDescriptor(a,d))}},Jc:function(){C.prototype.Jc.call(this);this.Xn.remove()},Ak:function(a,b,c){this.Sh||(this.Jl(c),this.Sh=!0);var d=L;L=c;b=this.Di("Event",b);this.Hl.event=b;c=B;B=b;try{a()}catch(f){console.warn("PDFJS error encountered: ",f,a.Yz)}B=c;L=d}});y.aK=A;y.FE=function(){return new D}})(window);
(function(a){if(a&&a.Worker){var g=a.Worker;a.wg=a.wg||[];a.wg.qB||(a.wg.qB=function(){for(var d=a.wg.length-1;0<=d;d--)a.wg[d].terminate(),delete a.wg[d]});a.Worker.isFake||(a.Worker=function(d){d=new g(d);a.wg.push(d);return d},a.hC=function(a){return a instanceof g},a.Worker.isFake=!0)}})(window);window.addEventListener("unload",function(){window.wg&&window.wg.qB()});
(function(a){function g(){}function d(b){this.size=b;this.Hc=Array(this.size);for(b=0;b<this.size;b++)this.Hc[b]={ff:a.o.Ja.uj(1,1,1),Du:a.o.Ja.uj(1,1,1),Hs:null,Fi:[],Cp:!1}}function e(a){var b=a.width;a.width=1;a.width=b}var b={sr:"ViewportCanvas",Xv:"PageCanvas"};d.prototype={lp:function(a,b,c){b=c&&1<b?0===a?0:Math.floor((a+1)/b):Math.floor(a/b);c=null;for(var d=0;d<this.size;d++){if(this.Hc[d].Hs===b)return-1===this.Hc[d].Fi.indexOf(a)&&this.Hc[d].Fi.push(a),this.Hc[d].Cp=!0,this.Hc[d];this.Hc[d].Cp||
(c=this.Hc[d])}return c?(c.Hs=b,c.Fi.push(a),c.Cp=!0,c):null},tk:function(a){for(var b=0;b<this.size;b++){var c=this.Hc[b].Fi,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.ly(this.Hc[b]);break}}},Vm:function(){for(var a=0;a<this.size;a++)this.ly(this.Hc[a])},ly:function(a){a.Hs=null;a.Cp=!1;$(a.ff).removeAttr("style").removeClass();$(a.Du).removeAttr("style").removeClass();e(a.ff);a.ff.getContext("2d").clearRect(0,0,a.ff.width,a.ff.height);a.Fi=[]},hJ:function(a,b,c){a=this.lp(a,
c,this.Gp);_.isNull(b)&&(b=a.Du);a.Du=a.ff;a.ff=b}};g.prototype={Ui:!1,init:function(){var b=a.innerWidth,c=a.innerHeight;this.Hc=new d(3);this.Io=new d(3);this.Rd=this.uj(b,c,1);this.Qm=1},Dq:function(a,b){this.Qm=a;this.Gp=b},Ps:function(){var a=this.Rd.getContext("2d");a.restore();a.clearRect(0,0,this.Rd.width,this.Rd.height);this.Rd.getAttribute("style");this.Rd.removeAttribute("style")},tq:function(a,b){this.Hc.hJ(a,b,this.Qm)},tk:function(a){this.Hc.tk(a);this.Io.tk(a)},Vm:function(){this.Hc.Vm();
this.Io.Vm()},El:function(b,c,d,e){var g=$(b);c=Math.floor(c);d=Math.floor(d);var h=""===b.style.height||1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||1<Math.abs(parseInt(b.style.width,10)-c)||h)e=a.utils.getCanvasMultiplier(c,d,e),h=Math.floor(d*e),b.setAttribute("width",Math.floor(c*e)),b.setAttribute("height",h),g.css("width",c),g.css("height",d)},uj:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.El(d,a,b,c);return"undefined"===
typeof d.getContext("2d")?null:d},pD:function(a,b,c,d){var e=1,g=null,h=a;if(1>=a*c||1>=b*c)g=this.uj(1,1,1);var r=a/b;64E6<a*b&&(b=Math.sqrt(64E6/r),e=r*b/a,a=r*b);r=null;for("undefined"===typeof d&&(d=.25);null===g;){var r=this.uj(Math.ceil(a*e),Math.ceil(b*e),c,r),u=r.getContext("2d");u.fillStyle="white";u.fillRect(r.width-1,r.height-1,1,1);u=!(1>window.devicePixelRatio)&&(r.width<parseFloat(r.style.width)||r.height<parseFloat(r.style.height));if(null!==r&&0<this.vD(r)&&!u)g=r;else if(e-=d,0>=
e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+h/parseFloat(g.style.width)+")",$(g).css({transform:a,"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(g).css("position","absolute");g.getContext("2d").clearRect(g.width-1,g.height-1,1,1);return g},vD:function(a){return a.getContext("2d").getImageData(a.width-
1,a.height-1,1,1).data[3]},Ns:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},oz:function(b,c,d,e,g,h){if(b!==this.Rd)throw Error("Canvas drawing error");var p=this.Hc.lp(c,this.Qm,this.Gp);b=p.ff;this.El(b,parseFloat(this.Rd.style.width),parseFloat(this.Rd.style.height),d);p=p.Fi.sort(function(a,b){return a-b});c<=p[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier(h.width,h.height,d);d=a.Dc(d,e,h,g,!0,c);e=b.getContext("2d");
e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,h.width,h.height);e.restore();e.drawImage(this.Rd,0,0);this.Ps();return b},cn:function(b,c,d,e){var g=a.innerWidth,h=a.innerHeight;this.El(this.Rd,g,h,c);g=a.utils.getCanvasMultiplier(g,h,c);c=a.Dc(c,d,b,e,!0,g);d=this.Rd.getContext("2d");d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());return{canvas:this.Rd,
ctx:d,t:c}},Ol:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20"});d.addClass("hacc canvas"+b);return c.parentNode},BD:function(a,b,c,d){a=this.Io.lp(a,this.Qm,this.Gp).ff;this.El(a,b,c,d);return a},$g:function(b,c,d,e,g,h,p){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;h=b.getContext("2d");h.restore();h.save();var r=a.utils.getCanvasMultiplier(parseFloat(b.style.width),parseFloat(b.style.height),
d);if(1===p||3===p)c={width:c.height,height:c.width};d=a.Dc(d,(e+p||0)%4,c,g,!0,r);h.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(h.beginPath(),h.rect(0,0,c.width,c.height),h.clip());return b},Ho:function(b,c,d,g){var h=document.getElementById("pageContainer"+b);if(!h)return null;h=$(h).parent();if(0<h.find(".auxiliary").length)c=this.Io.lp(b,this.Qm,this.Gp),g=c.Fi.sort(function(a,b){return a-b}),b<=g[0]&&e(c.ff);else{var q=a.innerWidth,p=a.innerHeight,r=this.BD(b,q,
p,d);b=$(r);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});h.append(r);b=r.getContext("2d");d*=parseFloat(r.style.width)/q;q=a.utils.getCanvasMultiplier(q,p,d);c=a.Dc(d,g,c,null,!0,q);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return h[0]}},Gz:function(a){return $("#pageContainer"+a).parent()},$t:function(a){return $("#pageWidgetContainer"+a)}};var c=new g,h=new g;$.extend(h,{Ui:!0,init:function(){},Dq:function(){},Ps:function(){},tq:function(){},tk:function(){},
Vm:function(){},Ns:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},oz:function(a){return a},cn:function(b,c,d,e,g,h){e=!1;if(d===a.o.ra.ad||d===a.o.ra.Ld)e=!0;g=!_.isUndefined(h);var p,r;g?(p=(e?h.y2-h.y1:h.x2-h.x1)*c,r=(e?h.x2-h.x1:h.y2-h.y1)*c):(p=e?b.height*c:b.width*c,r=e?b.width*c:b.height*c);var u;e=this.uj(p,r,c);u=parseFloat(e.style.width);r=a.utils.getCanvasMultiplier(p,r,c);b=
a.Dc(u/p*c,d,g?h:b,{x:0,y:0},!0,r);c=e.getContext("2d");a.ut||(e.style.backgroundColor="white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,b.m_h,b.m_v);return{canvas:e,ctx:c,t:b}},Ol:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;$(c).find(".canvas"+b).remove();var d=a.hM,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},jx:function(a){return{width:a.x2-a.x1,height:a.y2-
a.y1}},Gx:function(b,c){var d=!1;if(c===a.o.ra.ad||c===a.o.ra.Ld)d=!0;return{width:d?b.height:b.width,height:d?b.width:b.height}},$g:function(b,c,d,e,g,h,p){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(h){var r=b[0],u=r.getContext("2d");u.restore();u.save();var r=a.utils.getCanvasMultiplier(parseFloat(r.style.width),parseFloat(r.style.height),d),w=this.Gx(this.jx(h),e),v=Math.round(w.width*d),w=Math.round(w.height*d),x=parseFloat(b.css("width")),z=parseFloat(b.css("height"));b.css({left:g.x,
top:g.y});(1<Math.abs(x-v)||1<Math.abs(z-w))&&b.attr({width:v*r,height:w*r}).css({width:v,height:w});if(h&&p){g=c.width;v=c.height;if(1===p||3===p)g=c.height,v=c.width;c=a.Dc(1,p,{width:g,height:v},null,!1).inverse();h=a.utils.normalizeRect(c.V({x:h.x1,y:h.y1}),c.V({x:h.x2,y:h.y2}))}d=a.Dc(d,(e+(p||0))%4,h,null,!0,r);u.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},Ho:function(b,c,d,e,g){b=document.getElementById("pageContainer"+b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var h;
g?(h=this.jx(g),g=h.width,h=h.height):(g=c.width,h=c.height);h=this.Gx({width:g,height:h},e);g=h.width*d;h=this.pD(g,h.height*d,d,.2);var p=$(h);p.addClass("auxiliary");p.css({"z-index":"30",position:"absolute"});b.prepend(h);b=h.getContext("2d");b.clearRect(0,0,h.width,h.height);c=a.Dc(parseFloat(h.style.width)/g*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},Gz:function(a){return $("#pageContainer"+a)},$t:function(a){return $("#pageWidgetContainer"+a)}});a.o.SC=function(d){if(d===b.sr)a.o.Ja=
c;else if(d===b.Xv)a.o.Ja=h;else throw Error("Invalid Canvas Manager type");a.o.Ja.init()};a.o.Uk=b;a.o.Ja=h;a.o.Ja.init()})(window);
(function(a){function g(b,c,g,f){for(var l=c.password||c.p,m=c.type.toUpperCase(),n=d.length,k,q=0;q<n;q++)d[q].done&&(k=d[q]);!k&&4>n&&(k={done:!1,worker:new Worker(a.o.hg()+"DecryptWorker.js"),callback:f},d[n]=k,k.worker.addEventListener("message",function(a){if(a.data.error)throw c.error&&c.error(a.data.error),Error(a.data.error);k.callback(a.data);0<e.length?(a=e[0],e.shift(),k.done=!1,k.callback=a.callback,k.worker.postMessage({data:a.data,password:a.password,partName:a.Ii,type:m})):(k.callback=
null,k.done=!0)}));k?(k.done=!1,k.callback=f,k.worker.postMessage({data:b,password:l,partName:g,type:m})):e.push({data:b,password:l,Ii:g,type:m,callback:f})}var d=[],e=[];a.o=a.o||{};a.o.Cf=a.o.Cf||{};a.o.Cf.decrypt=function(a,c,d,e){g(a,c,d,e)};a.o.Cf.Cy=function(b,c,d){var e=c.password||c.p;switch(c.type.toUpperCase()){case "AES":b=a.By(b,e,d);break;default:b=a.By(b,e,d)}if(b.error)throw c.error&&c.error(b.error),Error(b.error);return b}})(window);
(function(a){a.By=function(a,d,e){for(var b=[],c=0;16>c;++c){b[c]=c;c<d.length&&(b[c]|=d.charCodeAt(c));var h=e.length+c-16;0<=h&&(b[c]|=e.charCodeAt(h))}d=[];for(e=0;16>e;++e)d.push(a.charCodeAt(e));a=a.slice(16);b=forge.aes.startDecrypting(b,d);b.update(forge.util.createBuffer(a));return b.finish()?b.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){a.GetPageMatrix=a.Dc;a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.o.SI;a.CoreControls.getWorkerPath=a.o.hg;a.CoreControls.setAdvancedImageScaling=a.o.oI;a.CoreControls.setProgressiveTime=a.o.aB;a.CoreControls.preloadPDFWorker=a.o.zA;a.CoreControls.initPDFWorkerTransports=a.o.Oz;a.CoreControls.getDefaultPdfBackendType=a.o.yF;a.CoreControls.getCurrentBackendType=a.o.iz;a.CoreControls.resetWorker=a.o.NA;a.CoreControls.isDemoMode=a.o.DG;a.CoreControls.setEmscriptenHeapSize=
a.o.tI;a.CoreControls.setCustomFontURL=a.o.xq;a.XODText=XODText;a.XODText.ResultCode=XODText.vb;a.XODText.ResultCode.e_done=XODText.vb.Xg;a.XODText.ResultCode.e_page=XODText.vb.$o;a.XODText.ResultCode.e_found=XODText.vb.Sl;a.XODText.Quad=XODText.gb;a.XODText.Quad.prototype.getPoints=XODText.gb.prototype.nf;a.XODText.Quad.prototype.getNormalizedPoints=XODText.gb.prototype.OF;a.XODText.Matrix2D=XODText.Oa;a.XODText.Matrix2D.prototype.initMatrix=XODText.Oa.prototype.ym;a.XODText.Matrix2D.prototype.initCoordinates=
XODText.Oa.prototype.Xa;a.XODText.Matrix2D.prototype.mult=XODText.Oa.prototype.V;a.XODText.Point2D=XODText.fc;a.CoreControls.Encryption=a.o.Cf;a.CoreControls.Encryption.decrypt=a.o.Cf.decrypt;a.CoreControls.Encryption.decryptSynchronous=a.o.Cf.Cy;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.o.W.Ve;a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.o.W.Ve.prototype.uI;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=
a.o.W.Ve.prototype.Xu;a.CoreControls.PartRetrievers.CacheHinting=a.o.W.Ah;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=a.o.W.Ah.ir;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.o.W.Ah.Hv;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=a.o.W.Ah.mC;a.CoreControls.PartRetrievers.LocalPartRetriever=a.o.W.iC;a.CoreControls.PartRetrievers.HttpPartRetriever=a.o.W.al;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.o.W.Ve.prototype.oq;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=
a.o.W.Ve.prototype.request;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.o.W.br;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever=a.o.W.cr;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.setCustomHeaders=a.o.W.cr.prototype.Xu;a.CoreControls.PartRetrievers.ExternalPdfPartRetriever.prototype.getFileData=a.o.W.cr.prototype.kf;a.CoreControls.PartRetrievers.LocalPdfPartRetriever=a.o.W.jC;a.CoreControls.PartRetrievers.StreamingPartRetriever=a.o.W.hw;a.CoreControls.PartRetrievers.WebDBPartRetriever=
a.o.W.kl;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.o.W.PB;a.CoreControls.PartRetrievers.AzurePartRetriever=a.o.W.QB;a.CoreControls.PartRetrievers.IOSPartRetriever=a.o.W.bl;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=a.o.W.bl.Hu;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=a.o.W.bl.Gu;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.o.W.ll;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=a.o.W.ll.Hu;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=
a.o.W.ll.Gu;a.CoreControls.CanvasMode=a.o.Uk;a.CoreControls.CanvasMode.ViewportCanvas=a.o.Uk.sr;a.CoreControls.CanvasMode.PageCanvas=a.o.Uk.Xv;a.CoreControls.SetCanvasMode=a.o.SC;a.CoreControls.Bookmark=a.o.oe;a.CoreControls.Bookmark.prototype.getName=a.o.oe.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=a.o.oe.prototype.jG;a.CoreControls.Bookmark.prototype.getHPos=a.o.oe.prototype.EF;a.CoreControls.Bookmark.prototype.getPageNumber=a.o.oe.prototype.Hb;a.CoreControls.Bookmark.prototype.getURL=
a.o.oe.prototype.xp;a.CoreControls.Bookmark.prototype.getParent=a.o.oe.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=a.o.oe.prototype.gz;a.CoreControls.Bookmark.prototype.isValid=a.o.oe.prototype.isValid;a.CoreControls.Document=a.o.Document;a.CoreControls.Document.prototype.getBookmarks=a.o.Document.prototype.bm;a.CoreControls.Document.prototype.getLayers=a.o.Document.prototype.rL;a.CoreControls.Document.prototype.getLinks=a.o.Document.prototype.mp;a.CoreControls.Document.prototype.loadThumbnailAsync=
a.o.Document.prototype.lk;a.CoreControls.Document.prototype.includesThumbnails=a.o.Document.prototype.fk;a.CoreControls.Document.prototype.loadPageText=a.o.Document.prototype.qu;a.CoreControls.Document.prototype.refreshTextData=a.o.Document.prototype.QH;a.CoreControls.Document.prototype.getTextPosition=a.o.Document.prototype.Vt;a.CoreControls.Document.prototype.extractXFDF=a.o.Document.prototype.$l;a.CoreControls.Document.prototype.loadCanvasAsync=a.o.Document.prototype.lg;a.CoreControls.Document.prototype.pauseLoadCanvas=
a.o.Document.prototype.fq;a.CoreControls.Document.prototype.resumeLoadCanvas=a.o.Document.prototype.sq;a.CoreControls.Document.prototype.cancelLoadCanvas=a.o.Document.prototype.Vf;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.o.Document.prototype.Nj;a.CoreControls.Document.prototype.unloadCanvasResources=a.o.Document.prototype.hn;a.CoreControls.Document.prototype.getPageInfo=a.o.Document.prototype.Kc;a.CoreControls.Document.prototype.getPageCount=a.o.Document.prototype.wc;a.CoreControls.Document.prototype.getPDFCoordinates=
a.o.Document.prototype.rp;a.CoreControls.Document.prototype.getXODCoordinates=a.o.Document.prototype.Ap;a.CoreControls.Document.prototype.getViewerCoordinates=a.o.Document.prototype.Zt;a.CoreControls.Document.prototype.loadAsync=a.o.Document.prototype.nh;a.CoreControls.Document.prototype.unloadResources=a.o.Document.prototype.Ke;a.CoreControls.Document.prototype.initOfflineDB=a.o.Document.prototype.zm;a.CoreControls.Document.prototype.storeOffline=a.o.Document.prototype.Gq;a.CoreControls.Document.prototype.isDownloaded=
a.o.Document.prototype.ik;a.CoreControls.Document.prototype.getOfflineModeEnabled=a.o.Document.prototype.pp;a.CoreControls.Document.prototype.setOfflineModeEnabled=a.o.Document.prototype.Bq;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.o.Document.prototype.No;a.CoreControls.Document.prototype.getFileData=a.o.Document.prototype.kf;a.CoreControls.Document.prototype.onJSCompletion=a.o.Document.prototype.mH;a.CoreControls.Document.prototype.insertPages=a.o.Document.prototype.gk;a.CoreControls.Document.prototype.getPDFDoc=
a.o.Document.prototype.$j;a.CoreControls.Document.prototype.getLayersArray=a.o.Document.prototype.Zj;a.CoreControls.Document.prototype.setLayersArray=a.o.Document.prototype.zq;a.CoreControls.Document.prototype.setOverprintPreviewMode=a.o.Document.prototype.Cq;a.CoreControls.Document.prototype.extractPDFNetLayersContext=a.o.Document.prototype.Uj;a.CoreControls.Document.prototype.insertBlankPages=a.o.Document.prototype.Am;a.CoreControls.Document.prototype.removePages=a.o.Document.prototype.uk;a.CoreControls.Document.prototype.movePages=
a.o.Document.prototype.Jm;a.CoreControls.Document.prototype.rotatePages=a.o.Document.prototype.zk;a.CoreControls.Document.prototype.extractPages=a.o.Document.prototype.Vj;a.CoreControls.Document.prototype.cropPages=a.o.Document.prototype.Rj;a.CoreControls.Document.prototype.print=a.o.Document.prototype.print;a.CoreControls.PageRotation=a.o.ra;a.CoreControls.PageRotation.e_0=a.o.ra.xe;a.CoreControls.PageRotation.e_90=a.o.ra.ad;a.CoreControls.PageRotation.e_180=a.o.ra.ki;a.CoreControls.PageRotation.e_270=
a.o.ra.Ld;a.CoreControls.OverprintPreviewMode=a.o.Cn;a.CoreControls.OverprintPreviewMode.OFF=a.o.Cn.oC;a.CoreControls.OverprintPreviewMode.ON=a.o.Cn.pC;a.CoreControls.OverprintPreviewMode.PDFX_ON=a.o.Cn.DC;a.CoreControls.DocumentViewer=a.o.fa;a.CoreControls.DocumentViewer.prototype.loadAsync=a.o.fa.prototype.nh;a.CoreControls.DocumentViewer.prototype.dispose=a.o.fa.prototype.Jc;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.o.fa.prototype.Re.er;
a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.o.fa.prototype.Re.Ov;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.o.fa.prototype.Re.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.o.fa.prototype.WE;a.CoreControls.DocumentViewer.prototype.displayFirstPage=a.o.fa.prototype.VE;a.CoreControls.DocumentViewer.prototype.setCurrentPage=a.o.fa.prototype.xd;a.CoreControls.DocumentViewer.prototype.getCurrentPage=a.o.fa.prototype.mi;a.CoreControls.DocumentViewer.prototype.setRightToLeftPages=
a.o.fa.prototype.II;a.CoreControls.DocumentViewer.prototype.getRightToLeftPages=a.o.fa.prototype.Ut;a.CoreControls.DocumentViewer.prototype.getZoom=a.o.fa.prototype.ig;a.CoreControls.DocumentViewer.prototype.getPageCount=a.o.fa.prototype.wc;a.CoreControls.DocumentViewer.prototype.setFitMode=a.o.fa.prototype.Zu;a.CoreControls.DocumentViewer.prototype.getFitMode=a.o.fa.prototype.BF;a.CoreControls.DocumentViewer.prototype.zoomTo=a.o.fa.prototype.Dv;a.CoreControls.DocumentViewer.prototype.zoomToMouse=
a.o.fa.prototype.XJ;a.CoreControls.DocumentViewer.prototype.setToolMode=a.o.fa.prototype.OI;a.CoreControls.DocumentViewer.prototype.getToolMode=a.o.fa.prototype.fG;a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.o.fa.prototype.$H;a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.o.fa.prototype.aI;a.CoreControls.DocumentViewer.prototype.textSearchInit=a.o.fa.prototype.vB;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=
XODText.wb.Ky;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.wb.Ny;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.wb.nt;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=XODText.wb.My;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.wb.Ly;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.wb.Jy;a.CoreControls.DocumentViewer.prototype.displayBookmark=a.o.fa.prototype.UE;a.CoreControls.DocumentViewer.prototype.getDocument=
a.o.fa.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=a.o.fa.prototype.wp;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=a.o.fa.prototype.NI;a.CoreControls.DocumentViewer.prototype.displaySearchResult=a.o.fa.prototype.Hy;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.o.fa.prototype.hI;a.CoreControls.DocumentViewer.prototype.closeDocument=a.o.fa.prototype.py;a.CoreControls.DocumentViewer.prototype.setOptions=a.o.fa.prototype.jd;a.CoreControls.DocumentViewer.prototype.recalculateLayout=
a.o.fa.prototype.EA;a.CoreControls.DocumentViewer.prototype.refreshAll=a.o.fa.prototype.OH;a.CoreControls.DocumentViewer.prototype.refreshPage=a.o.fa.prototype.PH;a.CoreControls.DocumentViewer.prototype.printCurrentDocument=a.o.fa.prototype.bM;a.CoreControls.DocumentViewer.prototype.getRenderingPipeline=a.o.fa.prototype.bk;a.CoreControls.RenderingPipeline=a.o.lj;a.CoreControls.RenderingPipeline.PipelineManager=a.o.lj.hl;a.CoreControls.RenderingPipeline.PipelineManager.prototype.registerHandlers=a.o.lj.hl.prototype.Nu;
a.CoreControls.RenderingPipeline.PipelineManager.prototype.pushChange=a.o.lj.hl.prototype.je;a.CoreControls.RenderingPipeline.PipelineManager.prototype.hasPipeline=a.o.lj.hl.prototype.qG;a.CoreControls.SetCachingLevel=a.o.or;a.CoreControls.SetPreRenderLevel=a.o.dw;a.CoreControls.DocumentViewer.prototype.getMargin=a.o.fa.prototype.qz;a.CoreControls.DocumentViewer.prototype.setMargin=a.o.fa.prototype.zI;a.CoreControls.DocumentViewer.prototype.updateView=a.o.fa.prototype.Mk;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=
a.o.fa.prototype.Nk;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.o.fa.prototype.Jk;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.o.fa.prototype.Dq;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.o.fa.prototype.tq;a.CoreControls.DocumentViewer.prototype.drawSelection=a.o.fa.prototype.aF;a.CoreControls.DocumentViewer.prototype.clearSelection=a.o.fa.prototype.Ss;a.CoreControls.DocumentViewer.prototype.removeContent=a.o.fa.prototype.Li;a.CoreControls.DocumentViewer.prototype.select=
a.o.fa.prototype.select;a.CoreControls.DocumentViewer.prototype.getPageHeight=a.o.fa.prototype.Ob;a.CoreControls.DocumentViewer.prototype.getPageWidth=a.o.fa.prototype.Pb;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.o.fa.prototype.ev;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.o.fa.prototype.lb;a.CoreControls.DocumentViewer.prototype.getRotation=a.o.fa.prototype.zc;a.CoreControls.DocumentViewer.prototype.setRotation=a.o.fa.prototype.JI;a.CoreControls.DocumentViewer.prototype.getCompleteRotation=
a.o.fa.prototype.jf;a.CoreControls.DocumentViewer.prototype.getPageRotations=a.o.fa.prototype.SF;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.o.fa.prototype.DI;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.o.fa.prototype.bd;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.o.fa.prototype.xI;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=a.o.fa.prototype.dm;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.o.fa.prototype.jv;
a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.o.fa.prototype.bB;a.CoreControls.DisplayMode=a.o.nd;a.CoreControls.DisplayMode.prototype.setParameters=a.o.nd.prototype.FI;a.CoreControls.DisplayMode.prototype.isContinuous=a.o.nd.prototype.hu;a.CoreControls.DisplayMode.prototype.windowToPage=a.o.nd.prototype.Wi;a.CoreControls.DisplayMode.prototype.pageToWindow=a.o.nd.prototype.fd;a.CoreControls.DisplayMode.prototype.getSelectedPages=a.o.nd.prototype.vp;a.CoreControls.DisplayMode.prototype.getVisiblePages=
a.o.nd.prototype.Pd;a.CoreControls.DisplayMode.prototype.getPageTransform=a.o.nd.prototype.ak;a.CoreControls.DisplayMode.prototype.getPageOffset=a.o.nd.prototype.Qt;a.CoreControls.DisplayMode.prototype.createPageSections=a.o.nd.prototype.NK;a.CoreControls.DisplayMode.prototype.setCustomFunctions=a.o.nd.prototype.sI;a.CoreControls.DisplayModes=a.o.od;a.CoreControls.DisplayModes.Single=a.o.od.ew;a.CoreControls.DisplayModes.Continuous=a.o.od.Wk;a.CoreControls.DisplayModes.Facing=a.o.od.Mv;a.CoreControls.DisplayModes.FacingContinuous=
a.o.od.dr;a.CoreControls.DisplayModes.Cover=a.o.od.un;a.CoreControls.DisplayModes.CoverFacing=a.o.od.vn;a.CoreControls.DisplayModes.Custom=a.o.od.Af;a.CoreControls.DisplayModeManager=a.o.Xk;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.o.Xk.prototype.Yu;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=a.o.Xk.prototype.Gb;a.CoreControls.AnnotationManager=a.o.ga;a.CoreControls.AnnotationManager.prototype.addAnnotation=a.o.ga.prototype.Qg;a.CoreControls.AnnotationManager.prototype.addAnnotations=
a.o.ga.prototype.Jj;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.o.ga.prototype.hi;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=a.o.ga.prototype.bt;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.o.ga.prototype.Ck;a.CoreControls.AnnotationManager.prototype.selectAnnotations=a.o.ga.prototype.Tu;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.o.ga.prototype.Ql;a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.o.ga.prototype.Kd;
a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.o.ga.prototype.hk;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.o.ga.prototype.qf;a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.o.ga.prototype.yJ;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=a.o.ga.prototype.tH;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.o.ga.prototype.Ft;a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.o.ga.prototype.ac;
a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.o.ga.prototype.Bc;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.o.ga.prototype.Zo;a.CoreControls.AnnotationManager.prototype.updateAnnotation=a.o.ga.prototype.vJ;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.o.ga.prototype.NG;a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.o.ga.prototype.ih;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=a.o.ga.prototype.Zg;a.CoreControls.AnnotationManager.prototype.setNoteContents=
a.o.ga.prototype.cv;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.o.ga.prototype.Xj;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.o.ga.prototype.qI;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=a.o.ga.prototype.IF;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=a.o.ga.prototype.yI;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.o.ga.prototype.HI;a.CoreControls.AnnotationManager.prototype.getReadOnly=a.o.ga.prototype.Tt;a.CoreControls.AnnotationManager.prototype.canModify=
a.o.ga.prototype.qc;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.o.ga.prototype.GI;a.CoreControls.AnnotationManager.prototype.setSubmitFormActionCallback=a.o.ga.prototype.MI;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.o.ga.prototype.Dt;a.CoreControls.AnnotationManager.prototype.importAnnotCommand=a.o.ga.prototype.cu;a.CoreControls.AnnotationManager.prototype.exportAnnotations=a.o.ga.prototype.fF;a.CoreControls.AnnotationManager.prototype.importAnnotations=
a.o.ga.prototype.vG;a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.o.ga.prototype.du;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.o.ga.prototype.bv;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.o.ga.prototype.np;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=a.o.ga.prototype.qJ;a.CoreControls.AnnotationManager.prototype.getUseFilter=a.o.ga.prototype.zp;a.CoreControls.AnnotationManager.prototype.setUseFilter=a.o.ga.prototype.hv;a.CoreControls.AnnotationManager.prototype.filterAnnotations=
a.o.ga.prototype.iF;a.CoreControls.AnnotationManager.prototype.useDefaultStickyNotes=a.o.ga.prototype.vh;a.CoreControls.AnnotationManager.prototype.disableDefaultStickyNotes=a.o.ga.prototype.RE;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.o.ga.prototype.FB;a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.o.ga.prototype.SE;a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.o.ga.prototype.RH;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=
a.o.ga.prototype.QE;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.o.ga.prototype.YF;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.o.ga.prototype.rF;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.o.ga.prototype.Et;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.o.ga.prototype.Wj;a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.o.ga.prototype.om;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=
a.o.ga.prototype.sy;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.o.ga.prototype.tG;a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.o.ga.prototype.Kz;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.o.ga.prototype.YI;a.CoreControls.AnnotationManager.prototype.showAnnotations=a.o.ga.prototype.jB;a.CoreControls.AnnotationManager.prototype.getFieldManager=a.o.ga.prototype.oi;a.Actions=a.Actions;a.Actions.GoTo=a.Actions.Se;a.Actions.URI=a.Actions.qj;a.Actions.Named=
a.Actions.gj;a.Actions.JavaScript=a.Actions.dj;a.Actions.ResetForm=a.Actions.Fh;a.Actions.SubmitForm=a.Actions.Hh;a.Actions.Hide=a.Actions.cj;a.Annotations=a.Annotations;a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.Forms=a.Annotations.N;a.Annotations.Forms.FieldManager=a.Annotations.N.Yk;a.Annotations.Forms.FieldManager.prototype.getField=a.Annotations.N.Yk.prototype.kb;a.Annotations.Forms.Field=a.Annotations.N.ba;
a.Annotations.Forms.Field.prototype.getValue=a.Annotations.N.ba.prototype.Na;a.Annotations.Forms.Field.prototype.setValue=a.Annotations.N.ba.prototype.mb;a.Annotations.Forms.Field.prototype.setVisible=a.Annotations.N.ba.prototype.me;a.Annotations.Forms.Field.prototype.on=a.Annotations.N.ba.prototype.on;a.Annotations.Forms.Field.prototype.off=a.Annotations.N.ba.prototype.off;a.Annotations.Forms.Field.prototype.trigger=a.Annotations.N.ba.prototype.trigger;a.Annotations.HTMLAnnotation=a.Annotations.Ta;
a.Annotations.HTMLAnnotation.prototype.addAction=a.Annotations.Ta.prototype.ai;a.Annotations.HTMLAnnotation.prototype.getActions=a.Annotations.Ta.prototype.li;a.Annotations.HTMLAnnotation.prototype.triggerAction=a.Annotations.Ta.prototype.yd;a.Annotations.HTMLAnnotation.prototype.getInnerElement=a.Annotations.Ta.prototype.pz;a.Annotations.HTMLAnnotation.prototype.getElement=a.Annotations.Ta.prototype.kz;a.Annotations.WidgetAnnotation=a.Annotations.sa;a.Annotations.WidgetAnnotation.prototype.setValue=
a.Annotations.sa.prototype.mb;a.Annotations.WidgetAnnotation.prototype.getValue=a.Annotations.sa.prototype.Na;a.Annotations.WidgetAnnotation.prototype.addAction=a.Annotations.sa.prototype.ai;a.Annotations.WidgetAnnotation.prototype.getField=a.Annotations.sa.prototype.kb;a.Annotations.WidgetAnnotation.prototype.setField=a.Annotations.sa.prototype.XA;a.Annotations.WidgetAnnotation.prototype.on=a.Annotations.sa.prototype.on;a.Annotations.WidgetAnnotation.prototype.off=a.Annotations.sa.prototype.off;
a.Annotations.WidgetAnnotation.prototype.trigger=a.Annotations.sa.prototype.trigger;a.Annotations.TextWidgetAnnotation=a.Annotations.Kh;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.zg;a.Annotations.ListWidgetAnnotation=a.Annotations.Cg;a.Annotations.ButtonWidgetAnnotation=a.Annotations.Kb;a.Annotations.PushButtonWidgetAnnotation=a.Annotations.Dh;a.Annotations.CheckButtonWidgetAnnotation=a.Annotations.yg;a.Annotations.RadioButtonWidgetAnnotation=a.Annotations.Eh;a.Annotations.SignatureWidgetAnnotation=
a.Annotations.Gh;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=a.Annotations.Annotation.prototype.Hb;a.Annotations.Annotation.prototype.setPageNumber=a.Annotations.Annotation.prototype.YA;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.ti;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.TI;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.vi;a.Annotations.Annotation.prototype.setY=
a.Annotations.Annotation.prototype.UI;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.gh;a.Annotations.Annotation.prototype.getBottom=a.Annotations.Annotation.prototype.dz;a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.dh;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.Cz;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.xa;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.RI;
a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.ua;a.Annotations.Annotation.prototype.setHeight=a.Annotations.Annotation.prototype.av;a.Annotations.Annotation.prototype.getCustom=a.Annotations.Annotation.prototype.xF;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.rI;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;
a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.tg;a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.ee;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.Qi;
a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.ah;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.Fe;a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.nm;a.Annotations.Annotation.prototype.isWidget=a.Annotations.Annotation.prototype.lh;a.Annotations.Annotation.prototype.selectionModel=a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;
a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.gb;a.Annotations.Border=a.Annotations.Tk;a.Annotations.Font=a.Annotations.Df;a.Annotations.Rect=a.Annotations.Rect;a.Annotations.Rect.prototype.getWidth=a.Annotations.Rect.prototype.xa;a.Annotations.Rect.prototype.getHeight=a.Annotations.Rect.prototype.ua;a.Annotations.Rect.prototype.translate=a.Annotations.Rect.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.Rect.prototype.st;a.Annotations.Rect.prototype.normalize=
a.Annotations.Rect.prototype.normalize;a.Annotations.Link=a.Annotations.Sc;a.Annotations.PopupAnnotation=a.Annotations.Fg;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.Fg.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.Fg.prototype.Gk;a.Annotations.MarkupAnnotation=a.Annotations.ma;a.Annotations.MarkupAnnotation.prototype.setStyles=a.Annotations.ma.prototype.Cc;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.ma.prototype.selectionModel;
a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.ma.prototype.pf;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.ma.prototype.fv;a.Annotations.IPathAnnotation=a.Annotations.Rc;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.Rc.prototype.Eb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.Rc.prototype.le;a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.Rc.prototype.fg;a.Annotations.IPathAnnotation.prototype.popPath=
a.Annotations.Rc.prototype.sk;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.Rc.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.pd;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.pd.prototype.cB;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.pd.prototype.eG;a.Annotations.LineAnnotation.prototype.setEndPoint=a.Annotations.pd.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.pd.prototype.zF;a.Annotations.LineAnnotation.prototype.setStartStyle=
a.Annotations.pd.prototype.Si;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.pd.prototype.pm;a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.pd.prototype.WA;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.pd.prototype.nz;a.Annotations.RectangleAnnotation=a.Annotations.kj;a.Annotations.EllipseAnnotation=a.Annotations.$i;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.Eb;
a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.le;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.fg;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.sk;a.Annotations.FreeHandAnnotation.prototype.getPath=a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;
a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.si;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.Uc;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.Uc.prototype.gv;a.Annotations.TextHighlightAnnotation=a.Annotations.Hf;a.Annotations.TextUnderlineAnnotation=a.Annotations.pj;a.Annotations.TextStrikeoutAnnotation=
a.Annotations.Jh;a.Annotations.TextSquigglyAnnotation=a.Annotations.oj;a.Annotations.CaretAnnotation=a.Annotations.Vk;a.Annotations.StickyAnnotation=a.Annotations.Gf;a.Annotations.StampAnnotation=a.Annotations.mj;a.Annotations.PolylineAnnotation=a.Annotations.jj;a.Annotations.PolygonAnnotation=a.Annotations.Eg;a.Annotations.FreeTextAnnotation=a.Annotations.Ka;a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.Ka.prototype.vz;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.Ka.prototype.Hk;
a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.Ka.prototype.pi;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.Ka.prototype.Fk;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.Ka.prototype.Eb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.Ka.prototype.Si;a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.Ka.prototype.pm;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.Ka.Bd;a.Annotations.ControlHandle=
a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Td;a.Annotations.LineControlHandle=a.Annotations.ej;a.Annotations.PathControlHandle=a.Annotations.We;a.Annotations.TextControlHandle=a.Annotations.nj;a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=
a.Annotations.SelectionModel.prototype.Iq;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.wF;a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.qc;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;a.Annotations.SelectionModel.prototype.drawPopupTail=a.Annotations.SelectionModel.prototype.drawPopupTail;a.Annotations.BoxSelectionModel=a.Annotations.va;a.Annotations.LineSelectionModel=
a.Annotations.dl;a.Annotations.PathSelectionModel=a.Annotations.hj;a.Annotations.TextSelectionModel=a.Annotations.Ih;a.Annotations.XfdfUtils=a.Annotations.ea;a.Annotations.XfdfUtils.serializePoint=a.Annotations.ea.vq;a.Annotations.XfdfUtils.deserializePoint=a.Annotations.ea.vq;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.ea.Ek;a.Annotations.XfdfUtils.deserializePointArray=a.Annotations.ea.ji;a.Annotations.XfdfUtils.serializeRect=a.Annotations.ea.wq;a.Annotations.XfdfUtils.deserializeRect=
a.Annotations.ea.ft;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.ea.Vu;a.Annotations.XfdfUtils.deserializeFringeRect=a.Annotations.ea.Ey;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.ea.sv;a.Annotations.SelectionAlgorithm=a.Annotations.Vb;a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.Vb.Mj;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.Vb.Pl;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.Vb.uB;a.Tool=a.Tool;a.Tools=a.Ca;a.Tools.Tool=
a.Ca.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.Ca.Tool.prototype.ni;a.Tools.AnnotationSelectTool=a.Ca.AnnotationSelectTool;a.Tools.TextTool=a.Ca.Bb;a.Tools.GenericAnnotationCreateTool=a.Ca.nb;a.Tools.PanTool=a.Ca.jr;a.Tools.TextSelectTool=a.Ca.kw;a.Tools.AnnotationEditTool=a.Ca.Fv;a.Tools.LineCreateTool=a.Ca.cl;a.Tools.ArrowCreateTool=a.Ca.Gv;a.Tools.RectangleCreateTool=a.Ca.bw;a.Tools.EllipseCreateTool=a.Ca.Lv;a.Tools.FreeHandCreateTool=a.Ca.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.Ca.SignatureCreateTool;
a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=a.Ca.SignatureCreateTool.prototype.LI;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.Ca.SignatureCreateTool.prototype.zE;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=a.Ca.SignatureCreateTool.prototype.Nz;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.Ca.SignatureCreateTool.prototype.mG;a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.Ca.SignatureCreateTool.prototype.VD;a.Tools.SignatureCreateTool.prototype.openSignature=
a.Ca.SignatureCreateTool.prototype.nH;a.Tools.SignatureCreateTool.prototype.addSignature=a.Ca.SignatureCreateTool.prototype.Zx;a.Tools.SignatureCreateTool.prototype.isEmptySignature=a.Ca.SignatureCreateTool.prototype.Sz;a.Tools.StickyCreateTool=a.Ca.fw;a.Tools.TextAnnotationCreateTool=a.Ca.qd;a.Tools.TextHighlightCreateTool=a.Ca.jw;a.Tools.TextUnderlineCreateTool=a.Ca.ow;a.Tools.TextStrikeoutCreateTool=a.Ca.mw;a.Tools.TextSquigglyCreateTool=a.Ca.lw;a.Tools.PolylineCreateTool=a.Ca.il;a.Tools.PolygonCreateTool=
a.Ca.ij;a.Tools.PolygonCloudCreateTool=a.Ca.Dn;a.Tools.CalloutCreateTool=a.Ca.Xq;a.Tools.FreeTextCreateTool=a.Ca.Pv})(window);
(function(){function a(a,e,b){function c(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function h(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function f(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function l(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function m(a,b,c){return{r:.299*a+.587*b+.114*c,g:-.1687*a-.3313*b+.5*c,b:.5*a-.4187*b-.0813*c}}function n(a,b,c){return{r:a+1.402*c,g:a-.3441*b-.7141*c,b:a+1.772*b}}function k(a,
b,c){a=m(a,b,c);return{fe:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),HB:a.r}}function q(a,b,c){return n(c,b*Math.sin(a),b*Math.cos(a))}var p={},r;for(r in g)g.hasOwnProperty(r)&&(p[r]=b&&b[r]||g[r]);"auto"==p.width&&(p.width=this.canvas.width);"auto"==p.height&&(p.height=this.canvas.height);p.width=Math.min(p.width,this.canvas.width-p.lB,a.canvas.width-p.x);p.height=Math.min(p.height,this.canvas.height-p.mB,a.canvas.height-p.y);r=this.getImageData(p.lB,p.mB,p.width,p.height);b=a.getImageData(p.x,
p.y,p.width,p.height);r=r.data;for(var u=b.data,w,v,x=u.length,z,C,A,D,K,y,G,H,I,B,L,J,M,P,F=0;F<x;F+=4)if(w=r[F+3]/255,v=u[F+3]/255,G=w+v-w*v,u[F+3]=255*G,0!=w)if(0==v)u[F]=r[F],u[F+1]=r[F+1],u[F+2]=r[F+2];else{H=u[F];I=u[F+1];B=u[F+2];L=r[F];J=r[F+1];M=r[F+2];z=L/255*w;D=H/255*v;C=J/255*w;K=I/255*v;A=M/255*w;y=B/255*v;P=255/G;G=v*w;var O=v-G,Q=w-G;switch(e){case "normal":case "src-over":u[F]=(z+D-D*w)*P;u[F+1]=(C+K-K*w)*P;u[F+2]=(A+y-y*w)*P;break;case "screen":u[F]=(z+D-z*D)*P;u[F+1]=(C+K-C*K)*
P;u[F+2]=(A+y-A*y)*P;break;case "multiply":u[F]=(z*D+z*(1-v)+D*(1-w))*P;u[F+1]=(C*K+C*(1-v)+K*(1-w))*P;u[F+2]=(A*y+A*(1-v)+y*(1-w))*P;break;case "difference":u[F]=(z+D-2*Math.min(z*v,D*w))*P;u[F+1]=(C+K-2*Math.min(C*v,K*w))*P;u[F+2]=(A+y-2*Math.min(A*v,y*w))*P;break;case "src-in":G=w*v;P=255/G;u[F]=z*v*P;u[F+1]=C*v*P;u[F+2]=A*v*P;u[F+3]=255*G;break;case "plus":case "add":u[F]=Math.min(z+D,1)*P;u[F+1]=Math.min(C+K,1)*P;u[F+2]=Math.min(A+y,1)*P;break;case "overlay":u[F]=G*h(H,L)+O*H+Q*L;u[F+1]=G*h(I,
J)+O*I+Q*J;u[F+2]=G*h(B,M)+O*B+Q*M;break;case "hard-light":u[F]=G*h(L,H)+O*H+Q*L;u[F+1]=G*h(J,I)+O*I+Q*J;u[F+2]=G*h(M,B)+O*B+Q*M;break;case "color-dodge":case "dodge":u[F]=G*f(H,L)+O*H+Q*L;u[F+1]=G*f(I,J)+O*I+Q*J;u[F+2]=G*f(B,M)+O*B+Q*M;break;case "color-burn":case "burn":u[F]=G*l(H,L)+O*H+Q*L;u[F+1]=G*l(I,J)+O*I+Q*J;u[F+2]=G*l(B,M)+O*B+Q*M;break;case "darken":case "darker":u[F]=G*(H<L?H:L)+O*H+Q*L;u[F+1]=G*(I<J?I:J)+O*I+Q*J;u[F+2]=G*(B<M?B:M)+O*B+Q*M;break;case "lighten":case "lighter":u[F]=(z<D?
D:z)*P;u[F+1]=(C<K?K:C)*P;u[F+2]=(A<y?y:A)*P;break;case "exclusion":u[F]=(D+z-2*D*z)*P;u[F+1]=(K+C-2*K*C)*P;u[F+2]=(y+A-2*y*A)*P;break;case "soft-light":u[F]=G*c(H,L)+O*H+Q*L;u[F+1]=G*c(I,J)+O*I+Q*J;u[F+2]=G*c(B,M)+O*B+Q*M;break;case "luminosity":w=m(H,I,B);v=m(L,J,M);w=n(v.r,w.g,w.b);u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;break;case "color":w=m(H,I,B);v=m(L,J,M);w=n(w.r,v.g,v.b);u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;break;case "hue":w=k(H,I,B);v=k(L,J,
M);w=q(v.fe,w.s,w.HB);u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;break;case "saturation":w=k(H,I,B);v=k(L,J,M);w=q(w.fe,v.s,w.HB);u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;break;case "lighter-color":w=0<2.623*(H-L)+5.15*(I-J)+B-M?{r:H,g:I,b:B}:{r:L,g:J,b:M};u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;break;case "darker-color":w=0>2.623*(H-L)+5.15*(I-J)+B-M?{r:H,g:I,b:B}:{r:L,g:J,b:M};u[F]=G*w.r+O*H+Q*L;u[F+1]=G*w.g+O*I+Q*J;u[F+2]=G*w.b+O*B+Q*M;
break;default:H=F/4%this.canvas.width,I=Math.floor(F/4/this.canvas.width),H=4>H%8&&4>I%8||3<H%8&&3<I%8,u[F]=u[F+3]=255,u[F+1]=H?255:0,u[F+2]=H?0:255}}a.putImageData(b,p.x,p.y)}var g={x:0,y:0,lB:0,mB:0,width:"auto",height:"auto"};(function(d){if(!d||"function"!==typeof d.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(d,"bO",{value:a});for(var e=a.pM="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
b=a.supports={},c=e.length;c--;)b[e[c]]=!0;a.AK={"src-over":"normal",Tm:"add",fL:"colordodge",CK:"colorburn",$K:"darken",IL:"lighten"};return d})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();
(function(a){var g=a._trnDebugMode;"undefined"===typeof a.utils&&(a.utils={warn:function(a){g&&console.warn(a)},log:function(a){g&&console.log(a)},error:function(a){g&&console.error(a);throw Error(a);}});a.info=function(d){a.utils.log(d)};a.warn=function(d){a.utils.warn(d)};a.error=function(d){a.utils.error(d)}})("undefined"===typeof window?this:window);("undefined"===typeof window?this:window).iL=0;var Y={};
(function(a){a.Rv=function(g,d){this.name=g;this.Yf=d;this.pE=1;this.Um=!0;var e=this.ei={},b=this.Rx={},c={};this.Wp=null;var h=this,f=!1;b.console_log=[function(a){console.log(a)}];b.console_error=[function(b){a.utils.error(b)}];b.workerLoaded=[function(){}];b.worker_restart=[function(b){var c=d,e=Y[c];setTimeout(function(){c.removeEventListener("message",e);c.terminate();c=null},5E3);h.mk=new Worker(b.location);h.Ti={Wm:[],queue:[],postMessage:function(a,b){this.queue[this.queue.length]={gH:a,
rJ:b}}};console.warn("Worker Resize required. Note that changes to PDF documents may be lost.");a.utils.log("I resize "+b.size);h.Yf=d=h.Ti;Y[h.mk]=e;h.mk.addEventListener("message",e);c.onerror&&(h.mk.onerror=h.Ti.onerror=c.onerror);h.yu=b.queue;b.queue=null;b.array=new Uint8Array([this.Um?255:0]);f||(h.replace("test",function(){h.Yf=d=h.mk;for(var a=0;a<h.yu.length;++a){var b=h.yu[a];h.postMessage(b)}for(a=0;a<h.Ti.Wm.length;++a)b=h.Ti.Wm[a],h.postMessage(b);for(a=0;a<h.Ti.queue.length;++a)b=h.Ti.queue[a],
h.Yf.postMessage(b.gH,b.rJ);h.yu=null;h.Ti=null;h.mk=null}),f=!0);h.mk.postMessage({action:"test",data:b})}];b.redirect_request=[function(b){d.Wm?d.Wm[d.Wm.length]=b:(a.utils.log("Redirect Request needed to be posted."),h.postMessage(b))}];d in Y&&d.removeEventListener("message",Y[d]);Y[d]=function(d){function f(a){if(a.message||a.eF){a.message&&a.message.message&&(a.message=a.message.message);var b=a.eF;a={type:a.type?a.type:"JavascriptError",message:a.message};if(b)for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c])}h.postMessage({isReply:!0,callbackId:g.hy,error:a})}var g=d.data;if(g.isReply)if(d=g.callbackId,d in e){var k=e[d];delete e[d];"error"in g?k.reject(g.error):k.resolve(g.data)}else a.utils.warn("Cannot resolve callback "+d);else if(g.action in b){var q=b[g.action];g.callbackId?Promise.resolve().then(function(){return q[0].call(q[1],g.data)}).then(function(a){h.postMessage({isReply:!0,callbackId:g.callbackId,data:a})},function(a){f(a)}):q[0].call(q[1],g.data)}else g.action in c?(q=c[g.action],
d=createPromiseCapability(),g.callbackId?d.promise.then(function(a){h.postMessage({isReply:!0,callbackId:g.callbackId,data:a});h.Wp()},function(a){f(a);h.Wp()}):d.promise.then(function(){h.Wp()},function(){h.Wp()}),q[0].call(q[1],g,d)):a.utils.error("Unknown action from worker: "+g.action)};d.addEventListener("message",Y[d])};a.Rv.prototype={on:function(g,d,e){var b=this.Rx;b[g]&&a.utils.error('There is already an actionName called "'+g+'"');b[g]=[d,e]},replace:function(a,d,e){this.Rx[a]=[d,e]},send:function(a,
d){this.postMessage({action:a,data:d})},im:function(){return this.pE++},Ya:function(a,d,e){var b=this.im();a={action:a,data:d,callbackId:b,priority:e};d=createPromiseCapability();this.ei[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return d.promise},uq:function(a,d,e){var b=this.im();a={action:a,data:d,callbackId:b,priority:e};d=createPromiseCapability();this.ei[b]=d;try{this.postMessage(a)}catch(c){d.reject(c)}return{promise:d.promise,hy:b}},St:function(g){if(g in this.ei)return this.ei[g];
a.utils.error("Cannot get promise for callback "+g)},sE:function(g){if(g in this.ei){var d=this.ei[g];delete this.ei[g];d.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:g}})}else a.utils.warn("Cannot cancel callback "+g)},postMessage:function(a){if(this.Um){var d=this.gG(a);this.Yf.postMessage(a,d)}else this.Yf.postMessage(a)},sz:function(a,d){if("object"===typeof a)if(a instanceof Uint8Array)d.push(a.buffer);else if(a instanceof
ArrayBuffer)d.push(a);else for(prop in a)a.hasOwnProperty(prop)&&this.sz(a[prop],d)},gG:function(a){var d=[];this.sz(a,d);return 0==d.length?void 0:d}}})("undefined"===typeof window?this:window);
var Z=this,aa=function(){function a(a,d,e){var b=this;this.AA=null;this.ph=[];this.Xl={};createPromiseCapability();this.LJ=new Promise(function(c,h){if("undefined"!==typeof Worker)try{var f=new Z.Rv("main",a);f.Um=d;b.ya=f;f.on("test",function(a){a&&a.supportTypedArray?(a.supportTransfers||(f.Um=!1),b.WI(f),c()):h(new Z.ur("Typed arrays are not supported. Can't start a worker.","error.WorkerInitError"))}.bind(b));var l={array:new Uint8Array([255])};try{e&&(l.size=e),f.send("test",l)}catch(m){info("Cannot use postMessage transfers"),
f.Um=!1,l.array[0]=0,f.send("test",l)}return}catch(m){h(new Z.ur("The worker has been disabled. This may be the result of using PNaCl on an unsupported browser.","error.PNaClSupportError"))}h(new Z.ur("Can't start a worker","error.WorkerInitError"))})}a.prototype={vk:0,kJ:1,Pc:2,kh:3,WI:function(a){this.ya=a;a.on("GetDoc",function(a){var e=a.uH;this.numPages=a.uH.numPages;a=new PDFDocumentProxy(e,this);this.resolve(a)},this);a.on("DocProgress",function(a){this.AA&&this.AA({loaded:a.loaded,total:a.total})},
this);a.on("PageError",function(a){var e=this.ph[a.pageNum-1].yL[a.intent];e.XE?e.XE.reject(a.error):error(a.error)},this);a.on("event",function(a){if(this.Xl[a.docId])this.Xl[a.docId](a)},this)},addEventListener:function(a,d){this.Xl[a]?error("Event listener already set for "+a):this.Xl[a]=d},wE:function(a){delete this.Xl[a]},gF:function(a,d,e){return this.ya.Ya("NewDoc",{type:a,value:d,extension:e},this.kh)},TG:function(a,d){var e={array:a,workerPath:Z.o.hg()};d&&(e.l=d);return this.ya.Ya("LoadRes",
e,this.kh)},UG:function(a,d){var e={path:a};d&&(e.l=d);return this.ya.Ya("LoadResFromPath",e,this.kh)},tF:function(a,d,e,b,c,h,f,l){return"undefined"===typeof l?this.ya.uq("GetCanvas",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:h,overprintMode:f},this.vk):this.ya.uq("GetCanvasPartial",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:h,bbox:[l.x1,l.y1,l.x2,l.y2],overprintMode:f},this.vk)},uF:function(a,d,e,b,c,h,f,l,m){return"undefined"===typeof l?this.ya.uq("GetCanvas",{docId:a,
pageIndex:d,width:e,height:b,rotation:c,layers:h,filePath:m,overprintMode:f},this.vk):this.ya.uq("GetCanvasPartial",{docId:a,pageIndex:d,width:e,height:b,rotation:c,layers:h,bbox:[l.x1,l.y1,l.x2,l.y2],filePath:m,overprintMode:f},this.vk)},fz:function(a,d){return"undefined"!=typeof d?this.ya.Ya("GetCanvasProgressive",{callbackId:a,filePath:d},this.vk):this.ya.Ya("GetCanvasProgressive",{callbackId:a},this.vk)},ge:function(a,d){return this.ya.Ya("LoadText",{docId:a,pageIndex:d},this.kJ)},QG:function(a){return this.ya.Ya("LoadBookmarks",
{docId:a},this.kh)},aA:function(a,d){var e={docId:a};d&&(e.pages=d);return this.ya.Ya("LoadAnnotations",e,this.kh)},Im:function(a,d){return this.ya.Ya("MergeXFDF",{docId:a,xfdf:d},this.Pc)},dI:function(a,d,e,b){return this.ya.Ya("SaveDoc",{docId:a,xfdfString:d,finishedWithDocument:e,printDocument:b},this.Pc)},eI:function(a,d,e){return this.ya.Ya("SaveDocAs",{docId:a,filePath:d,xfdfString:e},this.Pc)},BJ:function(a,d){return this.ya.Ya("UpdatePassword",{docId:a,password:d},this.kh)},Am:function(a,
d,e,b){return this.ya.Ya("InsertBlankPages",{docId:a,width:e,height:b,pageArray:d},this.Pc)},gk:function(a,d,e,b,c){return this.ya.Ya("InsertPages",{docId:a,doc:d,pageArray:e,destPos:b,insertBookmarks:c},this.Pc)},Jm:function(a,d,e){return this.ya.Ya("MovePages",{docId:a,pageArray:d,destPos:e},this.Pc)},uk:function(a,d){return this.ya.Ya("RemovePages",{docId:a,pageArray:d},this.Pc)},zk:function(a,d,e){return this.ya.Ya("RotatePages",{docId:a,pageArray:d,rotation:e},this.Pc)},$j:function(a){return this.ya.Ya("GetPDFDoc",
{docId:a},this.Pc)},Vj:function(a,d,e){return this.ya.Ya("ExtractPages",{docId:a,pageArray:d,xfdfString:e},this.Pc)},Rj:function(a,d,e,b,c,h){return this.ya.Ya("CropPages",{docId:a,pageArray:d,topMargin:e,botMargin:b,leftMargin:c,rightMargin:h},this.Pc)},Oi:function(a,d){return this.ya.Ya("DownloaderHint",{docId:a,hint:d},this.Pc)},EG:function(a){return this.ya.Ya("IsLinearized",{docId:a},this.Pc)},Zj:function(a){return this.ya.Ya("GetLayers",{docId:a},this.Pc)},Uj:function(a,d){return this.ya.Ya("ExtractPDFNetLayersContext",
{docId:a,layers:d},this.Pc)},im:function(){return this.ya.im()},NE:function(a){return this.ya.Ya("DeleteDocument",{docId:a},this.Pc)},Wu:function(a){return this.ya.Ya("SetColorManagement",{value:a},this.kh)},xq:function(a){return this.ya.Ya("SetCustomFontURL",{fontURL:a},this.kh)},getWorkerType:function(){return this.ya.Yf&&"function"===typeof this.ya.Yf.getWorkerType?this.ya.Yf.getWorkerType():Z.hC(this.ya.Yf)?"ems":"pnacl"},sendWithPromise:function(a,d,e){return this.ya.Ya(a,d,e)},Fs:function(a){this.ya.sE(a)}};
return a}();
(function(a){function g(){var a=document.createElement("embed");a.type="application/pdf";a.style.position="fixed";a.style.width="9px";a.style.height="9px";a.style.top="-9990px;";a.style.left="-999px";return a}function d(a,c){for(var d=!1,e=0,g=navigator.plugins;e<g.length;++e){var m=g[e].name;if("Chrome PDF Viewer"===m||"Chromium PDF Viewer"===m){d=!0;break}}d?a():c()}var e;a.isPDFiumSupported=function(){e||(e=new Promise(function(a){d(function(){a(!0)},function(){a(!1)})}));return e};a.pdfiumPrint=
function(a){var c={Tj:null,gq:"",handleEvent:function(){var a=c;window.removeEventListener("focus",a);a.Tj&&a.Tj.remove();a.gq&&URL.revokeObjectURL(a.gq)}};c.gq=URL.createObjectURL(a);c.Tj=g();c.Tj.src=c.gq;c.Tj.addEventListener("message",function(){console.log("I actually got a message")});document.body.appendChild(c.Tj);window.addEventListener("focus",c)}})(window);
